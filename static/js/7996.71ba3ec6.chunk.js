"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[7996],{67996:(s,e,t)=>{t.r(e),t.d(e,{default:()=>m});var a=t(9950),l=t(17595),o=t(97937),r=t(77941),n=t(54810),i=t(28981),d=t(52867),c=t(77314),h=t(1391),u=t(9638),v=t(44414);class p extends a.Component{constructor(){super(...arguments),this.state={accountPassword:null,passwordError:null,accountRePassword:null,passwordReError:null,success:!1,strength:0,btnLoader:!1,visiblePass:!1,reVisiblePass:!1,successError:!1,strongPass:!0},this.onPasswordReTextChange=s=>{this.setState({accountRePassword:s.target.value},(()=>{this.state.accountPassword!=this.state.accountRePassword?this.setState({passwordReError:!0}):this.setState({passwordReError:!1})}))},this.onClickToResetPassword=s=>{const{accountPassword:e,accountRePassword:t,passwordError:a,passwordReError:l,strength:o}=this.state,{token:r,userId:n}=this.props.params;if(4==o){this.setState({btnLoader:!0}),e&&String(e).length>=8&&t&&String(t).length==String(e).length&&!a&&!l?(0,i.wM)({userId:n,token:r,password:e}).then((s=>{this.props.navigate("/accounts/login?reset=1")})).catch((()=>{this.props.navigate("/accounts/login?reset=2")})):(!e||String(e).length<8?this.setState({passwordError:!0}):e!=t&&this.setState({passwordReError:!0}),this.setState({btnLoader:!1}))}else this.setState({strongPass:!1})},this.checkPassStrength=s=>{const e=s.target.value,{strength:t}=(0,d.Oj)(e);this.setState({accountPassword:e,strength:t,passwordReError:null,passwordError:!1,strongPass:4==t||this.state.strongPass})},this.showPassword=()=>{this.setState({visiblePass:!this.state.visiblePass})}}render(){var s,e,t,a,i,d,h,p,m,b,g,w,x,P,j,N,_,k,S,y;const{prefix:C,params:E}=this.props,{strength:R,passwordError:f,success:A,accountRePassword:L,passwordReError:T,accountPassword:z,btnLoader:F,visiblePass:O,reVisiblePass:V,successError:G,strongPass:I}=this.state,M=null!==(s=null===(e=window)||void 0===e||null===(t=e.APP_CONTENT)||void 0===t?void 0:t.forgot_pass)&&void 0!==s?s:null,q=null!==(a=null===(i=window)||void 0===i||null===(d=i.APP_CONTENT)||void 0===d?void 0:d.common)&&void 0!==a?a:null;return(0,v.jsxs)("div",{className:"w-100 mb-lg-0 mb-3",children:[(0,v.jsx)("div",{className:"text-start mb-5",children:(0,v.jsx)("h1",{className:" mb-0 display-2 fw-bold mb-3",children:null!==(h=null===q||void 0===q?void 0:q.reset_password)&&void 0!==h?h:""})}),A?(0,v.jsx)("div",{className:"alert alert-".concat(G?"danger":"success"," py-2"),role:"alert",children:G?null!==(p=null===q||void 0===q?void 0:q.some_error_occured)&&void 0!==p?p:"":null!==(m=null===M||void 0===M?void 0:M.success_msg)&&void 0!==m?m:""}):null,A?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"mb-8",children:[(0,v.jsxs)(l.A.Group,{className:"mb-4 mb-xl-5",children:[(0,v.jsx)(l.A.Label,{className:"fw-bold ",htmlFor:"password_",children:null!==(b=null===q||void 0===q?void 0:q.lbl_enter_pass)&&void 0!==b?b:""}),(0,v.jsxs)("span",{className:"position-relative d-block mb-2 ".concat(f?"is-invalid":""),children:[(0,v.jsx)(l.A.Control,{type:O?"text":"password",id:"password_",size:"lg",placeholder:null!==(g=null===q||void 0===q?void 0:q.enter_pass)&&void 0!==g?g:"",minLength:"8",maxLength:"24",onChange:this.checkPassStrength,value:z}),(0,v.jsx)("span",{className:"view_pass fs-6 btn btn-icon bg-transparent border-0 text-gray-500 position-absolute translate-middle top-50",onClick:()=>this.setState({visiblePass:!O}),children:(0,v.jsx)(n.gc,{icon:O?"eye":"eye-slash"})})]}),f?(0,v.jsx)("span",{className:"invalid-feedback mb-1",children:null!==(w=null===q||void 0===q?void 0:q.valid_pass)&&void 0!==w?w:""}):null,(0,v.jsx)("span",{className:"".concat(I?"text-muted":"text-danger"," fs-9 mb-2"),children:null!==(x=null===q||void 0===q?void 0:q.pwd_str)&&void 0!==x?x:""})]}),(0,v.jsx)(c.A,{strength:R}),(0,v.jsx)("div",{className:"fv-row mb-3 pt-1",children:(0,v.jsxs)(l.A.Group,{className:"mb-4 mb-xl-5",children:[(0,v.jsx)(l.A.Label,{className:"fw-bold ",htmlFor:"re-password_",children:null!==(P=null===q||void 0===q?void 0:q.lbl_re_pass)&&void 0!==P?P:""}),(0,v.jsxs)("span",{className:"position-relative d-block mb-2  ".concat(T?"is-invalid":""," "),children:[(0,v.jsx)(l.A.Control,{type:V?"text":"password",id:"re-password_",size:"lg",placeholder:null!==(j=null===q||void 0===q?void 0:q.enter_pass)&&void 0!==j?j:"",minLength:"8",maxLength:"24",onChange:this.onPasswordReTextChange,value:L||""}),(0,v.jsx)("span",{className:"view_pass fs-6 btn btn-icon bg-transparent border-0 text-gray-500 position-absolute translate-middle top-50",onClick:()=>this.setState({reVisiblePass:!V}),children:(0,v.jsx)(n.gc,{icon:V?"eye":"eye-slash"})})]}),T?(0,v.jsx)("div",{className:"invalid-feedback",children:null!==(N=null===q||void 0===q?void 0:q.pwd_not_match)&&void 0!==N?N:""}):null]})})]}),(0,v.jsx)("div",{className:"d-grid mb-3",children:(0,v.jsxs)(o.A,{type:"submit",variant:"primary",size:"lg",className:"".concat(F?" disabled":""),onClick:this.onClickToResetPassword,children:[(0,v.jsx)("span",{className:"indicator-label",style:{display:F?"none":"block"},children:null!==(_=null===q||void 0===q?void 0:q.reset_password)&&void 0!==_?_:""}),(0,v.jsxs)("span",{className:"indicator-progress",style:{display:F?"block":"none"},children:[null!==(k=null===q||void 0===q?void 0:q.wait)&&void 0!==k?k:"",(0,v.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]}),(0,v.jsx)(r.A,{text:null!==(S=null===q||void 0===q?void 0:q.back_to)&&void 0!==S?S:"",link:"".concat(C,"accounts/login"),linkText:null!==(y=null===q||void 0===q?void 0:q.login)&&void 0!==y?y:""}),(0,v.jsx)(u.A,{})]})}}const m=(0,h.A)(p)}}]);