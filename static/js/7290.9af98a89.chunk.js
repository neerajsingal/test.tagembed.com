"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[7290],{17290:(l,e,n)=>{n.r(e),n.d(e,{default:()=>S});var i=n(9950),o=n(26787),s=n(73878),d=n(45358),t=n(86781),a=n(68459),c=n(97937),u=n(471),r=n(34483),v=n(21432),m=n(95942),h=n(17595),p=n(54810),x=n(26806),b=n(28429),g=n(19172),j=n(59074),w=n(18633),f=n(52867),y=n(21738),N=n(36431),A=n(74283),C=n(92267),k=n(54480),_=n(64323),I=n(80322),P=n(36611),T=n(22662),U=n(44414);const S=function(){var l,e,n,S,G,F,z,D,L,E,Y;const[B,O]=(0,i.useState)(!1),{wallsLoader:H}=(0,s.d4)((l=>null===l||void 0===l?void 0:l.dashboardData)),[M,W]=(0,i.useState)([]),[K,R]=(0,i.useState)(!1),[Z,q]=(0,i.useState)(!1),J=(0,s.d4)((l=>{var e,n;return null===(e=l.dashboardData)||void 0===e||null===(n=e.dashboarddata)||void 0===n?void 0:n.allWalls})),Q=(0,s.d4)((l=>{var e;return null===(e=l.websiteList)||void 0===e?void 0:e.websiteList})),V=(0,b.Zp)(),X=(0,s.wA)(),$=null===(l=window)||void 0===l||null===(e=l.APP_CONTENT)||void 0===e?void 0:e.content_gallery,ll=()=>{O(!0)},el=l=>{R(!1),l?q(l):(O(!1),W([]))},nl=l=>{(0,f.l1)({title:"Are You Sure?",text:"You are about to delete a Gallery that is used in Publish. Deleting the gallery would also delete the corresponding Publish sections.",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((e=>{e.value?X((0,j.kg)({name:l.name,status:l.status,autoUpdate:l.autoUpdate||0,id:l.id,deleted:0,action:3},null,el)):e.dismiss}))},il=l=>{const[e,n,i]=l;X((0,j.kg)({name:e.name,carouselPost:e.carouselPost,status:"status"==n?i:e.status,autoUpdate:"auto"==n?i:e.autoUpdate||0,id:e.id,deleted:0,action:2},null,null,!0))},ol=(l,e,n)=>{localStorage.setItem("wallId",l),e||n?(X((0,_.LF)()),setTimeout((()=>{V("/content/moderation/".concat(l))}),100)):V("/content/addfeed/".concat(l))},sl=(0,f.C2)();return(0,i.useEffect)((()=>{const l=A.A.parse(window.location.search);l&&l.addGallery&&O(!0),null!==Q&&void 0!==Q&&Q.length||X((0,T.M_)(!0))}),[]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(o.A,{crumbs:[{name:null!==(n=null===$||void 0===$||null===(S=$.subheader_crumbs)||void 0===S?void 0:S.name)&&void 0!==n?n:"Content Gallery",link:"/content",icon:"image"},{name:null!==(G=null===$||void 0===$||null===(F=$.subheader_crumbs)||void 0===F?void 0:F.home)&&void 0!==G?G:"Home",link:"/home"},{name:null!==(z=null===$||void 0===$||null===(D=$.subheader_crumbs)||void 0===D?void 0:D.name)&&void 0!==z?z:"Content Gallery",link:"/content"}],crumbIcon:"image"}),(0,U.jsxs)(d.A,{className:(0,f.C2)()?"":"container-content-gallery",style:{maxWidth:"100%"},children:[(0,U.jsxs)(t.A,{className:"mb-4 mt-5 ".concat(sl?"mt-5":""),children:[(0,U.jsxs)(a.A,{md:6,children:[(0,U.jsx)("h2",{className:"h4 mb-1",children:null!==(L=null===$||void 0===$?void 0:$.heading)&&void 0!==L?L:"Content"}),(0,U.jsx)("p",{className:"fs-8 text-muted mb-0",children:null!==(E=null===$||void 0===$?void 0:$.sub_heading)&&void 0!==E?E:"Choose and manage your content to publish, or create a new one to get started."})]}),(0,U.jsx)(a.A,{md:6,className:"mt-md-0 mt-3",children:(0,U.jsxs)("div",{className:"d-flex justify-content-md-end mb-3",children:[(null===J||void 0===J?void 0:J.length)>10?(0,U.jsx)(P.A,{action:l=>{X({type:k.s94,payload:l})},data:J,text:null===$||void 0===$?void 0:$.filter}):null,(0,U.jsxs)(c.A,{style:{backgroundColor:"var(--bs-body-bg)"},size:"md",variant:"secondary","aria-label":"Add Channel",onClick:()=>(0,I.Yj)("contentGallery","createGallery",!0)?ll():{},children:[(0,U.jsx)(p.gc,{type:"solid",icon:"plus"})," ",null!==(Y=null===$||void 0===$?void 0:$.btn)&&void 0!==Y?Y:"Add New Gallery"]})]})})]}),(0,U.jsx)("div",{className:"w-100 sync_products",children:H?(0,U.jsx)(w.a,{}):null!==J&&void 0!==J&&J.length?(0,U.jsx)(t.A,{className:"mx-0 mx-n3",children:J.map(((l,e)=>{var n,i,o,s,d,t,c,x,b,g,j,w,A,k,_,I,P,T,S,G;return(0,U.jsx)(a.A,{xl:3,lg:4,md:6,sm:6,className:"gutter-b","data-wall-id":null===l||void 0===l?void 0:l.id,children:(0,U.jsxs)(u.A,{id:"".concat(l.icon,"_btn_"),className:"publish-card h-100 cursor-pointer",onClick:e=>e.target.closest(".dropdown")?{}:ol(null===l||void 0===l?void 0:l.id,null===l||void 0===l?void 0:l.totalFeed,null===l||void 0===l?void 0:l.totalPost),children:[(0,U.jsx)("div",{className:"position-absolute top-0 end-0 mt-3 me-2",children:(0,U.jsxs)(r.A,{children:[(0,U.jsx)(v.A,{placement:"top",overlay:(0,U.jsx)(m.A,{children:null!==(n=null===$||void 0===$||null===(i=$.card)||void 0===i?void 0:i.options)&&void 0!==n?n:"Options"}),children:(0,U.jsx)(r.A.Toggle,{variant:"secondary","aria-label":"more",className:"arrow_disabled dropdown-toggle border-0 d-inline-flex py-1 px-3",children:(0,U.jsx)(p.gc,{icon:"ellipsis-vertical",size:20,iconClass:"me-0"})})}),(0,U.jsxs)(r.A.Menu,{children:[(0,U.jsxs)(r.A.Item,{onClick:()=>(l=>{O(!0),W(l)})(l),className:"fs-8",children:[(0,U.jsx)("span",{className:"me-2",children:(0,U.jsx)(p.gc,{type:"solid",icon:"edit"})}),null!==(o=null===$||void 0===$||null===(s=$.pop)||void 0===s?void 0:s.rename)&&void 0!==o?o:"Rename"]}),(0,U.jsxs)(r.A.Item,{onClick:()=>{var e,n,i,o,s,d;return 1==Q.length&&(null===(e=Q[0])||void 0===e||null===(n=e.wall)||void 0===n||null===(i=n.ThemeInfo)||void 0===i?void 0:i.wallId)==(null===l||void 0===l?void 0:l.id)?V("/website/publish/".concat(null===(o=Q[0])||void 0===o||null===(s=o.wall)||void 0===s||null===(d=s.ThemeInfo)||void 0===d?void 0:d.webId)):V("/publish/".concat(null===l||void 0===l?void 0:l.id))},className:"fs-8",children:[(0,U.jsx)("span",{className:"me-2 fs-8",children:(0,U.jsx)(p.gc,{type:"solid",icon:"paper-plane"})}),null!==(d=null===$||void 0===$||null===(t=$.pop)||void 0===t?void 0:t.publish)&&void 0!==d?d:"Publish"]}),(0,U.jsxs)(r.A.Item,{onClick:()=>nl(l),className:"fs-8",children:[(0,U.jsx)("span",{className:"me-2",children:(0,U.jsx)(p.gc,{type:"solid",icon:"trash-can"})}),null!==(c=null===$||void 0===$||null===(x=$.pop)||void 0===x?void 0:x.delete)&&void 0!==c?c:"Delete"]}),(0,U.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:l=>l.stopPropagation(),children:[(0,U.jsx)(h.A.Label,{htmlFor:"cont_a_u",className:"mb-0 fs-8",children:null!==(b=null===$||void 0===$||null===(g=$.pop)||void 0===g?void 0:g.auto_update)&&void 0!==b?b:"Auto update"}),(0,U.jsx)(h.A.Check,{type:"switch",id:"cont_a_u",checked:null===l||void 0===l?void 0:l.autoUpdate,onChange:()=>null!==l&&void 0!==l&&l.autoUpdate?(0,f.zO)("Disabling auto-update will prevent new posts from being fetched, limiting the content while existing posts remain accessible.",il,[l,"auto",Number(!(null!==l&&void 0!==l&&l.autoUpdate))]):il([l,"auto",Number(!(null!==l&&void 0!==l&&l.autoUpdate))])})]}),(0,U.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:l=>l.stopPropagation(),children:[(0,U.jsx)(h.A.Label,{htmlFor:"cont_s",className:"mb-0 fs-8",children:null!==(j=null===$||void 0===$||null===(w=$.pop)||void 0===w?void 0:w.status)&&void 0!==j?j:"Status"}),(0,U.jsx)(h.A.Check,{type:"switch",id:"cont_s",checked:null===l||void 0===l?void 0:l.status,onChange:()=>null!==l&&void 0!==l&&l.status?(0,f.zO)("Disabling this status will hide all collected posts from this feed, affecting visibility and content access.",il,[l,"status",Number(!(null!==l&&void 0!==l&&l.status))]):il([l,"status",Number(!(null!==l&&void 0!==l&&l.status))])})]})]})]})}),(0,U.jsx)(u.A.Body,{className:"flex-column f-center px-3 py-0",children:(0,U.jsxs)("div",{className:"d-flex w-100 flex-wrap",children:[(0,U.jsxs)("div",{className:"d-flex align-items-center",children:[(0,U.jsx)(N.A,{imageSize:40,symbolClass:"symbol-label",className:"symbol symbol-54 fs-2 rounded-2 flex-shrink-0 me-2 overflow-hidden",name:l.name,profileUrl:l.thumbnail,networkId:28}),(0,U.jsxs)("div",{className:"publish-detail d-flex flex-column ms-2",children:[(0,U.jsx)("strong",{className:"h4 mb-0 pe-3 custom-truncate-1 text-capitalize",children:null===l||void 0===l?void 0:l.name}),(0,U.jsxs)("span",{className:"fs-9 text-capitalize",children:[null===l||void 0===l?void 0:l.totalPost," ",null===$||void 0===$||null===(A=$.card)||void 0===A?void 0:A.post," | ",(null===l||void 0===l?void 0:l.totalFeed)||0," ",null===$||void 0===$||null===(k=$.card)||void 0===k?void 0:k.feed]})]})]}),(0,U.jsxs)("div",{className:"content-foot mt-5 align-items-center d-flex justify-content-between w-100",children:[null!==l&&void 0!==l&&null!==(_=l.networkIds)&&void 0!==_&&_.length?(0,U.jsx)(C.A,{networkList:null===l||void 0===l?void 0:l.networkIds}):(0,U.jsx)("div",{children:(0,U.jsxs)("span",{className:"me-2 btn btn-sm bg-secondary border",children:[(0,U.jsx)(p.gc,{type:"regular",iconClass:"me-0",icon:"grid-2-plus"}),(0,U.jsx)("span",{className:"ms-2 ",children:null===$||void 0===$||null===(I=$.card)||void 0===I?void 0:I.add_feeds})]})}),(0,U.jsxs)("div",{children:[(0,U.jsx)(y.A,{cssClName:"light",overlayText:null!==(P=null===$||void 0===$||null===(T=$.card)||void 0===T?void 0:T.edit)&&void 0!==P?P:"Edit",children:(0,U.jsx)("span",{onClick:e=>ol(null===l||void 0===l?void 0:l.id,null===l||void 0===l?void 0:l.totalFeed),className:"me-2 btn btn-sm bg-secondary border",children:(0,U.jsx)(p.gc,{type:"solid",iconClass:"me-0",icon:"edit"})})}),(0,U.jsx)(y.A,{cssClName:"light",overlayText:null!==(S=null===$||void 0===$||null===(G=$.card)||void 0===G?void 0:G.publish)&&void 0!==S?S:"Publish",children:(0,U.jsx)("span",{onClick:e=>{var n,i,o,s,d,t;e.stopPropagation(),1==Q.length&&(null===(n=Q[0])||void 0===n||null===(i=n.wall)||void 0===i||null===(o=i.ThemeInfo)||void 0===o?void 0:o.wallId)==(null===l||void 0===l?void 0:l.id)?V("/website/publish/".concat(null===(s=Q[0])||void 0===s||null===(d=s.wall)||void 0===d||null===(t=d.ThemeInfo)||void 0===t?void 0:t.webId)):V("/publish/".concat(null===l||void 0===l?void 0:l.id))},className:"me-2 btn btn-sm bg-secondary border",children:(0,U.jsx)(p.gc,{type:"solid",iconClass:"me-0",icon:"paper-plane"})})})]})]})]})})]})},e)}))}):(0,U.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 240px)"},children:(0,U.jsx)(x.A,{title:"Uh-oh! Nothing to see here.",desc:"You can start adding new channels here.",icon:"media",button:{text:"Add Gallery",action:ll},isFullScreen:!1})})})]}),B&&(0,U.jsx)(g.A,{show:B,apiError:Z,setApiError:q,title:"Gallery",onUpdate:(l,e,n,i,o)=>{e&&e.length>0&&(R(!0),X((0,j.kg)({name:null===e||void 0===e?void 0:e.trim(),carouselPost:o||0,status:n,id:l,autoUpdate:i||0,deleted:0,action:2},null,el)))},editContent:M,handleClose:()=>{W([]),O(!1),q("")},deleteContent:nl,spinner:K,setSpinner:R,statusKey:!0,callback:el,navigate:V,content:null===$||void 0===$?void 0:$.pop})]})}}}]);