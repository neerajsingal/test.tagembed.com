"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[6966],{16966:(e,t,s)=>{s.r(t),s.d(t,{default:()=>re});var i=s(9950),a=s(45358),l=s(471),n=s(17595),r=s(21432),c=s(95942),d=s(51960),o=s(31355),h=s(54810),m=s(34483),u=s(97937),p=s(4695),g=s.n(p);const x=[{icon:"pen-to-square",title:"Name Your Rule:",text:"Give Your rule a name"},{icon:"plus",title:"Select The Trigger:",text:"Select the Trigger on which you want to perform an action. Such as feed, network, hashtag."},{icon:"plus",title:"Choose an Action",text:"Select the action you want to execute based on your chosen trigger. For example, public, private, or delete."}],f=[{class:"primary",icon:"clone",title:"Bye-bye Duplicates",text:"Enable this AI-powered rule to automatically identify and remove duplicate posts using the TruSense AI Duplicate Detection feature. All detected duplicates will be made private, ensuring a cleaner and more organized experience."},{class:"primary",icon:"face-frown-slight",title:"Negativity Neutralizer",text:"Activate this AI rule to detect posts with negative sentiment and automatically make them private, keeping your feed focused and positive."},{class:"primary",icon:"square-check",title:"AI Content Spotlight",text:"Activate this rule to automatically make posts with high AI recommendation scores public, showcasing your best-performing content."}],b=[{heading:"Rule name"},{heading:"Status"},{heading:"Last executed"},{heading:"Action"}],y=["feeds","networks","handle","hashtag","keyword","showHide","tags","assetsType","duplicateAsset","sentiment","recommend","profanity"],j=e=>{g().fire({title:"Upgrade to create rules",text:"Oops! Looks like you need to upgrade your plan in order to create or modify rules.",icon:"error",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Upgrade now!",confirmButtonColor:"var(--bs-success)"}).then((t=>{t.value?e("/price"):t.dismiss}))},v=[{id:"image_assets",val:"2,4",icon:"image",name:"Image"},{id:"video_assets",val:"3,5",icon:"video",name:"Video"},{id:"text_assets",val:"1",icon:"text",name:"Text"}];var w=s(44414);function N(e){const{filterTabs:t}=e,s=(e=>{let{duplicateAssets:t,handleTrigger:s}=e;return[{name:"Network",desc:"Select your preferred network",icon:"chart-network",fnc:()=>s("networks"),propName:"networks"},{name:"Feeds",desc:"Select the Feed type",icon:"image-portrait",fnc:()=>s("feeds"),propName:"feeds"},{name:"Media type",desc:"Choose the type of Media",icon:"image",fnc:()=>s("assetsType"),propName:"assetsType"},{name:"AI recommendation",desc:"Choose Ai recommendation",icon:"sparkles",fnc:()=>s("recommend"),propName:"recommend"},{name:"Tag",desc:"Select the preferred tag",icon:"tags",fnc:()=>s("tags"),propName:"tags"},{name:"Sentiment",desc:"Choose sentiment analysis",icon:"face-smile",fnc:()=>s("sentiment"),propName:"sentiment"},{name:"Public/Private",desc:"Select Posts Visibility",icon:"users",fnc:()=>s("showHide"),propName:"showHide"},{name:"By handle",desc:"Enter Handle",icon:"at",fnc:()=>s("handle"),propName:"handle"},{name:"By hashtag",desc:"Enter Hashtag",icon:"hashtag",fnc:()=>s("hashtag"),propName:"hashtag"},{name:"By keyword",desc:"Enter Keyword",icon:"text",fnc:()=>s("keyword"),propName:"keyword"},{name:"Profanity",desc:"Apply Profanity",icon:"ban",fnc:()=>s("profanity"),propName:"profanity"},{name:"Duplicate post",desc:parseInt(t)>0?`${parseInt(t)} Select Posts`:"Select Posts",icon:"clone",fnc:()=>s("duplicateAsset"),propName:"duplicateAsset"}]})(e);return(0,w.jsx)(m.A.Menu,{className:"w-100 overflow-auto px-0",style:{maxHeight:400},children:s.map(((e,s)=>t&&t.hasOwnProperty(e.propName)?null:(0,w.jsxs)(m.A.Item,{className:"d-flex align-items-center border-bottom py-2 rounded-0",onClick:e.fnc,children:[(0,w.jsx)("div",{className:"symbol symbol-36 bg-light-primary me-2 rounded-1",children:(0,w.jsx)(h.gc,{icon:e.icon,iconClass:"text-primary fs-6 me-0"})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:e.name}),(0,w.jsx)("span",{className:"fs-9 text-gray-500",children:e.desc})]})]},s)))})}function k(e){const{name:t,desc:s,icon:i,method:a,svgIcon:l,action:n,del:d}=e;return(0,w.jsxs)("div",{className:"d-flex align-items-center rounded-0 "+(d?"":"mb-2"),children:[(0,w.jsxs)("div",{className:"d-flex flex-grow-1 "+(n?"align-items-center":""),children:[n?(0,w.jsx)(h.gc,{icon:i,iconClass:"text-priamry me-1"}):(0,w.jsx)("div",{className:"symbol symbol-36 bg-light-primary me-2",children:(0,w.jsx)(h.gc,{icon:i,iconClass:"text-primary fs-6"})}),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"fs-9 fw-bold mb-0 text-gray-800",children:t}),s?(0,w.jsx)("span",{className:"fs-9 text-gray-500",children:s}):null]})]}),(0,w.jsx)(r.A,{placement:"top",overlay:(0,w.jsx)(c.A,{children:"Remove"}),children:(0,w.jsx)(u.A,{variant:"icon",className:"btn-active-light p-0 w-30px h-30px transition-none border-0","aria-label":"delete",onClick:a,children:(0,w.jsx)(h.gc,{icon:"trash-can",iconClass:"text-muted"})})})]})}var S=s(52867);class A extends i.Component{constructor(){super(...arguments),this.state={networkList:[]},this.onSearchNetwork=e=>{const{networkList:t}=this.props,s=t.filter((t=>t.name.toLowerCase().includes(e.target.value.toLowerCase())));this.setState({networkList:s})}}componentDidMount(){setTimeout((()=>{this.setState({networkList:this.props.networkList})}),100)}componentWillReceiveProps(e){this.setState({networkList:e.networkList})}render(){const{handleTrigger:e,selectedNetworks:t,onSelectNetwork:s,selectAllNetworks:i}=this.props,{networkList:a}=this.state;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Network",desc:"Choose the required network",icon:"chart-network",svgIcon:!0,method:()=>e("networks","selectedNetworks",[])}),(0,w.jsxs)(m.A,{className:"w-100",autoClose:"outside",children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,w.jsx)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`filter_${(0,S.Oi)(t[0])}`,children:(0,w.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium ps-0",children:t.length>0?1==t.length||2==t.length&&t.includes(18)&&t.includes(2)?(0,S.Oi)(t[0]):`${t.includes(2)?t.length-1:t.length} selected`:"Select Network"})})}),(0,w.jsxs)(m.A.Menu,{className:"w-100 overflow-auto",style:{maxHeight:400},children:[(0,w.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,w.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-searchNetwork",children:"Select All"}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",id:"tri-searchNetwork",onChange:e=>i(e),checked:t.length==this.props.networkList.length+1})]}),(0,w.jsx)("div",{className:"form-group mb-2",children:(0,w.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search your network",onChange:e=>this.onSearchNetwork(e)})}),a&&a.length>0?a.map((e=>(0,w.jsxs)("div",{className:"dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`tri-network-${e.id}`,children:[29==e.id?(0,w.jsx)(h.gc,{type:"solid",icon:"star",iconClass:"text-warning fs-6"}):(0,w.jsx)(d.A,{height:20,width:20,className:"me-2",src:(0,h.pc)(`media/icons/social-icons-square/${(0,S.EC)(e.id)}.svg`),alt:(0,S.Oi)(e.id),fluid:!0}),(0,w.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium",children:e.name})]}),(0,w.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",id:`tri-network-${e.id}`,checked:t.includes(e.id),onChange:t=>s(e.id)})]},e.id))):(0,w.jsx)("div",{className:"py-4",children:(0,w.jsx)("h6",{className:"text-center fs-9 mb-0 text-gray-700",children:"No Networks Available"})})]})]})]}),(0,w.jsx)("div",{className:"action_gap"})]})}}const T=A,C=e=>{let{handleTrigger:t,selectedAiType:s,onSelectAiType:i,selectAllAiTypes:a}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"AI Recommendation",desc:"Choose Ai recommendation.",icon:"sparkles",method:()=>t("recommend","selectedAiType",[])}),(0,w.jsxs)(m.A,{className:"w-100",autoClose:"outside",children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,w.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[s&&1==s.length?(0,w.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-"+(s.includes("1")?"success":s.includes("2")?"warning":"danger")}):null,(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:s.length>0?1==s.length?s.includes("1")?"Recommended":s.includes("2")?"Considerable":"Not Recommended":`${s.length} selected`:"Select Recommendation Type"})]})}),(0,w.jsxs)(m.A.Menu,{className:"w-100",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,w.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-MediaType",children:"Select All"}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",id:"tri-MediaType",onChange:e=>a(e),checked:3==s.length})]}),(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"recommend",children:[(0,w.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-success"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Recommended"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"image",id:"recommend",onChange:e=>i("1"),checked:s.includes("1")})]}),(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"considerable",children:[(0,w.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-warning"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Considerable"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"video",id:"considerable",onChange:e=>i("2"),checked:s.includes("2")})]}),(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"not_recommend",children:[(0,w.jsx)("span",{className:"h-10px w-10px rounded-circle me-2 bg-danger"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Not Recommended"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"text",id:"not_recommend",onChange:e=>i("3"),checked:s.includes("3")})]})]})]})]}),(0,w.jsx)("div",{className:"action_gap"})]})};var F=s(70804);class I extends i.Component{constructor(){super(),this.timeoutId=null,this.onSearchFeed=e=>{const t=this.props.feedList.filter((t=>t.name.toLowerCase().includes(e.target.value.toLowerCase())));this.setState({feedList:t})},this.state={feedList:[]}}componentDidMount(){const{feedList:e}=this.props;this.timeoutId=setTimeout((()=>{this.setState({feedList:e||[]})}),100)}componentWillReceiveProps(e){const{feedList:t}=e;this.setState({feedList:t||[]})}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}render(){const{handleTrigger:e,selectedFeeds:t,onSelectFeed:s,selectAllFeeds:i}=this.props,{feedList:a}=this.state;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Feeds",desc:"Select the feed type",icon:"image-portrait",method:()=>e("feeds","selectedFeeds",[]),svgIcon:!0}),(0,w.jsxs)(m.A,{className:"w-100",autoClose:"outside",children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,w.jsx)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`filter_${t&&t.length>0?(0,S.Oi)(t[0].networkId):""}`,children:(0,w.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium ps-0",children:t.length>0?1==t.length?(0,F.Ay)(t[0].name):`${t.length} selected`:"Select Feed"})})}),(0,w.jsxs)(m.A.Menu,{className:"w-100 overflow-auto",style:{maxHeight:400},children:[(0,w.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,w.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-searchFeeds",children:"Select All"}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"",id:"tri-searchFeeds",onChange:e=>i(e),checked:this.props.feedList.length==t.length&&0!=this.props.feedList.length})]}),(0,w.jsx)("div",{className:"form-group mb-2 px-3",children:(0,w.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search your Feed...",onChange:e=>this.onSearchFeed(e)})}),a&&a.length>0?a.map((e=>(0,w.jsxs)("div",{className:"dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:`tri-conn-${e.feedId}`,children:[(0,w.jsx)("span",{className:"symbol symbol-20",children:(0,w.jsx)("img",{className:"img-fluid h-100",src:(0,h.pc)(`media/icons/social-icons-square/${(0,S.EC)(e.networkId)}.svg`),height:20,width:20,alt:(0,S.Oi)(e.networkId)})}),(0,w.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium",children:(0,F.Ay)(e.name)})]}),(0,w.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",name:"",id:`tri-conn-${e.id}`,checked:t?t.some((t=>t.id==e.id)):"",onChange:t=>s(e)})]},e.feedId))):(0,w.jsx)("div",{className:"py-4",children:(0,w.jsx)("h6",{className:"text-center fs-9 mb-0 text-gray-700",children:"No Feeds Available"})})]})]})]}),(0,w.jsx)("div",{className:"action_gap"})]})}}const R=I,D=e=>{let{handleTrigger:t,selectedMedia:s,onSelectMediaType:i,selectAllMediaTypes:a}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Media Type",desc:"Choose the type of media",icon:"image",method:()=>t("assetsType","selectedMedia",[])}),(0,w.jsxs)(m.A,{className:"w-100",autoClose:"outside",children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,w.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[s&&1==s.length?(0,w.jsx)("i",{className:(s.includes("1")?"ri-text":s.includes("2,4")?"ri-image-line":"ri-movie-line")+" text-gray-800 icon-6 fw-normal"}):null,(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:s.length>0?1==s.length?s.includes("1")?"Text":s.includes("2,4")?"Image":"Video":`${s.length} selected`:"Select Media Type"})]})}),(0,w.jsxs)(m.A.Menu,{className:"w-100",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,w.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-MediaType",children:"Select All"}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",id:"tri-MediaType",onChange:e=>a(e),checked:3==s.length})]}),v.map(((e,t)=>(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:e.id,children:[(0,w.jsx)(h.gc,{icon:e.icon,iconClass:"text-muted fs-6"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:e.name})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:e.icon,id:e.id,onChange:t=>i(e.val),checked:s.includes(e.val)})]},t)))]})]})]}),(0,w.jsx)("div",{className:"action_gap"})]})};var P=s(31722);const L=e=>{let{handleTrigger:t,onSelectTag:s,onTagRemove:i,selectedTags:a,tagsList:l}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Add Tags",desc:"Select the preferred tag",icon:"tags",method:()=>t("tags","selectedTags",[])}),(0,w.jsx)(P.A,{placeholder:"Search or Create tag...",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",isClearable:!0,options:l,onChange:e=>s(e,"filter"),value:""}),a&&a.length>0?(0,w.jsx)("div",{className:"d-flex w-100 flex-wrap w-100 mt-1",children:a.map(((e,t)=>(0,w.jsxs)("div",{className:"badge bg-secondary rounded-pill text-gray-800 border me-1 mt-1 px-2 d-flex align-items-center",style:{top:0,maxWidth:"100%"},children:[(0,w.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,w.jsx)(u.A,{variant:"link",className:"btn p-0 ms-1 text-decoration-none",onClick:i(t,"filter"),children:(0,w.jsx)(h.gc,{icon:"xmark",iconClass:"text-muted"})})]})))}):null]}),(0,w.jsx)("div",{className:"action_gap"})]})},E=e=>{let{onSelectVisibility:t,handleTrigger:s,selectedVisibility:i}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Posts Visibility",desc:"Choose the visibility of posts",icon:"eye",method:()=>s("showHide","selectedVisibility",[])}),(0,w.jsxs)(m.A,{className:"w-100",children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,w.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[i&&1==i.length?(0,w.jsx)(h.gc,{icon:i.includes("1")?"eye":"eye-slash",className:"text-muted"}):null,(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:i.length>0?1==i.length?i.includes("1")?"Public":"Private":`${i.length} selected`:"Select Posts Visibility"})]})}),(0,w.jsxs)(m.A.Menu,{className:"w-100",children:[(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"tri-show-assets",children:[(0,w.jsx)(h.gc,{icon:"eye",iconClass:"text-muted fs-6"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Public"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"",id:"tri-show-assets",onChange:e=>t("1","filter"),checked:i.includes("1")})]}),(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"tri-hide-assets",children:[(0,w.jsx)(h.gc,{icon:"eye-slash",iconClass:"text-muted fs-6"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Private"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"",id:"tri-hide-assets",onChange:e=>t("2","filter"),checked:i.includes("2")})]})]})]})]}),(0,w.jsx)("div",{className:"action_gap"})]})},_=e=>{let{handleTrigger:t,duplicateAssets:s}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:(0,w.jsx)(k,{name:"Duplicate Assets",icon:"clone",method:()=>t("duplicateAsset","selectedDuplicateAsset",!1),desc:parseInt(s)>0?`${parseInt(s)} Posts Selected`:"Select Posts",del:!0})}),(0,w.jsx)("div",{className:"action_gap"})]})},M=e=>{let{handleTrigger:t,selectedSentiment:s,onSelectSentiment:i,selectAllSentiments:a}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Sentiment",desc:"Choose sentiment analysis.",icon:"face-smile",method:()=>t("sentiment","selectedSentiment",[])}),(0,w.jsxs)(m.A,{className:"w-100",autoClose:"outside",children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,w.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[s&&1==s.length?(0,w.jsx)(h.gc,{icon:"face-"+(s.includes("1")?"smile":s.includes("2")?"meh":"frown"),iconClass:"text-muted"}):null,(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:s.length>0?1==s.length?s.includes("1")?"Positive":s.includes("2")?"Neutral":"Negative":`${s.length} selected`:"Select Sentiment Type"})]})}),(0,w.jsxs)(m.A.Menu,{className:"w-100",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,w.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"allSentiments",children:"Select All"}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",id:"allSentiments",onChange:e=>a(e),checked:3==s.length})]}),(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"positive",children:[(0,w.jsx)(h.gc,{icon:"face-smile",iconClass:"text-muted fs-6"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Positive"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"image",id:"positive",onChange:e=>i("1"),checked:s.includes("1")})]}),(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"neutral",children:[(0,w.jsx)(h.gc,{icon:"face-meh",iconClass:"text-muted fs-6"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Neutral"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"video",id:"neutral",onChange:e=>i("2"),checked:s.includes("2")})]}),(0,w.jsxs)("div",{className:"mb-1 dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 align-items-center",htmlFor:"negative",children:[(0,w.jsx)(h.gc,{icon:"face-frown",iconClass:"text-muted fs-6"}),(0,w.jsx)("p",{className:"fs-9 fw-medium mb-0",children:"Negative"})]}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"text",id:"negative",onChange:e=>i("3"),checked:s.includes("3")})]})]})]})]}),(0,w.jsx)("div",{className:"action_gap"})]})};function H(e){let{icon:t,name:s,handleAction:i,val:a,index:l}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:(0,w.jsx)(k,{name:s,icon:t,method:()=>i(a),action:!0,del:!0})}),1!=l&&"delete"!=a?(0,w.jsx)("div",{className:"action_gap"}):null]})}function $(e){const{actionTabs:t,handleAction:s,selectedActionTags:i,onSelectTag:a,onTagRemove:l,tagsList:n,isTriggerSelected:r,selectedVisibility:c}=e,d=(e=>[{name:"Public",icon:"eye",fnc:()=>e("public"),propName:"public"},{name:"Private",icon:"eye-slash",fnc:()=>e("private"),propName:"private"},{name:"Assign tag",icon:"tag",fnc:()=>e("addTag"),propName:"addTag"},{name:"Delete",icon:"trash-can",fnc:()=>e("delete"),propName:"delete"}])(s);return(0,w.jsxs)(w.Fragment,{children:[t&&Object.keys(t).length>0?null:(0,w.jsxs)(m.A,{className:"w-100 mb-2 rule_actions",children:[(0,w.jsxs)(m.A.Toggle,{variant:"outline-secondary",id:"rule-action",className:"border border-gray text-dark border-1 w-100 p-4 arrow_disabled rounded-2",disabled:!r,children:[(0,w.jsx)(h.gc,{icon:"plus",iconClass:"text-muted"}),(0,w.jsx)("span",{className:"fs-9 fw-medium",children:"Add action"})]}),(0,w.jsx)(m.A.Menu,{className:"w-100",children:d.map(((e,t)=>1==c&&0==t||2==c&&1==t?null:(0,w.jsxs)(m.A.Item,{className:"block-center py-2 mb-1",onClick:e.fnc,children:[(0,w.jsx)(h.gc,{icon:e.icon,iconClass:"text-muted fs-6"}),(0,w.jsx)("span",{className:"menu-title",children:e.name})]},t)))})]}),t&&Object.keys(t).map(((e,t)=>"public"==e?(0,w.jsx)(H,{name:"Public",val:e,index:t,handleAction:s,icon:"eye"},t):"private"==e?(0,w.jsx)(H,{name:"Private",val:e,index:t,handleAction:s,icon:"eye-slash"},t):"addTag"==e?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Add Tags",icon:"ri-price-tag-3-line",method:()=>s("addTag","selectedActionTags",[]),action:!0}),(0,w.jsx)(P.A,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",isClearable:!0,options:n,onChange:e=>a(e,"action"),value:""}),i&&i.length>0?(0,w.jsx)("div",{className:"d-flex w-100 flex-wrap w-100 mt-1",children:i.map(((e,t)=>(0,w.jsxs)("div",{className:"badge bg-secondary rounded-pill text-gray-800 border me-1 mt-1 px-2 d-flex align-items-center",style:{top:0,maxWidth:"100%"},children:[(0,w.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,w.jsx)(u.A,{variant:"link",className:"btn p-0 ms-1 text-decoration-none",onClick:l(t,"action"),children:(0,w.jsx)(h.gc,{icon:"xmark",iconClass:"text-muted me-1"})})]})))}):null]}),1!=t?(0,w.jsx)("div",{className:"action_gap"}):null," "]}):"delete"==e?(0,w.jsx)(H,{name:"Delete",val:e,index:t,handleAction:s,icon:"trash-can"},t):null)),t&&Object.keys(t).length>0?t.hasOwnProperty("delete")?null:Object.keys(t).length<2?(0,w.jsxs)(m.A,{className:"w-100 text-center",children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",id:"rule-dd",className:"p-0 border-0 arrow_disabled",children:(0,w.jsx)(h.gc,{type:"light",icon:"circle-plus",iconClass:"text-muted me-0 fs-4"})}),(0,w.jsx)(m.A.Menu,{className:"w-100 more_actions",children:d.map(((e,s)=>3!=s?0==s||1==s?t.hasOwnProperty("public")||t.hasOwnProperty("private")||1==c&&0==s||2==c&&1==s?null:(0,w.jsxs)(m.A.Item,{className:"block-center py-2 mb-1",onClick:e.fnc,children:[(0,w.jsx)(h.gc,{icon:e.icon,iconClass:"text-muted fs-6"}),(0,w.jsx)("span",{className:"menu-title",children:e.name})]}):t.hasOwnProperty(e.propName)?null:(0,w.jsxs)(m.A.Item,{className:"block-center py-2 mb-1",onClick:e.fnc,children:[(0,w.jsx)(h.gc,{icon:e.icon,iconClass:"text-muted fs-6"}),(0,w.jsx)("span",{className:"menu-title",children:e.name})]}):null))})]}):null:null]})}var O=s(73878),V=s(58423),B=s(64323),U=s(54480),q=s(66345),W=s(14313);var K=s(49332),z=s(20878),Y=s(85608);class G extends i.Component{constructor(){super(...arguments),this.uppyUploader=new K.A([".csv"]),this.state={text:"Upload Your File",name:""},this.handleFilePickerClick=()=>{const e=document.querySelector('input[type="file"]');e&&e.click()}}componentDidMount(){const{setProfanity:e}=this.props;this.uppyUploader.uppy.on("transloadit:result",((t,s)=>{this.setState({loading:!1,name:s.name},(()=>{e(`${Y.$r}${s.id}.${s.ext}`)}))})),this.uppyUploader.uppy.on("upload-progress",((e,t)=>{this.state.text.includes("File")&&this.setState({text:"Loading..."})}))}componentWillUnmount(){this.uppyUploader.uppy.cancelAll()}render(){const{handleTrigger:e,onChangeProfanity:t,preProfanity:s,defaultProf:i,profName:a}=this.props,{text:l,name:d}=this.state;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:"Profanity Filter",desc:"Apply Profanity",icon:"ban",method:()=>e("profanity","profName",""),svgIcon:!0}),(0,w.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center w-75",children:[(0,w.jsx)(n.A.Check,{type:"switch",checked:s,onChange:t}),(0,w.jsx)("p",{className:"ms-2 mb-0 cursor-pointer text-ellipsis overflow-hidden w-75",children:s?"Predefined CSV":d||(a?a.split("/").pop():l)})]}),!s&&(0,w.jsx)(r.A,{placement:"top",overlay:(0,w.jsx)(c.A,{children:"Upload CSV"}),children:(0,w.jsx)(u.A,{variant:"outline-secondary",className:"f-center border rounded-circle h-30px w-30px p-0",onClick:()=>s?null:this.handleFilePickerClick(),children:(0,w.jsx)(h.gc,{icon:"arrow-up-to-line",iconClass:"me-0 mt-1 text-muted fs-6"})})}),(0,w.jsx)(r.A,{placement:"top",overlay:(0,w.jsx)(c.A,{children:"Download CSV"}),children:(0,w.jsx)(u.A,{variant:"outline-secondary",className:"f-center border rounded-circle h-30px w-30px p-0",onClick:()=>s?window.open(i):a?window.open(a):null,children:(0,w.jsx)(h.gc,{icon:"arrow-down-to-line",iconClass:"me-0 mt-1 text-muted fs-6"})})})]})]}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{className:"d-none",children:(0,w.jsx)(z.zp,{uppy:this.uppyUploader.uppy,id:"upload_auto_csv"})}),(0,w.jsx)("div",{className:"action_gap"})]})}}const J=G;var Z=s(41397);const Q=e=>{let{handleTrigger:t,selectedVal:s,method:i,isError:a,filter:l,name:n,icon:r}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"border-dashed border-1 border-gray rounded-2 p-3",children:[(0,w.jsx)(k,{name:`By ${n}`,desc:`Enter ${n}`,icon:r,method:()=>t(l,"handle"==l?"selectedHandle":"hashtag"==l?"selectedHashtag":"selectedKeyword","")}),(0,w.jsxs)("div",{className:"position-relative w-100",style:{zIndex:0},children:[(0,w.jsx)("span",{className:"h-34px w-34px text-gray-500 position-absolute top-0 start-0 translate-middle-x ms-3 ps-1 f-center",style:{zIndex:9},children:(0,w.jsx)(h.gc,{icon:r,iconClass:"text-muted"})}),(0,w.jsx)("input",{type:"text",className:"ps-7 fw-medium form-control form-control-sm "+(a?"is-invalid":""),value:s,onChange:e=>i(e)}),a&&(0,w.jsx)("div",{className:"invalid-feedback d-block",children:`Minimum ${"keyword"==l?"3":"2"} letters are required.`})]})]}),(0,w.jsx)("div",{className:"action_gap"})]})};class X extends i.Component{constructor(){super(...arguments),this.state={ruleName:"",filterTabs:{},actionTabs:{},feedList:[],tagsList:[],selectedNetworks:[],selectedFeeds:[],selectedMedia:[],selectedTags:[],networkList:[],selectedVisibility:"",selectedActionTags:[],selectedActionVisibility:[],selectedAiType:[],selectedSentiment:[],selectedHandle:"",selectedHashtag:"",selectedKeyword:"",selectedDuplicateAsset:!1,isActionSelected:!1,isTriggerSelected:!1,isError:!1,ruleStatus:!0,isEdit:!1,loading:!1,ruleId:null,prevRuleName:"",preProfanity:!0,profName:"",defaultProf:"https://cloud.tagbox.com/react-app/media/downloads/profanity.csv",order:null,isShow:!1,handleError:!1,keyError:!1,hashError:!1,isChanged:!1},this.timeouts=[],this.getRuleData=()=>{const{ruleData:e}=this.props,{feedList:t,defaultProf:s}=this.state;var i={},a={};Object.keys(e).map((l=>{if(e[l]){if("name"==l&&this.setState({ruleName:e[l],prevRuleName:e[l]}),y.includes(l)){if(i[l]=!0,"feeds"==l){const s=t?t.filter((t=>e[l].includes(t.id))):[];this.setState({selectedFeeds:s})}if("networks"==l){const t=e[l].split(",").map(Number);this.setState({selectedNetworks:t})}if("assetsType"==l){const t=[];e[l].includes("1")&&t.push("1"),e[l].includes("3")&&t.push("3,5"),e[l].includes("2")&&t.push("2,4"),this.setState({selectedMedia:t})}"recommend"==l&&this.setState({selectedAiType:e[l].split(",")}),"sentiment"==l&&this.setState({selectedSentiment:e[l].split(",")}),"showHide"==l&&this.setState({selectedVisibility:String(e[l])}),"tags"==l&&this.setState({selectedTags:e[l].split(",")}),"handle"==l&&this.setState({selectedHandle:e[l]}),"hashtag"==l&&this.setState({selectedHashtag:e[l]}),"keyword"==l&&this.setState({selectedKeyword:e[l]}),"duplicateAsset"==l&&this.setState({selectedDuplicateAsset:!0}),"profanity"==l&&this.setState({preProfanity:e.profanity==s,profName:e.profanity==s?"":e.profanity})}"actions"==l&&e[l].map((e=>{1==e.type&&(a.public=!0),2==e.type&&(a.private=!0),3==e.type&&(a.addTag=!0,this.setState({selectedActionTags:e.value.split(",")})),4==e.type&&(a.delete=!0)}))}})),this.setState({filterTabs:i,actionTabs:a,ruleName:e.name,ruleId:e.id,isActionSelected:!0,isTriggerSelected:!0,ruleStatus:e.status,isEdit:!0,order:e.order})},this.handleTrigger=(e,t,s)=>{var{filterTabs:i,handleError:a,keyError:l,hashError:n}=this.state;i[e]?(delete i[e],this.setState({filterTabs:i,[t]:s,hashError:"hashtag"!=e&&n,keyError:"keyword"!=e&&l,handleError:"handle"!=e&&a,isChanged:!0,..."profName"==t?{preProfanity:!0}:{}},(()=>this.enableAction()))):"duplicateAsset"==e?(i[e]=!0,this.setState({filterTabs:i,selectedDuplicateAsset:!0,isChanged:!0},(()=>this.enableAction()))):(i[e]=!0,this.setState({filterTabs:i,isChanged:!0}),"profanity"==e&&this.enableAction())},this.handleAction=(e,t,s)=>{var{actionTabs:i}=this.state;i[e]?delete i[e]:i[e]=!0,this.setState({actionTabs:i,isChanged:!0,...t&&"delete"!=e?{[t]:s}:{}},(()=>this.enableCreateRule()))},this.setNetworks=()=>{const{networks:e}=this.props;this.setState({networkList:e.filter((e=>![33,34,35,0].includes(e.id)))})},this.setFeeds=()=>{const{feeds:e}=this.props;this.setState({feedList:e.filter((e=>0!=e.networkId))})},this.enableAction=()=>{const{selectedNetworks:e,selectedFeeds:t,selectedMedia:s,selectedTags:i,selectedVisibility:a,selectedHandle:l,selectedHashtag:n,selectedKeyword:r,selectedDuplicateAsset:c,selectedAiType:d,selectedSentiment:o,preProfanity:h,filterTabs:m,profName:u,handleError:p,keyError:g,hashError:x}=this.state;!(e.length>0||t.length>0||s.length>0||i.length>0||a.length>0||l||r||n||c||d.length>0||o.length>0||m.profanity&&(h||u))||p||g||x?this.setState({isTriggerSelected:!1}):this.setState({isTriggerSelected:!0})},this.setDefRule=e=>{const{isEdit:t}=this.state;if(1==e){this.resetRule(t);const e=setTimeout((()=>{this.setState({filterTabs:{duplicateAsset:!0},selectedDuplicateAsset:!0,isTriggerSelected:!0,actionTabs:{private:!0},isActionSelected:!0,ruleName:"Bye-bye Duplicates",isChanged:!0})}),10);this.timeouts.push(e)}else if(2==e){this.resetRule(t);const e=setTimeout((()=>{this.setState({filterTabs:{sentiment:!0},selectedSentiment:["3"],isTriggerSelected:!0,actionTabs:{private:!0},isActionSelected:!0,ruleName:"Negativity Neutralizer",isChanged:!0})}),10);this.timeouts.push(e)}else if(3==e){this.resetRule(t);const e=setTimeout((()=>{this.setState({filterTabs:{recommend:!0},selectedAiType:["1"],isTriggerSelected:!0,actionTabs:{public:!0},isActionSelected:!0,ruleName:"AI Content Spotlight",isChanged:!0})}),10);this.timeouts.push(e)}else if(null==e){this.resetRule(t);const e=setTimeout((()=>{this.setState({filterTabs:{},selectedAiType:[],isTriggerSelected:!1,actionTabs:{},isActionSelected:!1,ruleName:"",isChanged:!1})}),10);this.timeouts.push(e)}},this.onSelectNetwork=e=>{let{selectedNetworks:t}=this.state;t.includes(e)?t=t.filter((t=>t!==e&&(18!==e||2!==t))):t.push(e,...18===e?[2]:[]),this.setState({selectedNetworks:t,isChanged:!0},(()=>this.enableAction()))},this.selectAllNetworks=e=>{const{networkList:t}=this.state;var s=[];e.target.checked&&(s=t.map((e=>e.id))).push(2),this.setState({selectedNetworks:s,isChanged:!0},(()=>this.enableAction()))},this.onChangeRuleName=e=>{""==e.target.value?this.setState({ruleName:e.target.value,isError:!0}):this.setState({ruleName:e.target.value,isError:!1,isChanged:!0})},this.onChangeRuleStatus=e=>this.setState({ruleStatus:!this.state.ruleStatus,isChanged:!0}),this.onSelectFeed=e=>{let{selectedFeeds:t}=this.state;t.includes(e)?t=t.filter((t=>t!=e)):t.push(e),this.setState({selectedFeeds:t,isChanged:!0},(()=>this.enableAction()))},this.selectAllFeeds=e=>{const{feedList:t}=this.state;this.setState({selectedFeeds:e.target.checked?t:[],isChanged:!0},(()=>this.enableAction()))},this.onSelectMediaType=e=>{let{selectedMedia:t}=this.state;t.includes(e)?t=t.filter((t=>t!=e)):t.push(e),this.setState({selectedMedia:t,isChanged:!0},(()=>this.enableAction()))},this.selectAllMediaTypes=e=>this.setState({selectedMedia:e.target.checked?["1","2,4","3,5"]:[],isChanged:!0},(()=>this.enableAction())),this.onSelectAiType=e=>{let{selectedAiType:t}=this.state;t.includes(e)?t=t.filter((t=>t!=e)):t.push(e),this.setState({selectedAiType:t,isChanged:!0},(()=>this.enableAction()))},this.selectAllAiTypes=e=>this.setState({selectedAiType:e.target.checked?["1","2","3"]:[],isChanged:!0},(()=>this.enableAction())),this.onSelectSentiment=e=>{let{selectedSentiment:t}=this.state;t.includes(e)?t=t.filter((t=>t!=e)):t.push(e),this.setState({selectedSentiment:t,isChanged:!0},(()=>this.enableAction()))},this.selectAllSentiments=e=>this.setState({selectedSentiment:e.target.checked?["1","2","3"]:[],isChanged:!0},(()=>this.enableAction())),this.onSelectTag=(e,t)=>{const{selectedTags:s,selectedActionTags:i}=this.state;"filter"==t?(s.push(e.value),this.setState({selectedTags:s,isChanged:!0},(()=>this.enableAction()))):(i.push(e.value),this.setState({selectedActionTags:i,isChanged:!0},(()=>this.enableCreateRule())))},this.onTagRemove=(e,t)=>s=>{let{selectedTags:i,selectedActionTags:a}=this.state;"filter"==t?(i.splice(e,1),this.setState({selectedTags:i,isChanged:!0},(()=>this.enableAction()))):(a.splice(e,1),this.setState({selectedActionTags:a,isChanged:!0},(()=>this.enableCreateRule())))},this.onSelectVisibility=(e,t)=>{"filter"==t?this.setState({selectedVisibility:e,isChanged:!0},(()=>this.enableAction())):this.setState({selectedActionVisibility:e,isChanged:!0},(()=>this.enableCreateRule()))},this.onChangeHandle=e=>this.setState({selectedHandle:e.target.value,handleError:String(e.target.value).length<2,isChanged:!0},(()=>this.enableAction())),this.onChangeHashtag=e=>this.setState({selectedHashtag:e.target.value,hashError:String(e.target.value).length<2,isChanged:!0},(()=>this.enableAction())),this.onChangeKeyword=e=>this.setState({selectedKeyword:e.target.value,keyError:String(e.target.value).length<3,isChanged:!0},(()=>this.enableAction())),this.onChangeProfanity=()=>this.setState((e=>({preProfanity:!e.preProfanity,isChanged:!0})),(()=>this.enableAction())),this.setProfanity=e=>this.setState({profName:e,isChanged:!0},(()=>this.enableAction())),this.enableCreateRule=()=>{const{selectedActionTags:e,selectedActionVisibility:t,isTriggerSelected:s,actionTabs:i}=this.state;s&&(e.length>0||i.public||i.delete||i.private)?this.setState({isActionSelected:!0}):this.setState({isActionSelected:!1})},this.confirmReset=()=>{g().fire({title:"Are you sure?",text:"All changes will be removed.",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Reset",confirmButtonColor:"var(--bs-success)"}).then((e=>{e.value?this.resetRule():e.dismiss}))},this.resetRule=e=>{this.setState({ruleName:"",filterTabs:{},actionTabs:{},selectedNetworks:[],selectedFeeds:[],selectedMedia:[],selectedTags:[],selectedVisibility:"",selectedActionTags:[],selectedActionVisibility:[],selectedAiType:[],selectedSentiment:[],selectedHandle:"",selectedHashtag:"",selectedKeyword:"",selectedDuplicateAsset:!1,isActionSelected:!1,isTriggerSelected:!1,isError:!1,ruleStatus:!0,isEdit:!!e,loading:!1,ruleId:e?this.state.ruleId:null,prevRuleName:e?this.state.prevRuleName:"",preProfanity:!0,profName:"",defaultProf:`${q.kuD}app/assets/media/downloads/profanity.csv`,isChanged:!1}),(0,S.C2)()&&(0,S.Fl)("hide")},this.saveRule=()=>{const{planId:e,navigate:t}=this.props;57==e?((0,S.Fl)("hide"),j(t)):(window.saveBar.set({saveAction:{loading:!0}}),this.onSubmitData())},this.onSubmitData=()=>{const{ruleName:e,isEdit:t,prevRuleName:s}=this.state,{ruleList:i,modifyRule:a}=this.props;if(e.length>0){const l=i&&(null===i||void 0===i?void 0:i.length)>0?i.filter((t=>String(t.name).toLowerCase()==String(e).toLowerCase())):[];if(l&&l.length>0&&(!t||l[0].name!=s))(0,S.r$)("Rule name already exists. ");else{a(this.createPayload(),!1,(()=>this.setState({isChanged:!1,...t?{prevRuleName:e}:{}})))}}else this.setState({isError:!0})},this.createPayload=()=>{const{actionTabs:e,filterTabs:t,ruleName:s,selectedFeeds:i,selectedNetworks:a,selectedTags:l,selectedVisibility:n,selectedMedia:r,selectedActionTags:c,selectedHandle:d,selectedHashtag:o,selectedKeyword:h,ruleStatus:m,selectedDuplicateAsset:u,selectedAiType:p,selectedSentiment:g,isEdit:x,ruleId:f,preProfanity:b,profName:y,defaultProf:j,order:v}=this.state,{ruleList:w}=this.props;let N=[],k=[],S=[],A=[],T="",C=[],F="",I="",R="",D=0,P=[],L=[],E="";Object.keys(t).map((e=>{"feeds"==e&&i.length>0&&i.map((e=>N.push(e.id))),"networks"==e&&a.length>0&&a.map((e=>k.push(e))),"tags"==e&&l.length>0&&l.map((e=>S.push(e))),"assetsType"==e&&r.length>0&&r.map((e=>A.push(e))),"showHide"==e&&n.length>0&&(T=n),"handle"==e&&d&&(F=d),"hashtag"==e&&o&&(I=o),"keyword"==e&&h&&(R=h),"duplicateAsset"==e&&u&&(D=1),"recommend"==e&&p.length>0&&p.map((e=>P.push(e))),"sentiment"==e&&g.length>0&&g.map((e=>L.push(e))),"profanity"==e&&(b||y)&&(E=b?j:y)})),Object.keys(e).map((e=>{let t="";"addTag"==e&&c.length>0&&(c.map((e=>t+=e+",")),t=t.slice(0,-1),C.push({type:3,value:t})),"public"==e&&C.push({type:1,value:"1"}),"private"==e&&C.push({type:2,value:"1"}),"delete"==e&&C.push({type:4,value:""})}));let _={name:s,status:m?1:0,feeds:String(N),networks:String(k),tags:String(S),assetsType:String(A),showHide:Number(T),handle:F,hashtag:I,keyword:R,duplicateAsset:D,recommend:String(P),sentiment:String(L),profanity:String(E),actions:C,actionsType:1,order:w.length};return _=x?{..._,id:f,actionsType:2,order:v}:_,_}}componentDidMount(){const{networks:e,getNetworks:t,feeds:s,getFeeds:i,getTags:a,tagsList:l,ownerId:n}=this.props;e?this.setNetworks():t(),s?this.setFeeds():i(),l.length<=0&&a(n),(0,S.C2)()&&(window.addEventListener("onSaveClicked",this.saveRule),window.addEventListener("onDiscardClicked",this.resetRule))}componentDidUpdate(e,t){const{defRule:s,defIndex:i,ruleData:a,reset:l,editId:n,editStatus:r,editOrder:c}=this.props,{isTriggerSelected:d,isActionSelected:o,isChanged:h}=this.state;e.networks!=this.props.networks&&this.setNetworks(),e.feeds!=this.props.feeds&&this.setFeeds(),0==e.defRule&&1==s&&0!=i&&this.setDefRule(i),n==this.state.ruleId&&null!=r&&e.editStatus!=r&&this.setState({ruleStatus:r}),n==this.state.ruleId&&null!=c&&e.editOrder!=c&&this.setState({order:c}),!(0,Z.isEqual)(e.ruleData,a)&&Object.keys(a).length>0&&this.getRuleData(),0==e.reset&&1==l&&this.resetRule(),(0,S.C2)()&&(t.isChanged!=h&&h&&((0,S.Fl)(),window.saveBar.set({saveAction:{disabled:!0}})),t.isTriggerSelected==d&&t.isActionSelected==o||!h||(d&&o?window.saveBar.set({saveAction:{disabled:!1}}):window.saveBar.set({saveAction:{disabled:!0}})))}componentWillUnmount(){(0,S.C2)()&&(window.removeEventListener("onSaveClicked",this.saveRule),window.removeEventListener("onDiscardClicked",this.resetRule)),this.timeouts.forEach((e=>clearTimeout(e))),this.timeouts=[]}render(){const{filterTabs:e,actionTabs:t,ruleName:s,isError:i,ruleStatus:a,isEdit:n,duplicateAssets:r,networkList:c,feedList:d,preProfanity:o,defaultProf:p,profName:g,isTriggerSelected:x,isActionSelected:f,isShow:b,handleError:y,keyError:v,hashError:k,isChanged:A}=this.state,{tagsList:F,spinner:I,planId:P,navigate:H}=this.props;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"d-flex flex-column flex-grow-1 justify-content-between mb-10 pb-7 overflow-auto rule_action mt-5 mt-lg-0",children:[(0,w.jsxs)("div",{className:"mb-8 mx-auto w-100 py-lg-10 py-4 px-4",style:{maxWidth:"350px"},children:[(0,w.jsxs)("div",{className:"mb-2 w-100",children:[(0,w.jsx)("input",{type:"text",className:"form-control "+(i?"is-invalid":""),placeholder:"Enter rule name",onChange:this.onChangeRuleName,value:s}),i&&(0,w.jsx)("div",{className:"invalid-feedback d-block",children:"Enter rule name."})]}),(0,w.jsxs)("label",{className:"form-check form-switch mb-3 fw-medium mb-8",children:[(0,w.jsx)("input",{className:"form-check-input me-2",type:"checkbox",checked:a,onChange:this.onChangeRuleStatus}),"Rule status"]}),e&&Object.keys(e).length>0?null:(0,w.jsxs)(m.A,{className:"w-100 add_rule",children:[(0,w.jsxs)(m.A.Toggle,{variant:"outline-secondary",id:"rule-dd",className:"border border-gray border-1 w-100 p-4 arrow_disabled rounded-2",children:[(0,w.jsx)(h.gc,{icon:"plus",iconClass:"text-muted"}),(0,w.jsx)("span",{className:"fs-9 fw-medium",children:"Add trigger"})]}),(0,w.jsx)(N,{handleTrigger:this.handleTrigger,filterTabs:e,duplicateAssets:r})]}),e&&Object.keys(e).map((e=>"networks"==e?(0,w.jsx)(T,{handleTrigger:this.handleTrigger,selectedNetworks:this.state.selectedNetworks,onSelectNetwork:this.onSelectNetwork,networkList:c,selectAllNetworks:this.selectAllNetworks},e):"feeds"==e?(0,w.jsx)(R,{handleTrigger:this.handleTrigger,selectedFeeds:this.state.selectedFeeds,onSelectFeed:this.onSelectFeed,feedList:d,selectAllFeeds:this.selectAllFeeds},e):"assetsType"==e?(0,w.jsx)(D,{handleTrigger:this.handleTrigger,selectedMedia:this.state.selectedMedia,onSelectMediaType:this.onSelectMediaType,selectAllMediaTypes:this.selectAllMediaTypes}):"tags"==e?(0,w.jsx)(L,{handleTrigger:this.handleTrigger,selectedTags:this.state.selectedTags,onSelectTag:this.onSelectTag,onTagRemove:this.onTagRemove,tagsList:F},e):"showHide"==e?(0,w.jsx)(E,{handleTrigger:this.handleTrigger,onSelectVisibility:this.onSelectVisibility,selectedVisibility:this.state.selectedVisibility},e):"handle"==e?(0,w.jsx)(Q,{filter:e,handleTrigger:this.handleTrigger,method:this.onChangeHandle,selectedVal:this.state.selectedHandle,isError:y,name:"Handle",icon:"at"},e):"hashtag"==e?(0,w.jsx)(Q,{filter:e,handleTrigger:this.handleTrigger,method:this.onChangeHashtag,selectedVal:this.state.selectedHashtag,isError:k,name:"Hashtag",icon:"hashtag"},e):"keyword"==e?(0,w.jsx)(Q,{filter:e,handleTrigger:this.handleTrigger,method:this.onChangeKeyword,selectedVal:this.state.selectedKeyword,isError:v,name:"Keyword",icon:"text"},e):"duplicateAsset"==e?(0,w.jsx)(_,{handleTrigger:this.handleTrigger,duplicateAssets:r},e):"recommend"==e?(0,w.jsx)(C,{handleTrigger:this.handleTrigger,selectedAiType:this.state.selectedAiType,onSelectAiType:this.onSelectAiType,selectAllAiTypes:this.selectAllAiTypes}):"sentiment"==e?(0,w.jsx)(M,{handleTrigger:this.handleTrigger,selectedSentiment:this.state.selectedSentiment,onSelectSentiment:this.onSelectSentiment,selectAllSentiments:this.selectAllSentiments}):"profanity"==e?(0,w.jsx)(J,{handleTrigger:this.handleTrigger,onChangeProfanity:this.onChangeProfanity,preProfanity:o,defaultProf:p,profName:g,setProfanity:this.setProfanity}):null)),e&&Object.keys(e).length>0&&Object.keys(e).length<13?(0,w.jsxs)(m.A,{className:"w-100 text-center add_more_rule",show:b,onToggle:t=>this.setState({isShow:12!=Object.keys(e).length&&t}),children:[(0,w.jsx)(m.A.Toggle,{variant:"outline-secondary",id:"rule-dd",className:"p-0 border-0 arrow_disabled d-flex m-auto",children:(0,w.jsx)(h.gc,{type:"light",icon:"circle-plus",iconClass:"text-muted me-0 fs-4"})}),(0,w.jsx)(N,{handleTrigger:this.handleTrigger,filterTabs:e,duplicateAssets:r})]}):null,(0,w.jsx)($,{actionTabs:t,handleAction:this.handleAction,isTriggerSelected:this.state.isTriggerSelected,selectedActionTags:this.state.selectedActionTags,onSelectTag:this.onSelectTag,onTagRemove:this.onTagRemove,tagsList:F,selectedVisibility:this.state.selectedVisibility})]}),(0,w.jsx)("div",{className:"p-4 bg-body position-sticky bottom-0",children:(0,w.jsx)("div",{className:"my-0 border border-warning alert alert-warning",children:"Note*: AI-driven rules may take some time to activate. During this period, affected posts will be temporarily moved to a private tab. Once activated, the rules will adhere to the established guidelines."})}),!(0,S.C2)()&&(0,w.jsx)(l.A.Footer,{className:"f-center justify-content-end position-absolute bottom-0 start-0 w-100 py-4 px-4 px-xl-6 bg-body",children:(0,w.jsxs)("div",{className:"block-center d-flex align-items-center justify-content-between w-100",children:[(0,w.jsx)("div",{children:(0,w.jsxs)("span",{style:{display:"block",textAlign:"end"},children:[(0,w.jsx)("strong",{children:" Need help with Auto-Pilot?"}),(0,w.jsxs)("span",{className:"cursor-pointer",onClick:()=>{window.Intercom&&window.Intercom("show")},children:[" Talk to Us! ",(0,w.jsx)("strong",{children:"27/7"})]})]})}),(0,w.jsxs)(u.A,{type:"button",className:"btn btn-primary btn-min-w "+(I?"spinner":""),disabled:!(x&&f),onClick:()=>57==P?j(H):this.onSubmitData(),children:[n?"Update":"Create"," rule"]})]})})]})})}}const ee=(0,O.Ng)((e=>{var t,s,i,a;return{feeds:null===(t=e.manageFeeds)||void 0===t?void 0:t.feeds,networks:null===(s=e.addFeedReducer)||void 0===s||null===(i=s.addFeedNetworks)||void 0===i?void 0:i.networks,tagsList:null===(a=e.tags)||void 0===a?void 0:a.tagsList}}),(e=>({getNetworks:()=>e((0,V.Ux)()),getFeeds:()=>e((0,B.LF)()),getTags:t=>e((e=>t=>{let s=[];const i=q.onz?q.kuD:`${q.kuD}test/tagshop/`;(new W.A).get(`${i}media/${e}/tags_${e}.json`).then((e=>{const{data:i}=e;s=Object.values(i).filter((e=>""!==e)).map((e=>({value:e,label:e}))),t({type:U.ES0,payload:s})})).catch((e=>{t({type:U.ES0,payload:s})}))})(t))})))(X);var te=s(59051),se=s.n(te);function ie(){return(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"w-100",children:(0,w.jsx)("div",{className:"border-bottom p-4 h-56px f-center justify-content-start",children:(0,w.jsx)("div",{className:"sk_line w-100px d-block h-14px"})})}),(0,w.jsxs)("div",{className:"d-flex flex-row align-items-center border-bottom py-3 px-4 h-46px",children:[(0,w.jsx)("div",{className:"w-25",children:(0,w.jsx)("div",{className:"sk_line h-14px w-90px"})}),(0,w.jsx)("div",{className:"w-25",children:(0,w.jsx)("div",{className:"sk_line h-14px w-40px"})}),(0,w.jsx)("div",{className:"w-25",children:(0,w.jsx)("div",{className:"sk_line h-14px w-80px"})}),(0,w.jsx)("div",{className:"w-25 f-center justify-content-end",children:(0,w.jsx)("div",{className:"sk_line h-14px w-60px"})})]}),(0,S.OZ)(3).map(((e,t)=>(0,w.jsxs)("div",{className:"d-flex align-items-center flex-row border-bottom py-2 px-4 h-48px",children:[(0,w.jsx)("div",{className:"w-25",children:(0,w.jsx)("div",{className:"d-flex align-items-center flex-row",children:(0,w.jsx)("div",{className:"sk_line w-60px h-12px pe-4"})})}),(0,w.jsx)("div",{className:"w-25",children:(0,w.jsx)("div",{className:"sk_line w-32px h-12px me-2"})}),(0,w.jsx)("div",{className:"w-25",children:(0,w.jsx)("div",{className:"pe-3",children:(0,w.jsx)("div",{className:"sk_line w-90px h-12px"})})}),(0,w.jsx)("div",{className:"w-25 f-center justify-content-end",children:(0,w.jsx)("div",{className:"sk_rect h-20px w-20px"})})]})))]})}s(1391);var ae=s(26787),le=s(42690);class ne extends i.Component{constructor(e){super(e),this.timeouts=[],this.getRules=e=>{e||this.setState({loading:!0}),(new W.A).get(`${q.OYq}/${this.state.wallId}`).then((e=>{const{responseData:t}=e.data;this.setState({ruleList:t,loading:!1})}))},this.modifyRule=(e,t,s)=>{const{editId:i,wallId:a}=this.state,l=(0,S.HA)();t||this.setState({spinner:!0}),3==e.actionsType&&this.setState({isStatus:!0}),(new W.A).post(`${q.izg}`,{...e,wallId:a}).then((t=>{const{responseMessage:a}=t.data;(0,S.C2)()&&(window.saveBar.set({saveAction:{loading:!1}}),(0,S.Fl)("hide")),(0,S._q)(l,"success",a),1==e.actionsType?this.setState({reset:!0,spinner:!1,isStatus:!1,activeDefIndex:null},(()=>{const e=setTimeout((()=>{this.setState({reset:!1})}),100);this.timeouts.push(e)})):3==e.actionsType&&e.id==i?this.setState({editStatus:e.status,spinner:!1,isStatus:!1,activeDefIndex:null},(()=>{const e=setTimeout((()=>{this.setState({editStatus:null})}),10);this.timeouts.push(e)})):this.setState({spinner:!1,isStatus:!1,activeDefIndex:null},(()=>s?s():null)),this.getRules(!0)})).catch((e=>{(0,S.C2)()&&(window.saveBar.set({saveAction:{loading:!1}}),(0,S.Fl)("hide")),this.setState({spinner:!1}),(0,S._q)(l,"error","Some error occured, please try again later.")}))},this.confirmDelete=e=>{g().fire({title:"Are you sure?",text:"Are you sure you want to delete this rule?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then((t=>{t.value?this.deleteRule(e):t.dismiss}))},this.deleteRule=e=>{let{ruleList:t,editId:s,wallId:i}=this.state;const a=(0,S.HA)();this.setState({isDelete:!0}),(new W.A).delete(`${q.rkf}/${e}/${i}`).then((i=>{const{responseMessage:l}=i.data;(0,S._q)(a,"success",l),e==s&&this.setState({reset:!0},(()=>{const e=setTimeout((()=>{this.setState({reset:!1})}),100);this.timeouts.push(e)})),this.setState({ruleList:t.filter((t=>t.id!=e)),isDelete:!1})})).catch((e=>{(0,S._q)(a,"error","Some error occured, please try again later.")}))},this.changeStatus=(e,t)=>{const s={id:e,status:Number(t),actionsType:3};this.modifyRule(s,!0)},this.setDefault=e=>{this.setState({defRule:!0,defIndex:e,activeDefIndex:e},(()=>{const e=setTimeout((()=>{this.setState({defRule:!1,defIndex:0})}),200);this.timeouts.push(e)}))},this.state={defRule:!1,defIndex:0,ruleList:[],loading:!1,ruleData:{},reset:!1,wallId:localStorage.getItem("wallId"),spinner:!1,editId:null,editStatus:null,editOrder:null,isDelete:!1,isStatus:!1,activeDefIndex:null},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){const{ruleList:e}=this.state;(null===e||void 0===e?void 0:e.length)<=0&&this.getRules()}componentDidUpdate(e){var t,s,i;(null===(t=this.props.manageFeeds)||void 0===t?void 0:t.loading)!=(null===(s=e.manageFeeds)||void 0===s?void 0:s.loading)&&1!=(null===(i=this.props.manageFeeds)||void 0===i?void 0:i.loading)&&this.setState({reset:!0,wallId:localStorage.getItem("wallId")},(()=>{const e=setTimeout((()=>{this.setState({reset:!1})}),100);this.timeouts.push(e),this.getRules()}))}onDragEnd(e){if(!e.destination)return;const t=((e,t,s)=>{const i=Array.from(e),[a]=i.splice(t,1);return i.splice(s,0,a),i})(this.state.ruleList,e.source.index,e.destination.index),s=(0,S.HA)();let i=[];t.map(((e,t)=>i.push({[e.id]:t}))),(new W.A).post(q.w3J,{rules:i,wallId:this.state.wallId}).then((e=>{let t=i.find((e=>e.hasOwnProperty(this.state.editId)));t&&this.setState({editOrder:t[this.state.editId]},(()=>{const e=setTimeout((()=>{this.setState({editOrder:null})}),10);this.timeouts.push(e)})),this.getRules(!0);const{responseMessage:a}=e.data;(0,S._q)(s,"success",a)})).catch((e=>{this.getRules(!0),(0,S._q)(s,"error","Some error occured, please try again later.")})),this.setState({ruleList:t})}componentWillUnmount(){this.timeouts.forEach((e=>clearTimeout(e))),this.timeouts=[]}render(){var e,t,s;const{defRule:m,defIndex:u,ruleList:p,loading:g,ruleData:y,reset:v,spinner:N,editId:k,editStatus:A,editOrder:T,isDelete:C,isStatus:F,activeDefIndex:I}=this.state,{planId:R,navigate:D,ownerId:P,allWalls:L}=this.props,E=null!==(e=null===L||void 0===L?void 0:L.find((e=>e.id==localStorage.getItem("wallId"))))&&void 0!==e?e:{};return(0,w.jsxs)(w.Fragment,{children:[null!==L&&void 0!==L&&L.length?(0,w.jsx)(ae.A,{showGallerySwitcher:!1,crumbs:[{name:null!==(t=null===E||void 0===E?void 0:E.name)&&void 0!==t?t:"",icon:"grid-2-plus",imgUrl:null!==(s=null===E||void 0===E?void 0:E.thumbnail)&&void 0!==s?s:""},{name:"Home",link:"/home"},{name:"Content Gallery",link:"/content"},{name:null===E||void 0===E?void 0:E.name,link:`/content/moderation/${null===E||void 0===E?void 0:E.id}`},{name:"Autopilot",link:"/autopilot"}]},null===E||void 0===E?void 0:E.id):null,(0,w.jsxs)("div",{className:"custom-side-menu d-flex",children:[(0,S.C2)()?null:(0,w.jsx)(le.A,{getWallData:E}),(0,w.jsx)("div",{className:"custom-main-content",style:{width:(0,S.C2)()?"100%":null,marginLeft:(0,S.C2)()?"0":null},children:(0,w.jsx)("div",{className:"d-flex flex-column flex-column-fluid w-100 full-content",children:(0,w.jsx)(a.A,{className:(0,S.C2)()?"":"container-autopilot",children:(0,w.jsxs)(l.A,{className:"a_header_",children:[(0,w.jsx)(l.A.Header,{children:(0,w.jsx)("div",{className:"f-between flex-wrap w-100",children:(0,w.jsx)("div",{className:"d-flex align-items-center flex-wrap my-2",children:(0,w.jsx)("h1",{className:"text-dark font-weight-bold me-4 fs-6 mb-0",children:"Auto pilot"})})})}),(0,w.jsxs)(l.A.Body,{className:"d-flex flex-wrap flex-lg-nowrap align-items-start p-0 aside_body flex-lg-row-reverse align-items-stretch",children:[(0,w.jsxs)("div",{className:"d-lg-flex flex-column flex-shrink-0 overflow-auto rule_guide w-100",children:[g?(0,w.jsx)(ie,{}):0==(null===p||void 0===p?void 0:p.length)?(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)("div",{className:"w-100",children:(0,w.jsx)("h4",{className:"border-bottom p-4 fs-6 mb-0",children:"Here's all that you can do:"})}),(0,w.jsx)("div",{className:"px-5 mt-3",children:null!==x&&void 0!==x&&x.length?x.map(((e,t)=>(0,w.jsxs)("div",{className:" rule-box d-flex flex-column position-relative pb-2",children:[(0,w.jsxs)("h5",{className:"d-flex fs-8 mb-0",children:[(0,w.jsx)("span",{className:"bg-body d-inline-block",style:{zIndex:"1"},children:(0,w.jsx)("div",{className:"f-center me-2 h-26px w-26px rounded-1 bg-dark me-2",style:{},children:(0,w.jsx)(h.gc,{icon:e.icon,iconClass:"text-light"})})}),e.title]}),(0,w.jsx)("p",{className:"fs-8 ps-5 ms-3",children:e.text})]},t))):null})]},0):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"w-100",children:(0,w.jsx)("h4",{className:"border-bottom p-4 fs-6 mb-0",children:"Manage rules"})}),(0,w.jsx)("div",{className:"d-flex flex-row border-bottom py-3 px-4",children:null!==b&&void 0!==b&&b.length?b.map(((e,t)=>(0,w.jsx)("div",{className:"fw-semibold "+(3===t?"text-end":""),style:{width:(t%2?"15":"35")+"%"},children:e.heading},t))):null}),(0,w.jsx)(o.JY,{onDragEnd:this.onDragEnd,children:(0,w.jsx)(o.gL,{droppableId:"droppable",isDropDisabled:(null===p||void 0===p?void 0:p.length)<2||57==R,children:(e,t)=>(0,w.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[null===p||void 0===p?void 0:p.map(((e,t)=>(0,w.jsx)(o.sx,{draggableId:String(e.id),index:t,children:(s,i)=>{return(0,w.jsx)("div",{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,style:(i.isDragging,a=s.draggableProps.style,{userSelect:"none",borderBottom:"1px solid #F5F5F5",...a}),className:"bg-body border-bottom",children:(0,w.jsxs)("div",{className:"d-flex align-items-center flex-row py-2 px-4 pe-1",children:[(0,w.jsxs)("div",{className:"d-flex p-1",style:{width:"35%"},children:[(0,w.jsx)(h.gc,{icon:"grip-dots-vertical",iconClass:"me-2 mt-1 text-muted"}),(0,w.jsx)("span",{className:"d-inline-block text-break text-dark",children:e.name})]}),(0,w.jsx)("div",{className:"p-1",style:{width:"15%"},children:(0,w.jsx)(n.A.Check,{type:"switch",checked:e.status,onChange:()=>57==R?j(D):this.changeStatus(e.id,!e.status),disabled:F})}),(0,w.jsx)("div",{className:"p-1",style:{width:"35%"},children:e.lastExecuted?se().unix(e.lastExecuted).format("DD MMM YYYY"):"--"}),(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-end text-end",style:{width:"15%"},children:[(0,w.jsx)(r.A,{placement:"top",overlay:(0,w.jsx)(c.A,{children:"Edit"}),children:(0,w.jsx)("button",{id:`edit_${t}`,className:"border-0 btn btn-icon btn-sm bg-transparent",style:{background:"#F5F5F5"},onClick:()=>this.setState({ruleData:e,editId:e.id},(()=>{const e=setTimeout((()=>{this.setState({ruleData:{}})}),100);this.timeouts.push(e)})),children:(0,w.jsx)(h.gc,{icon:"pen-to-square",iconClass:"me-1 text-muted"})})}),(0,w.jsx)(r.A,{placement:"top",overlay:(0,w.jsx)(c.A,{children:"Delete"}),children:(0,w.jsx)("button",{id:`delete_${t}`,className:"border-0 btn btn-icon btn-sm bg-transparent","aria-label":"delete",style:{background:"#F5F5F5"},onClick:()=>57==R?j(D):this.confirmDelete(e.id),disabled:C,children:(0,w.jsx)(h.gc,{icon:"trash-can",iconClass:"me-1 text-muted"})})})]})]})});var a}},e.id))),e.placeholder]})})})]}),(0,w.jsx)("div",{className:"w-100 mb-4 mt-5",children:(0,w.jsx)("h4",{className:"border-bottom p-4 fs-6 mb-0",children:"Here's default rules list"})}),(0,w.jsx)("div",{className:"px-5 rules-list",children:(0,w.jsxs)("div",{className:"border rounded-2 p-4 mb-4",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,w.jsx)("h3",{className:"fs-7 mb-0",children:"Read-to-use AI rules:"}),(0,w.jsxs)("span",{style:{verticalAlign:"middle",fontStyle:"italic",fontSize:"11px",color:"rgb(153, 153, 153)",fontWeight:"400"},children:["Powered By ",(0,w.jsx)(d.A,{src:"https://cloud.tagbox.com/react-app/media/icons/svg-icons/true-sense.svg",alt:"TruSense",height:"16",width:"16"}),(0,w.jsx)("span",{style:{verticalAlign:"middle",fontSize:"13px",fontStyle:"normal",color:"var(--bs-gray-900)"},children:" TruSense"})]})]}),null!==f&&void 0!==f&&f.length?f.map(((e,t)=>{var s,i;return(0,w.jsx)("div",{className:"d-flex rounded-2 border border primary p-2 mb-3 cursor-pointer prefix_rule",style:{background:"var(--bs-gray-100)"},children:(0,w.jsx)("div",{className:"d-flex flex-column w-100",children:(0,w.jsxs)("h5",{className:"d-flex align-items-center justify-content-between fs-8 mb-0",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"f-center me-2 h-26px w-26px rounded-1 bg-dark",children:(0,w.jsx)(h.gc,{icon:e.icon,iconClass:"text-light"})}),(0,w.jsx)("span",{className:"d-inline-block me-2",children:e.title}),(0,w.jsx)(r.A,{placement:"top",overlay:(0,w.jsx)(c.A,{children:e.text}),children:(0,w.jsx)("span",{children:(0,w.jsx)(h.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsx)(n.A.Check,{type:"switch",checked:(null===p||void 0===p||null===(s=p.map((e=>e.name)))||void 0===s?void 0:s.includes(e.title))||t==I-1,onClick:s=>s.target.checked?this.setDefault(t+1,e.title):this.setDefault(null,""),disabled:null===p||void 0===p||null===(i=p.map((e=>e.name)))||void 0===i?void 0:i.includes(e.title)})]})})})})):null]})})]}),(0,w.jsx)("div",{className:"d-flex flex-grow-1 position-relative",children:(0,w.jsx)(ee,{defRule:m,defIndex:u,modifyRule:this.modifyRule,ruleList:p,ruleData:y,reset:v,spinner:N,editId:k,editStatus:A,editOrder:T,navigate:D,planId:R,ownerId:P})})]})]})})})})]})]})}}const re=(0,O.Ng)((e=>{var t,s;return{allWalls:null===e||void 0===e||null===(t=e.dashboardData)||void 0===t||null===(s=t.dashboarddata)||void 0===s?void 0:s.allWalls,manageFeeds:e.manageFeeds}}),null)(ne)},42690:(e,t,s)=>{s.d(t,{A:()=>r});s(9950);var i=s(54810),a=s(80322),l=s(28429),n=s(44414);const r=e=>{var t,s;let{getWallData:r}=e;const{name:c,id:d}=r||{},o=(0,l.Zp)(),h=window.location.pathname,m=(e,t,s)=>{e.stopPropagation(),((0,a.Yj)("networkManager","manageFeed",!0)||[4,5].includes(s))&&o(t)};return(0,n.jsxs)("div",{className:"custom-side-menu-inn h-100",children:[(0,n.jsxs)("div",{className:"custom-side-menu-body",children:[(0,n.jsx)("p",{className:"csm-title mb-0 pb-3 pb-sm-2 border-bottom",children:"CONTENT"}),(0,n.jsxs)("ul",{className:"list-unstyled",children:[(0,n.jsxs)("li",{className:"py-3 border-bottom cursor-pointer "+(null===h||void 0===h||!h.includes("addfeed")||null!==h&&void 0!==h&&null!==(t=h.split("/"))&&void 0!==t&&t.includes("29")?"":"active"),onClick:e=>m(e,`/content/addfeed/${d}`,2),children:[(0,n.jsx)(i.gc,{iconClass:"me-2",icon:"square-plus"}),(0,n.jsx)("span",{children:"Add Feed"})]}),(0,n.jsxs)("li",{className:"py-3 border-bottom cursor-pointer "+(null!==h&&void 0!==h&&h.includes("moderation")?"active":""),onClick:e=>m(e,`/content/moderation/${d}`,1),children:[(0,n.jsx)(i.gc,{iconClass:"me-2",icon:"image"}),(0,n.jsx)("span",{children:"Manage Content"})]}),(0,n.jsxs)("li",{className:"py-3 border-bottom cursor-pointer "+(null!==h&&void 0!==h&&h.includes("managefeed")?"active":""),onClick:e=>m(e,`/content/managefeed/${d}`,3),children:[(0,n.jsx)(i.gc,{iconClass:"me-2",icon:"rectangle-history-circle-plus"}),(0,n.jsx)("span",{children:"Manage Feeds"})]}),(0,n.jsxs)("li",{className:"py-3 border-bottom cursor-pointer "+(null!==h&&void 0!==h&&h.includes("autopilot")?"active":""),onClick:e=>m(e,"/autopilot",4),children:[(0,n.jsx)(i.gc,{iconClass:"me-2",icon:"toggle-on"}),(0,n.jsx)("span",{children:"Auto Pilot"})]}),(0,n.jsxs)("li",{className:"py-3 border-bottom cursor-pointer "+(null!==h&&void 0!==h&&null!==(s=h.split("/"))&&void 0!==s&&s.includes("29")?"active":""),onClick:e=>m(e,`/content/addfeed/${d}/29`,5),children:[(0,n.jsx)(i.gc,{iconClass:"me-2",icon:"messages"}),(0,n.jsx)("span",{children:"Review Hub"})]})]})]}),(0,n.jsx)("div",{className:"custom-side-menu-footer d-flex justify-content-end border-top",children:(0,n.jsx)("div",{className:"f-between w-100 gap-3",children:(0,n.jsx)("button",{type:"button",id:"",className:"w-100 btn btn-primary",onClick:e=>{e.stopPropagation(),o(`/publish/${d}`)},children:"Publish"})})})]})}}}]);