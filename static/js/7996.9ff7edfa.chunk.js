"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[7996],{77941:(s,e,t)=>{t.d(e,{A:()=>n});var a=t(42074),r=t(44414);const n=s=>{let{text:e,link:t,linkText:n}=s;return(0,r.jsxs)("div",{className:" text-center fw-normal fs-8 mt-lg-5 mt-1 f-center mb-5",children:[e,(0,r.jsx)(a.N_,{to:t,className:"btn btn-link text-decoration-none fw-bold fs-8 p-0 ms-1",title:"Auth",children:n})]})}},67996:(s,e,t)=>{t.r(e),t.d(e,{default:()=>w});var a=t(9950),r=t(17595),n=t(97937),o=t(77941),l=t(54810),i=t(28981),c=t(52867),d=t(77314),h=t(1391),p=t(9638),m=t(44414);class b extends a.Component{constructor(){super(...arguments),this.state={accountPassword:null,passwordError:null,accountRePassword:null,passwordReError:null,success:!1,strength:0,btnLoader:!1,visiblePass:!1,reVisiblePass:!1,successError:!1,strongPass:!0},this.onPasswordReTextChange=s=>{this.setState({accountRePassword:s.target.value},(()=>{this.state.accountPassword!=this.state.accountRePassword?this.setState({passwordReError:!0}):this.setState({passwordReError:!1})}))},this.onClickToResetPassword=s=>{const{accountPassword:e,accountRePassword:t,passwordError:a,passwordReError:r,strength:n}=this.state,{token:o,userId:l}=this.props.params;if(4==n){this.setState({btnLoader:!0}),e&&String(e).length>=8&&t&&String(t).length==String(e).length&&!a&&!r?(0,i.wM)({userId:l,token:o,password:e}).then((s=>{this.props.navigate("/accounts/login?reset=1")})).catch((()=>{this.props.navigate("/accounts/login?reset=2")})):(!e||String(e).length<8?this.setState({passwordError:!0}):e!=t&&this.setState({passwordReError:!0}),this.setState({btnLoader:!1}))}else this.setState({strongPass:!1})},this.checkPassStrength=s=>{const e=s.target.value,{strength:t}=(0,c.Oj)(e);this.setState({accountPassword:e,strength:t,passwordReError:null,passwordError:!1,strongPass:4==t||this.state.strongPass})},this.showPassword=()=>{this.setState({visiblePass:!this.state.visiblePass})}}render(){const{prefix:s,params:e}=this.props,{strength:t,passwordError:a,success:i,accountRePassword:c,passwordReError:h,accountPassword:b,btnLoader:w,visiblePass:u,reVisiblePass:g,successError:x,strongPass:P}=this.state;return(0,m.jsxs)("div",{className:"w-100 mb-lg-0 mb-3",children:[(0,m.jsx)("div",{className:"text-start mb-5",children:(0,m.jsx)("h1",{className:" mb-0 display-2 fw-bold mb-3",children:"Reset Password?"})}),i?(0,m.jsx)("div",{className:`alert alert-${x?"danger":"success"} py-2`,role:"alert",children:x?"Some error occured, please try again later.":"You have successfully updated your password. You can login now with your new password."}):null,i?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsxs)(r.A.Group,{className:"mb-4 mb-xl-5",children:[(0,m.jsx)(r.A.Label,{className:"fw-bold ",htmlFor:"password_",children:"Enter Password"}),(0,m.jsxs)("span",{className:"position-relative d-block mb-2 "+(a?"is-invalid":""),children:[(0,m.jsx)(r.A.Control,{type:u?"text":"password",id:"password_",size:"lg",placeholder:"Password",minLength:"8",maxLength:"24",onChange:this.checkPassStrength,value:b}),(0,m.jsx)("span",{className:"view_pass fs-6 btn btn-icon bg-transparent border-0 text-gray-500 position-absolute translate-middle top-50",onClick:()=>this.setState({visiblePass:!u}),children:(0,m.jsx)(l.gc,{icon:u?"eye":"eye-slash"})})]}),a?(0,m.jsx)("span",{className:"invalid-feedback mb-1",children:"Enter valid password."}):null,(0,m.jsx)("span",{className:(P?"text-muted":"text-danger")+" fs-9 mb-2",children:"Password must be at least 8 characters long and include a combination of letters, numbers, and special symbols (e.g., @, #, $, %)."})]}),(0,m.jsx)(d.A,{strength:t}),(0,m.jsx)("div",{className:"fv-row mb-3 pt-1",children:(0,m.jsxs)(r.A.Group,{className:"mb-4 mb-xl-5",children:[(0,m.jsx)(r.A.Label,{className:"fw-bold ",htmlFor:"re-password_",children:"Repeat Password"}),(0,m.jsxs)("span",{className:`position-relative d-block mb-2  ${h?"is-invalid":""} `,children:[(0,m.jsx)(r.A.Control,{type:g?"text":"password",id:"re-password_",size:"lg",placeholder:"Repeat Password",minLength:"8",maxLength:"24",onChange:this.onPasswordReTextChange,value:c||""}),(0,m.jsx)("span",{className:"view_pass fs-6 btn btn-icon bg-transparent border-0 text-gray-500 position-absolute translate-middle top-50",onClick:()=>this.setState({reVisiblePass:!g}),children:(0,m.jsx)(l.gc,{icon:g?"eye":"eye-slash"})})]}),h?(0,m.jsx)("div",{className:"invalid-feedback",children:"Password does not match"}):null]})})]}),(0,m.jsx)("div",{className:"d-grid mb-3",children:(0,m.jsxs)(n.A,{type:"submit",variant:"primary",size:"lg",className:""+(w?" disabled":""),onClick:this.onClickToResetPassword,children:[(0,m.jsx)("span",{className:"indicator-label",style:{display:w?"none":"block"},children:"Reset Password"}),(0,m.jsxs)("span",{className:"indicator-progress",style:{display:w?"block":"none"},children:[" Please wait...",(0,m.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]}),(0,m.jsx)(o.A,{text:"Back to",link:`${s}accounts/login`,linkText:"Login"}),(0,m.jsx)(p.A,{})]})}}const w=(0,h.A)(b)}}]);