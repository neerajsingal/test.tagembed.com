"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[7290],{17290:(e,s,t)=>{t.r(s),t.d(s,{default:()=>I});var l=t(9950),a=t(26787),n=t(73878),i=t(45358),o=t(86781),d=t(68459),c=t(97937),r=t(471),m=t(34483),u=t(21432),h=t(95942),x=t(17595),p=t(54810),v=t(26806),b=t(28429),j=t(19172),g=t(59074),y=t(18633),f=t(4695),N=t.n(f),A=t(52867),w=t(21738),C=t(36431),k=t(74283),P=t(92267),U=t(54480),F=t(64323),S=t(80322),_=t(36611),G=t(44414);const I=function(){const[e,s]=(0,l.useState)(!1),{wallsLoader:t}=(0,n.d4)((e=>null===e||void 0===e?void 0:e.dashboardData)),[f,I]=(0,l.useState)([]),[z,D]=(0,l.useState)(!1),[T,L]=(0,l.useState)(!1),Y=(0,n.d4)((e=>{var s,t;return null===(s=e.dashboardData)||void 0===s||null===(t=s.dashboarddata)||void 0===t?void 0:t.allWalls})),B=(0,b.Zp)(),E=(0,n.wA)(),O=()=>{s(!0)},H=e=>{D(!1),e?L(e):(s(!1),I([]))},W=e=>{N().fire({title:"Are You Sure?",text:"You are about to delete a Gallery that is used in Publish. Deleting the gallery would also delete the corresponding Publish sections.",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((s=>{s.value?E((0,g.kg)({name:e.name,status:e.status,autoUpdate:e.autoUpdate||0,id:e.id,deleted:0,action:3},null,H)):s.dismiss}))},K=e=>{const[s,t,l]=e;E((0,g.kg)({name:s.name,carouselPost:s.carouselPost,status:"status"==t?l:s.status,autoUpdate:"auto"==t?l:s.autoUpdate||0,id:s.id,deleted:0,action:2},null,null,!0))},M=(e,s,t)=>{localStorage.setItem("wallId",e),s||t?(E((0,F.LF)()),setTimeout((()=>{B("/content/moderation/".concat(e))}),100)):B("/content/addfeed/".concat(e))};return(0,l.useEffect)((()=>{const e=k.A.parse(window.location.search);e&&e.addGallery&&s(!0)}),[]),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(a.A,{crumbs:[{name:"Content Gallery",link:"/content",icon:"image"},{name:"Home",link:"/home"},{name:"Content Gallery",link:"/content"}],crumbIcon:"image"}),(0,G.jsxs)(i.A,{className:(0,A.C2)()?"":"container-content-gallery",style:{maxWidth:"100%"},children:[(0,G.jsxs)(o.A,{className:"mb-4",children:[(0,G.jsxs)(d.A,{md:6,children:[(0,G.jsx)("h2",{className:"h4 mb-1",children:"Content"}),(0,G.jsx)("p",{className:"fs-8 text-muted mb-0",children:"Choose and manage your content to publish, or create a new one to get started."})]}),(0,G.jsx)(d.A,{md:6,className:"mt-md-0 mt-3",children:(0,G.jsxs)("div",{className:"d-flex justify-content-md-end mb-3",children:[(null===Y||void 0===Y?void 0:Y.length)>10?(0,G.jsx)(_.A,{action:e=>{E({type:U.s94,payload:e})},data:Y}):null,(0,G.jsxs)(c.A,{style:{backgroundColor:"var(--bs-body-bg)"},size:"md",variant:"secondary","aria-label":"Add Channel",onClick:()=>(0,S.Yj)("contentGallery","createGallery",!0)?O():{},children:[(0,G.jsx)(p.gc,{type:"solid",icon:"plus"})," Add New Gallery"]})]})})]}),(0,G.jsx)("div",{className:"w-100 sync_products",children:t?(0,G.jsx)(y.a,{}):null!==Y&&void 0!==Y&&Y.length?(0,G.jsx)(o.A,{className:"mx-0 mx-n3",children:Y.map(((e,t)=>{var l;return(0,G.jsx)(d.A,{xl:3,lg:4,md:6,sm:6,className:"gutter-b",children:(0,G.jsxs)(r.A,{id:"".concat(e.icon,"_btn_"),className:"publish-card h-100 cursor-pointer",onClick:s=>s.target.closest(".dropdown")?{}:M(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.totalFeed,null===e||void 0===e?void 0:e.totalPost),children:[(0,G.jsx)("div",{className:"position-absolute top-0 end-0 mt-3 me-2",children:(0,G.jsxs)(m.A,{children:[(0,G.jsx)(u.A,{placement:"top",overlay:(0,G.jsx)(h.A,{children:"Options"}),children:(0,G.jsx)(m.A.Toggle,{variant:"secondary","aria-label":"more",className:"arrow_disabled dropdown-toggle border-0 d-inline-flex py-1 px-3",children:(0,G.jsx)(p.gc,{icon:"ellipsis-vertical",size:20,iconClass:"me-0"})})}),(0,G.jsxs)(m.A.Menu,{children:[(0,G.jsxs)(m.A.Item,{onClick:()=>(e=>{s(!0),I(e)})(e),className:"fs-8",children:[(0,G.jsx)("span",{className:"me-2",children:(0,G.jsx)(p.gc,{type:"solid",icon:"edit"})}),"Rename"]}),(0,G.jsxs)(m.A.Item,{onClick:()=>B("/publish/".concat(null===e||void 0===e?void 0:e.id)),className:"fs-8",children:[(0,G.jsx)("span",{className:"me-2 fs-8",children:(0,G.jsx)(p.gc,{type:"solid",icon:"paper-plane"})}),"Publish"]}),(0,G.jsxs)(m.A.Item,{onClick:()=>W(e),className:"fs-8",children:[(0,G.jsx)("span",{className:"me-2",children:(0,G.jsx)(p.gc,{type:"solid",icon:"trash-can"})}),"Delete"]}),(0,G.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:e=>e.stopPropagation(),children:[(0,G.jsx)(x.A.Label,{htmlFor:"cont_a_u",className:"mb-0 fs-8",children:"Auto update"}),(0,G.jsx)(x.A.Check,{type:"switch",id:"cont_a_u",checked:null===e||void 0===e?void 0:e.autoUpdate,onChange:()=>null!==e&&void 0!==e&&e.autoUpdate?(0,A.zO)("Disabling auto-update will prevent new posts from being fetched, limiting the content while existing posts remain accessible.",K,[e,"auto",Number(!(null!==e&&void 0!==e&&e.autoUpdate))]):K([e,"auto",Number(!(null!==e&&void 0!==e&&e.autoUpdate))])})]}),(0,G.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:e=>e.stopPropagation(),children:[(0,G.jsx)(x.A.Label,{htmlFor:"cont_s",className:"mb-0 fs-8",children:"Status"}),(0,G.jsx)(x.A.Check,{type:"switch",id:"cont_s",checked:null===e||void 0===e?void 0:e.status,onChange:()=>null!==e&&void 0!==e&&e.status?(0,A.zO)("Disabling this status will hide all collected posts from this feed, affecting visibility and content access.",K,[e,"status",Number(!(null!==e&&void 0!==e&&e.status))]):K([e,"status",Number(!(null!==e&&void 0!==e&&e.status))])})]})]})]})}),(0,G.jsx)(r.A.Body,{className:"flex-column f-center px-3 py-0",children:(0,G.jsxs)("div",{className:"d-flex w-100 flex-wrap",children:[(0,G.jsxs)("div",{className:"d-flex align-items-center",children:[(0,G.jsx)(C.A,{imageSize:40,symbolClass:"symbol-label",className:"symbol symbol-54 fs-2 rounded-2 flex-shrink-0 me-2 overflow-hidden",name:e.name,profileUrl:e.thumbnail,networkId:28}),(0,G.jsxs)("div",{className:"publish-detail d-flex flex-column ms-2",children:[(0,G.jsx)("strong",{className:"h4 mb-0 pe-3 custom-truncate-1 text-capitalize",children:null===e||void 0===e?void 0:e.name}),(0,G.jsxs)("span",{className:"fs-9 text-capitalize",children:[null===e||void 0===e?void 0:e.totalPost," Posts | ",(null===e||void 0===e?void 0:e.totalFeed)||0," Feeds"]})]})]}),(0,G.jsxs)("div",{className:"content-foot mt-5 align-items-center d-flex justify-content-between w-100",children:[null!==e&&void 0!==e&&null!==(l=e.networkIds)&&void 0!==l&&l.length?(0,G.jsx)(P.A,{networkList:null===e||void 0===e?void 0:e.networkIds}):(0,G.jsx)("div",{children:(0,G.jsxs)("span",{className:"me-2 btn btn-sm bg-secondary border",children:[(0,G.jsx)(p.gc,{type:"regular",iconClass:"me-0",icon:"grid-2-plus"}),(0,G.jsx)("span",{className:"ms-2 ",children:"Add Feeds"})]})}),(0,G.jsxs)("div",{children:[(0,G.jsx)(w.A,{cssClName:"light",overlayText:"Edit",children:(0,G.jsx)("span",{onClick:s=>M(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.totalFeed),className:"me-2 btn btn-sm bg-secondary border",children:(0,G.jsx)(p.gc,{type:"solid",iconClass:"me-0",icon:"edit"})})}),(0,G.jsx)(w.A,{cssClName:"light",overlayText:"Publish",children:(0,G.jsx)("span",{onClick:s=>{s.stopPropagation(),B("/publish/".concat(null===e||void 0===e?void 0:e.id))},className:"me-2 btn btn-sm bg-secondary border",children:(0,G.jsx)(p.gc,{type:"solid",iconClass:"me-0",icon:"paper-plane"})})})]})]})]})})]})},t)}))}):(0,G.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 240px)"},children:(0,G.jsx)(v.A,{title:"Uh-oh! Nothing to see here.",desc:"You can start adding new channels here.",icon:"media",button:{text:"Add Gallery",action:O},isFullScreen:!1})})})]}),e&&(0,G.jsx)(j.A,{show:e,apiError:T,setApiError:L,title:"Gallery",onUpdate:(e,s,t,l,a)=>{s&&s.length>0&&(D(!0),E((0,g.kg)({name:null===s||void 0===s?void 0:s.trim(),carouselPost:a||0,status:t,id:e,autoUpdate:l||0,deleted:0,action:2},null,H)))},editContent:f,handleClose:()=>{I([]),s(!1),L("")},deleteContent:W,spinner:z,setSpinner:D,statusKey:!0,callback:H,navigate:B})]})}}}]);