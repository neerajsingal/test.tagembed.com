"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[2298,3340,4104],{44104:(e,t,s)=>{s.r(t),s.d(t,{default:()=>W});var a=s(9950),n=s(45358),l=s(86781),i=s(68459),o=s(351),r=s(51960),d=s(584),c=s(75623),h=s(17595),p=s(19360),u=s(97937),m=s(54810),g=s(52867),x=s(74283),v=s(89379),f=s(3302),w=s.n(f),b=s(75794),j=(s(34461),s(57182),s(93766),s(55856),s(44747),s(35131)),y=s(21784),N=s(67972),k=s(76955),_=s(5830),C=s(95942),A=s(66345),S=s(85608),I=s(96011),T=s.n(I),P=s(97696),F=s(82094),D=s(44414);class L extends a.Component{constructor(e){super(e),this.state={backgroundModal:!1,type:null,height:"",width:"",thumbnail:""},this.onBeforeUpload=e=>{const t=Object.keys(e),{updateData:s}=this.props;if(e[t[0]].meta.type.includes("image"))this.remove_StatusBar();else if(t&&t.length>0&&e[t[0]]&&e[t[0]].meta&&e[t[0]].meta.type.includes("video")){try{let a=document.querySelector(".uppy-Dashboard-progressindicators"),n='<div class="uppy-StatusBar is-postprocessing"><div class="uppy-StatusBar-progress is-indeterminate" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100" style="width: 100%;"></div><div class="uppy-StatusBar-content"><svg class="uppy-StatusBar-spinner" aria-hidden="true" focusable="false" width="14" height="14"><path d="M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0" fill-rule="evenodd"></path></svg>Encoding...</div><div class="uppy-StatusBar-actions"><button type="button" class="uppy-u-reset uppy-StatusBar-actionCircleBtn" title="Cancel" aria-label="Cancel" data-uppy-super-focusable="true"><svg aria-hidden="true" focusable="false" class="uppy-c-icon" width="16" height="16" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd"><circle fill="#888" cx="8" cy="8" r="8"></circle><path fill="#FFF" d="M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"></path></g></svg></button></div></div><div class="uppy uppy-Informer" aria-hidden="true"><p role="alert"> </p></div>';a.innerHTML=n,w()(".uppy-DashboardContent-back,.is-waiting,.uppy-Informer,.uppy-StatusBar-actions,.uppy-Dashboard-Item-action--remove").remove();const l=e[t[0]],i=new FormData;i.append("file",l.data),T().post(A.Pts,i).then(e=>{const{responseData:t}=e.data;t&&t.length>0&&(setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1,type:"video",height:t[0].height,width:t[0].width})},300),s&&s((0,v.A)((0,v.A)({},t[0]),{},{type:"video"})))}).catch(e=>{this.uppy.cancelAll()})}catch(a){this.uppy.cancelAll()}return!1}},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},()=>{w()(".uppy-Dashboard-close").click(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})})})},this.updateProgressindicators=()=>{w()(".uppy-Dashboard-progressindicators").remove()},this.remove_StatusBar=()=>{w()(".uppy-StatusBar").remove()},this.onRemove=()=>{this.uppy.cancelAll(),this.setState({type:"",thumbnail:""}),this.props.onClickTouploadImage("",()=>{})},this.uppy=new b.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:1e8,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["image/*","video/*"]},onBeforeUpload:this.onBeforeUpload}).use(j.Ay,{target:"#a",params:{auth:{key:S.bG},steps:{store:{robot:S._8,bucket_region:S.YL,bucket:S.I2,key:S.jZ,secret:S.mD,path:S.yQ+"${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(y.A,{target:b.A.Dashboard,companionUrl:S.ac}).use(N.A,{target:b.A.Dashboard,companionUrl:S.ac})}componentDidMount(){var e=this;const{updateData:t}=e.props;this.uppy.on("transloadit:result",(s,a)=>{e.props.onClickTouploadImage("".concat(S.$r).concat(a.id,".").concat(a.ext),()=>{e.props.UpdateType(a.type),setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1,type:a.type})},300)}),t&&t(a)}),this.uppy.on("file-added",e=>{const t=e.type.startsWith("image/"),s=e.type.startsWith("video/");t&&e.size>5e7?(this.uppy.removeFile(e.id),this.uppy.info({message:"File limit exceed!",details:"File size shouldn't be more than 50 MB"},"error",5e3)):s&&e.size>1e8&&(this.uppy.removeFile(e.id),this.uppy.info({message:"File limit exceed!",details:"File size shouldn't be more than 100 MB"},"error",5e3))})}render(){var e,t,s,a,n,l,i;const{imageStyle:o,backgroundImage:r,id:d,removeDelete:c,isEditPost:h,icon:p,thumbnail:g,isEdit:x,isTaggModal:v,isCover:f}=this.props,{backgroundModal:w,type:b,height:j,width:y}=this.state,N=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.manual_upload)&&void 0!==e?e:{};return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:"position-relative h-100 uploader_ mb-2",children:[r?(0,D.jsxs)("div",{className:"w-100 bg-gray-100",children:["video"==b?(0,D.jsx)(P.A,{mediaClass:"content_video w-100",size:130,url:r,poster:g,height:j,width:y,autoPlay:!0,muted:!0,isCover:f,controls:!1,loop:!0}):(0,D.jsx)(F.A,{mediaClass:"position-relative overflow-hidden w-100",size:130,height:j,width:y,url:r,isCover:f,alt:""}),v||h?"":(0,D.jsxs)("div",{className:"f-center position-absolute bottom-0 start-0 w-100 p-2 upload_action_",children:[x?null:(0,D.jsx)(_.A,{placement:"top",overlay:(0,D.jsx)(C.A,{id:"button-tooltip-2",children:null!==(a=null===N||void 0===N?void 0:N.edit)&&void 0!==a?a:""}),children:(0,D.jsx)(u.A,{id:"product_edit",variant:"icon",className:"btn-active-primary mx-1 bg-white",onClick:()=>this.setState({backgroundModal:!0}),children:(0,D.jsx)("span",{className:"svg-icon svg-icon-sm me-0",children:(0,D.jsx)(m.gc,{type:"solid",icon:"pen"})})})}),c?"":(0,D.jsx)(_.A,{placement:"top",overlay:(0,D.jsx)(C.A,{id:"button-tooltip-2",children:null!==(n=null===N||void 0===N?void 0:N.remove)&&void 0!==n?n:""}),children:(0,D.jsx)(u.A,{id:"product_remove",variant:"icon",className:"btn-active-primary mx-1 rounded-circle bg-white",onClick:()=>this.onRemove(),children:(0,D.jsx)(m.gc,{icon:"xmark"})})})]})]}):(0,D.jsxs)("div",{className:"f-center flex-column cursor-pointer border border-dashed border-2 p-3 rounded-3 h-100 text-center",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,D.jsx)("span",{className:"text-gray-300 mb-5",style:{fontSize:120,lineHeight:1},children:p?(0,D.jsx)("i",{className:"fa-duotone fa-solid fa-image"}):(0,D.jsx)("i",{className:"fa-duotone fa-solid fa-bag-shopping-plus"})}),(0,D.jsx)("strong",{className:"text-center text-muted mb-2",children:null!==(l=null===N||void 0===N?void 0:N.drag_and_drop)&&void 0!==l?l:""}),(0,D.jsx)("span",{className:"text-muted fs-9",children:null!==(i=null===N||void 0===N?void 0:N.media_size)&&void 0!==i?i:""})]}),w?(0,D.jsx)(k.KG,{animateOpenClose:!0,open:w,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})})}}var B=s(29038),E=s(10274),U=s(73878),M=s(1391),H=s(59074),O=s(28981),z=s(68047),K=s(30615);class R extends a.Component{constructor(){var e,t;super(...arguments),this.state={postImage:"",mediaType:"",height:0,width:0,thumbnail:"",spinner:!1,content:"",contentError:!1,authorImage:"",author:"",networkId:""},this.appContent=null!==(e=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==e?e:{},this.onChangePostImg=e=>{this.setState({postImage:e})},this.navigateModeration=()=>{const{updateUserInfo:e,navigate:t}=this.props;(0,O.zU)({stepstype:"onboardingskip"}).then(s=>{e(()=>{t("/content/moderation/".concat(localStorage.getItem("wallId")))})})},this.updateData=e=>{"video"==e.type?this.setState({mediaType:e.type,height:e.height,width:e.width,postImage:e.s3Url,thumbnail:e.s3ThumbUrl}):this.setState({mediaType:e.type,height:e.meta.height,width:e.meta.width})},this.uploadPost=e=>{const{userData:t,navigate:s,onBoarding:a,onNext:n}=this.props,{content:l}=this.state,{author:i,networkId:o,authorImage:r}=e;let d=1;this.setState({spinner:!0}),"content"==e.mediaType||1==e.mediaType?d=1:"image"!=e.mediaType&&4!=e.mediaType||!l?"image"!=e.mediaType&&2!=e.mediaType||l?"video"!=e.mediaType&&3!=e.mediaType||l?"video"!=e.mediaType&&5!=e.mediaType||!l||(d=5):d=3:d=2:d=4;const c={postFile:"video"==e.mediaType?e.thumbnail:e.postImage,mediaFile:"video"==e.mediaType?e.postImage:"",content:String(l).trim(),mediaHeight:e.height?e.height:0,mediaWidth:e.width?e.width:0,type:d,wallId:localStorage.getItem("wallId"),author:i,networkId:o,authorImage:r};String(l).trim().length>0&&String(l).trim().length<=500?(0,B.g7)(c).then(e=>{var t,s,l,i,o,r;if(200==e.data.responseCode)"success"==e.data.responseStatus?(a||(this.props.getModeration(),this.props.LoadHome()),(0,g.k1)(null!==(t=null===(s=this.appContent)||void 0===s||null===(l=s.manual_upload)||void 0===l?void 0:l.post_created)&&void 0!==t?t:""),a&&window.self==window.top?n():this.navigateModeration()):(0,g.r$)(null!==(i=null===(o=this.appContent)||void 0===o||null===(r=o.common)||void 0===r?void 0:r.some_error_occured)&&void 0!==i?i:"");else if(409==e.data.responseCode){var d,c,h;(0,g.r$)(null!==(d=null===(c=this.appContent)||void 0===c||null===(h=c.manual_upload)||void 0===h?void 0:h.post_exist)&&void 0!==d?d:"")}this.setState({spinner:!1})}).catch(e=>{(0,g.r$)(e.message),this.setState({spinner:!1})}):this.setState({spinner:!1,contentError:!0})},this.changeContent=e=>this.setState({content:e.target.value.substring(0,500),contentError:!1})}componentDidMount(){const{networkList:e,getNetworks:t}=this.props;e||t()}componentDidUpdate(e){const{editData:t}=this.props;e.editData!=t&&this.setState({postImage:t.postFile,height:t.mediaHeight,width:t.mediaWidth,mediaType:t.type})}render(){var e,t,s,a,n,r,d,c,p,x,v,f,w,b,j,y,N,k,_,C,A,S,I,T,P,F,B,E,U,M;const{navigate:H,onBoarding:O,setNetwork:R,networkList:q}=this.props,{postImage:V,thumbnail:W,contentError:G,content:$,spinner:Y,authorImage:Q,author:Z,networkId:J}=this.state,X=(null!==q&&void 0!==q?q:[]).filter(e=>{let{id:t}=e;return![0,45,46].includes(t)}).map(e=>{let{id:t,name:s}=e;return{label:s,value:t}});return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o.A.Body,{className:"".concat(O?"p-0":""),style:{minHeight:400},children:(0,D.jsxs)(l.A,{children:[(0,D.jsx)(i.A,{md:6,lg:5,style:{minHeight:400},children:(0,D.jsx)(L,{id:"su_logo",backgroundImage:V,onClickTouploadImage:this.onChangePostImg,removeDelete:!1,icon:"image-regular",updateData:this.updateData,thumbnail:W,isEdit:!0})}),(0,D.jsxs)(i.A,{md:6,lg:7,children:[(0,D.jsxs)("div",{className:"mt-4",children:[(0,D.jsx)(h.A.Label,{className:"mb-2",htmlFor:"s_pi",children:null!==(e=null===(t=this.appContent)||void 0===t||null===(s=t.manual_upload)||void 0===s?void 0:s.label_author_image)&&void 0!==e?e:""}),(0,D.jsx)(z.A,{id:"s_pi",imageStyle:{paddingBottom:"66%"},backgroundImage:Q,onClickTouploadImage:e=>this.setState({authorImage:e})})]}),(0,D.jsxs)(h.A.Group,{className:"mb-3",children:[(0,D.jsx)(h.A.Label,{className:"mb-2",htmlFor:"author_n_",children:null!==(a=null===(n=this.appContent)||void 0===n||null===(r=n.manual_upload)||void 0===r?void 0:r.label_author_name)&&void 0!==a?a:""}),(0,D.jsx)(h.A.Control,{id:"author_n_",name:"author_n_",placeholder:null!==(d=null===(c=this.appContent)||void 0===c||null===(p=c.manual_upload)||void 0===p?void 0:p.placeholder_author_name)&&void 0!==d?d:"",value:Z,onChange:e=>this.setState({author:e.target.value})})]}),(0,D.jsxs)("div",{className:"mt-2",children:[(0,D.jsx)(h.A.Label,{className:"mb-2",htmlFor:"s_ntwrk",children:null!==(x=null===(v=this.appContent)||void 0===v||null===(f=v.manual_upload)||void 0===f?void 0:f.label_select_network)&&void 0!==x?x:""}),(0,D.jsx)(K.Ay,{id:"s_ntwrk",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:X,value:null!==q&&void 0!==q&&q.length&&J?q[null===q||void 0===q?void 0:q.findIndex(e=>e.value==J)]:null,onChange:e=>this.setState({networkId:null===e||void 0===e?void 0:e.value})})]}),(0,D.jsxs)(h.A.Group,{className:"mt-2 mb-2 mb-xl-3",children:[(0,D.jsxs)(h.A.Label,{children:[null!==(w=null===(b=this.appContent)||void 0===b||null===(j=b.manual_upload)||void 0===j?void 0:j.label_caption)&&void 0!==w?w:""," ",(0,D.jsx)("span",{className:"text-danger ms-1",children:"*"})," "]}),(0,D.jsx)(h.A.Control,{as:"textarea",id:"mu_caption",maxLength:500,className:"".concat(G?"is-invalid":""," textarea-min-row-5"),name:"caption",row:"5",value:$,onChange:this.changeContent}),G?(0,D.jsx)("span",{className:"invalid-feedback",children:String($).length>0?null!==(y=null===(N=this.appContent)||void 0===N||null===(k=N.manual_upload)||void 0===k?void 0:k.error_caption_limit)&&void 0!==y?y:"":null!==(_=null===(C=this.appContent)||void 0===C||null===(A=C.common)||void 0===A?void 0:A.field_req)&&void 0!==_?_:""}):null,(0,D.jsxs)("div",{className:"d-flex jsutify-content-end",children:[" ",(0,D.jsx)("span",{className:"fs-10 text-muted pt-1",children:(0,g.dz)(null!==(S=null===(I=this.appContent)||void 0===I||null===(T=I.manual_upload)||void 0===T?void 0:T.caption_char_count)&&void 0!==S?S:"",{count:null===$||void 0===$?void 0:$.length})})," "]})]})]})]})}),(0,D.jsx)(o.A.Footer,{className:O?"p-0 border-0":"px-lg-8",children:(0,D.jsx)("div",{className:"d-flex justify-content-between flex-wrap",children:(0,D.jsxs)("div",{className:"d-flex w-100 align-items-center p-2 ".concat(O?" justify-content-between":" justify-content-end"),children:[(0,D.jsxs)(u.A,{variant:O?"link":"secondary",onClick:()=>{O?R():H("/manual-upload")},children:[O?(0,D.jsx)(m.gc,{icon:"arrow-left",iconClass:"me-2"}):"",null!==(P=null===(F=this.appContent)||void 0===F||null===(B=F.common)||void 0===B?void 0:B.btn_back)&&void 0!==P?P:""]}),(0,D.jsx)(u.A,{id:"create_feed",className:"ms-3 ".concat(Y?"spinner":""," "),onClick:()=>this.uploadPost(this.state),children:null!==(E=null===(U=this.appContent)||void 0===U||null===(M=U.common)||void 0===M?void 0:M.upload)&&void 0!==E?E:""})]})})})]})}}const q=(0,U.Ng)(e=>{var t,s,a,n,l;return{userData:null===(t=e.authorized)||void 0===t||null===(s=t.userData)||void 0===s||null===(a=s.user_data)||void 0===a?void 0:a.user,networkList:null===e||void 0===e||null===(n=e.addFeedReducer)||void 0===n||null===(l=n.addFeedNetworks)||void 0===l?void 0:l.networks}},e=>({getModeration:t=>e((0,E.zI)(t)),LoadHome:()=>e((0,H.Wg)()),updateUserInfo:t=>e((0,O.AW)(t)),getNetworks:()=>e((0,E.Ux)())}))((0,M.A)(R));class V extends a.Component{constructor(e){var t,s;super(e),this.appContent=null!==(t=null===(s=window)||void 0===s?void 0:s.APP_CONTENT)&&void 0!==t?t:{},this.onSubmit=()=>{const{url:e,network:t}=this.state,{onBoarding:s,onNext:a}=this.props,n=/^(http:\/\/|https:\/\/).+/;let l=!1;if(e.includes("instagram.com")?l=e.match(/instagram\.com\/(?:p|reel)\/([^/?]+)/):e.includes("tiktok.com")&&(l=(0,g.hB)(e)),e&&l){this.setState({spinner:!0});const l={networkId:parseInt(t),postUrl:n.test(e)?e:"https://".concat(e),wallId:localStorage.getItem("wallId")};(0,B.N_)(l).then(e=>{var t,n,l,i,o,r;200==e.data.responseCode&&("success"==e.data.responseStatus?((0,g.k1)(null!==(t=null===(n=this.appContent)||void 0===n||null===(l=n.manual_upload)||void 0===l?void 0:l.post_created)&&void 0!==t?t:""),s?a():this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId")))):(0,g.r$)(null!==(i=null===(o=this.appContent)||void 0===o||null===(r=o.common)||void 0===r?void 0:r.some_error_occured)&&void 0!==i?i:""));this.setState({spinner:!1})}).catch(e=>{const{responseMessage:t}=e.response.data;(0,g.r$)(t),this.setState({spinner:!1})})}else this.setState({urlError:!0})},this.state={spinner:!1,network:"",showManual:!1,urlError:!1,url:""}}componentDidMount(){const{onBoarding:e,manualSelect:t}=this.props;if(e)this.setState({network:t,showManual:0==t});else{const e=x.A.parse(window.location.search);e&&this.setState({network:e.network,showManual:"0"==e.network})}}render(){var e,t,s,a,x,v,f,w,b,j,y,N,k,_,C,A,S,I,T,P,F,L,B,E;const{spinner:U,network:M,showManual:H,urlError:O}=this.state,{onBoarding:z,navigate:K,setNetwork:R,onNext:V}=this.props,W=(0,g.Oi)((0,g.$J)(M));return(0,D.jsx)("div",{className:"d-flex flex-column flex-column-fluid w-100 py-5 manual_upload_wrap",children:(0,D.jsx)(n.A,{children:(0,D.jsx)(l.A,{className:"f-center manual_upload_card",children:(0,D.jsx)(i.A,{lg:8,xl:6,children:(0,D.jsxs)(o.A,{className:"".concat(z?"shadow-none border-0":""),children:[z?(0,D.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,D.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 me-3",children:(0,D.jsx)(r.A,{height:40,width:40,src:(0,m.pc)("media/icons/social-icons-square/".concat((0,g.EC)(M?parseInt(M):0),".svg")),alt:"",fluid:!0})}),(0,D.jsxs)("div",{className:"d-flex flex-column flex-grow-1 my-lg-0 my-2 pr-3",children:[(0,D.jsx)("span",{className:"fs-6 fw-bold text-gray-800",children:W}),(0,D.jsx)("p",{className:"fs-9 mb-0 fw-medium",children:(0,g.dz)(null!==(e=null===(t=this.appContent)||void 0===t||null===(s=t.manual_upload)||void 0===s?void 0:s.header_add_post)&&void 0!==e?e:"",{network_name:W})})]})]}):(0,D.jsx)(o.A.Header,{className:"".concat(z?"border-0":""),children:(0,D.jsxs)("div",{className:"d-flex flex-wrap align-items-center py-4",children:[(0,D.jsx)("div",{className:"symbol symbol-50 flex-shrink-0 me-4",children:(0,D.jsx)(r.A,{src:(0,m.pc)("media/icons/social-icons-square/".concat("0"==M?"manual-upload":(0,g.EC)(M?parseInt(M):0),".svg")),fluid:!0})}),(0,D.jsxs)("div",{className:"d-flex flex-column flex-grow-1 my-lg-0 my-2 pe-3",children:[(0,D.jsx)("h3",{className:"mb-1",children:W}),(0,D.jsx)("p",{className:"text-muted mb-0 fw-medium",children:(0,g.dz)(null!==(a=null===(x=this.appContent)||void 0===x||null===(v=x.manual_upload)||void 0===v?void 0:v.header_add_post)&&void 0!==a?a:"",{network_name:W})})]})]})}),H?(0,D.jsx)(q,{onBoarding:z,setNetwork:R,onNext:V}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o.A.Body,{className:"".concat(z?"p-0":"p-lg-8"),children:(0,D.jsxs)("div",{className:"my-4",children:[(0,D.jsxs)(d.A,{className:"mb-4",children:[(0,D.jsxs)(c.A,{className:"".concat(O?"is-invalid":""),children:[(0,D.jsx)(c.A.Text,{id:"basic-addon2",children:(0,D.jsx)(m.gc,{type:"solid",icon:"link"})}),(0,D.jsx)(h.A.Control,{size:"lg",placeholder:null!==(f=null===(w=this.appContent)||void 0===w||null===(b=w.manual_upload)||void 0===b?void 0:b.input_ph)&&void 0!==f?f:"",onChange:e=>this.setState({url:e.target.value,urlError:!1})})]}),O&&(0,D.jsx)("span",{className:"invalid-feedback",children:null!==(j=null===(y=this.appContent)||void 0===y||null===(N=y.common)||void 0===N?void 0:N.valid_url)&&void 0!==j?j:""})]}),(0,D.jsxs)(p.A,{variant:"warning",className:"border border-warning",children:[(0,D.jsx)(p.A.Heading,{className:"f-center alert_icon_head",children:(0,D.jsxs)("span",{className:"f-center",children:[(0,D.jsx)(m.gc,{icon:"lightbulb",iconClass:"me-1"}),null!==(k=null===(_=this.appContent)||void 0===_||null===(C=_.manual_upload)||void 0===C?void 0:C.alert_title_pro_tip)&&void 0!==k?k:""]})}),(0,D.jsx)("p",{className:"fw-medium mb-0 fs-8 text-gray-700",children:null!==(A=null===(S=this.appContent)||void 0===S||null===(I=S.manual_upload)||void 0===I?void 0:I.alert_desc_pro_tip)&&void 0!==A?A:""})]})]})}),(0,D.jsx)(o.A.Footer,{className:z?"p-0 border-0":"px-lg-8",children:(0,D.jsxs)("div",{className:"d-flex w-100 align-items-center p-2 ".concat(z?" justify-content-between":" justify-content-end"),children:[(0,D.jsxs)(u.A,{variant:z?"link":"secondary",onClick:()=>z?R():K("/manual-upload"),children:[z?(0,D.jsx)(m.gc,{icon:"arrow-left",iconClass:"me-2"}):"",null!==(T=null===(P=this.appContent)||void 0===P||null===(F=P.manual_upload)||void 0===F?void 0:F.btn_back)&&void 0!==T?T:""]}),(0,D.jsx)(u.A,{id:"create_feed",className:"ms-3 ".concat(U?"spinner":""," "),onClick:this.onSubmit,children:null!==(L=null===(B=this.appContent)||void 0===B||null===(E=B.manual_upload)||void 0===E?void 0:E.btn_import)&&void 0!==L?L:""})]})})]})]})})})})})}}const W=(0,M.A)(V)},46691:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ee});var a=s(9950),n=s(73878),l=s(1391),i=s(42074),o=s(54810),r=s(10274),d=s(28981),c=s(52867),h=s(98361),p=s(45358),u=s(80409),m=s(351),g=s(97937),x=s(86781),v=s(68459),f=s(66345),w=s(39812),b=s(44414);const j=[{id:1,title:"Homepage Gallery",desc:"Build trust and win faster checkouts with a shoppable UGC Gallery on the home page.",media:"home-gallery"},{id:2,title:"Product Page Gallery",desc:"Establish social proof with real product usage examples on PDPs to inspire & convert.",media:"product-gallery"},{id:3,title:"Category Gallery",desc:"Create and publish category-based UGC galleries to navigate users to products that capture attention.",media:"category-page"}];class y extends a.Component{constructor(){super(...arguments),this.state={addClass:!0}}render(){const{addClass:e}=this.state;return(0,b.jsx)("div",{className:"f-center m-auto add_feed_ flex-column py-2",children:(0,b.jsxs)("div",{className:"f-center flex-column",children:[(0,b.jsxs)("div",{className:"text-center mb-5",children:[(0,b.jsx)("h3",{children:"Let's start with the exact solution you want."}),(0,b.jsx)("p",{children:"Select any one from the below to start now!"})]}),(0,b.jsx)(x.A,{style:{maxWidth:780},children:j.map((e,t)=>(0,b.jsx)(v.A,{sm:4,className:"mb-2",children:(0,b.jsxs)(m.A,{className:"btn btn-secondary shadow-none p-0 text-start overflow-hidden mb-0",onClick:this.props.galleryFun,children:[(0,b.jsx)("div",{className:"position-relative h-auto d-none d-sm-flex w-100",style:{paddingBottom:"182.2%"},children:(0,b.jsx)("video",{className:"w-100 position-absolute top-0 start-0",width:"267",height:"455",poster:(0,o.pc)("media/video/".concat(e.media,".png")),controls:!1,autoPlay:!0,loop:!0,muted:!0,children:(0,b.jsx)("source",{src:(0,o.pc)("media/video/".concat(e.media,".mp4")),type:"video/mp4"})})}),(0,b.jsxs)(m.A.Body,{style:{minHeight:130},children:[(0,b.jsx)(m.A.Title,{className:"text-dark mb-1",children:e.title}),(0,b.jsx)(m.A.Text,{children:e.desc})]})]})},t))})]})})}}const N=y;var k=s(51960);class _ extends a.Component{constructor(){super(...arguments),this.state={addClass:!0}}render(){const{addFeedData:e,onNetworkSelect:t}=this.props,{addClass:s}=this.state;return(0,b.jsx)("div",{className:"f-center m-auto add_feed_",children:e&&Object.keys(e).length>0?(0,b.jsxs)("div",{className:"f-center flex-column mb-5",children:[(0,b.jsxs)("div",{className:"text-center mb-sm-3 mb-5",children:[(0,b.jsx)("h3",{className:"text-capitalize",children:"Choose source network"}),(0,b.jsx)("p",{children:"Select the social platform from which you want to add the feeds"})]}),(0,b.jsx)("div",{className:"f-center flex-wrap",children:e.networks.slice(0,s?6:e.networks.length).map((e,s)=>33!=e.id&&29!=e.id&&34!=e.id&&35!=e.id?(0,b.jsx)("div",{className:"px-2 mb-4",children:(0,b.jsxs)(g.A,{variant:"secondary",onClick:()=>t(e.id),children:[29==e.id?(0,b.jsx)(o.gc,{type:"solid",icon:"star",iconClass:"text-warning fs-6"}):(0,b.jsx)(k.A,{height:22,width:22,className:"me-2",src:(0,o.pc)("media/icons/social-icons-square/".concat((0,c.EC)(e.id),".svg")),alt:(0,c.Oi)(e.id),fluid:!0}),e.name]})},s):null)}),e.networks.length>=5&&s?(0,b.jsx)("div",{className:"px-2 mb-4",children:(0,b.jsxs)(g.A,{variant:"link",className:"p-2 mt-2",onClick:()=>this.setState({addClass:!s}),children:[(0,b.jsx)(o.gc,{type:"solid",icon:"circle-info"}),"Click here to see all supported Networks"]})}):null]}):(0,b.jsx)("div",{className:"f-center flex-wrap m-auto",children:(0,c.OZ)(10).map((e,t)=>(0,b.jsx)("div",{className:"px-2 mb-4",children:(0,b.jsx)("div",{className:"sk_rect h-40px me-2 w-100 btn-min-w"})},t))})})}}const C=(0,n.Ng)(e=>{var t;return{addFeedData:null===(t=e.addFeedReducer)||void 0===t?void 0:t.addFeedNetworks}})(_);var A=s(75623),S=s(17595),I=s(19360),T=s(89379),P=s(34483),F=s(50901),D=s(84723);function L(e){const[t,s]=(0,a.useState)(""),[n,l]=(0,a.useState)(!1);return(0,b.jsxs)(A.A,{className:"mb-4",children:[(0,b.jsx)(A.A.Text,{className:"fw-semibold fs-5",children:(0,b.jsx)(o.gc,{icon:(0,D.m2)(33,4)})}),(0,b.jsx)(F.Ay,{value:t,onChange:t=>{s(t),l(!0),e.onFieldTextChange("","")},children:i=>{let{getInputProps:o,suggestions:r,getSuggestionItemProps:d,loading:c}=i;return(0,b.jsxs)(P.A,{autoClose:"outside",children:[(0,b.jsxs)(P.A.Toggle,{variant:"light",className:"arrow_disabled p-0 border-0 flex-grow-1 bg-transparent ".concat(e.error?"is-invalid":""),children:[(0,b.jsx)(S.A.Control,(0,T.A)((0,T.A)({className:"fw-semibold ".concat(e.error?"is-invalid":""),size:"lg"},o({placeholder:"Type address"})),{},{required:!0})),c?(0,b.jsx)("div",{className:"input-spinner"}):null]}),n&&t.length>0?(0,b.jsx)(P.A.Menu,{className:"input-dropdown",children:(0,b.jsx)("div",{className:"dropdown-height",children:r.map((t,n)=>{const i={backgroundColor:(t.active,"")};return(0,a.createElement)(P.A.Item,(0,T.A)((0,T.A)({},d(t,{style:i})),{},{onClick:()=>{return a=t.description,n=t.placeId,i=t.formattedSuggestion.mainText,e.onFieldTextChange(a,n,i),s(a),void l(!1);var a,n,i},key:n}),(0,b.jsx)("div",{className:"d-flex flex-column justify-content-start",children:(0,b.jsx)("p",{className:"fw-bold fs-8 mb-0",children:t.description})}))})})}):null]})}}),e.error?(0,b.jsx)("span",{id:"",className:"invalid-feedback",children:"This field is required"}):null]})}var B=s(64323);function E(e){const[t,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1),i=(e,t)=>{const a={networkId:3,handle:t,filterType:8,showHandle:!1};(0,B.pK)(a).then(e=>{const{data:t}=e;200==t.responseCode?s(t.response.data):s([])}).catch(e=>{})};return(0,b.jsxs)(A.A,{className:"mb-4",children:[(0,b.jsx)(A.A.Text,{className:"fw-semibold fs-5",children:(0,b.jsx)(o.gc,{icon:(0,D.m2)(56,3)})}),(0,b.jsx)(F.Ay,{className:"position-relative",value:e.text,onChange:t=>{const s=t;i(1,s),e.onTextChange(s),l(!0)},children:a=>{let{getInputProps:i,suggestions:o,getSuggestionItemProps:r,loading:d}=a;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(P.A,{autoClose:"outside",show:n,children:[(0,b.jsxs)(P.A.Toggle,{variant:"light",className:"arrow_disabled p-0 border-0 flex-grow-1 bg-transparent ".concat(e.error?"is-invalid":""),children:[(0,b.jsx)(S.A.Control,(0,T.A)((0,T.A)({className:"fw-semibold ".concat(e.error?"is-invalid":""),size:"lg"},i({placeholder:"Enter Page Name"})),{},{required:!0,id:"fb-text"})),d?(0,b.jsx)("div",{className:"input-spinner"}):null]}),t&&t.length>0?(0,b.jsx)(P.A.Menu,{className:"input-dropdown",children:(0,b.jsx)("div",{className:"dropdown-height",children:t.map((t,a)=>(0,b.jsx)(P.A.Item,{className:"rounded-0 border-bottom",onClick:()=>{return a=t,e.onTextChange(a.link),document.querySelector("#fb-text").value=a.link,l(!1),void s([]);var a},children:(0,b.jsxs)("div",{className:"d-flex flex-column justify-content-start",children:[(0,b.jsx)("p",{className:"fw-bold fs-8 mb-0",children:t.name}),(0,b.jsx)("span",{className:"fs-10 mb-0",children:t.link})]})},a))})}):null]})})}}),e.error?(0,b.jsx)("span",{id:"",className:"invalid-feedback",children:"This field is required"}):null]})}var U=s(91615),M=s(82094);class H extends a.Component{constructor(){super(...arguments),this.state={list:[],error:!1,address:"",searchList:!1},this.onYoutubeChange=e=>{const{onValueChange:t,tab:s}=this.props;if([1,75,11].includes(s))try{const a=11==s?"playlist":"channel";t(e),(0,U.VT)(e,a).then(e=>{const{data:t,status:s}=e;200==s&&this.setState({list:t.items})})}catch(a){console.log(a)}else t(e)},this.onListClick=e=>{try{var t;const{onValueChange:s,tab:a,onChannelId:n}=this.props;s(11==a?e.snippet.title:e.snippet.channelTitle),n("".concat(11==a?e.id.playlistId:75==a?e.id.channelId.replace("UC","UUSH"):e.id.channelId)),document.getElementById("feedsfield-".concat(a)).value="https://www.youtube.com/".concat(11==a?"playlist?list=":"channel/").concat(11==a?null===e||void 0===e||null===(t=e.snippet)||void 0===t?void 0:t.playlistId:75==a?e.id.channelId.replace("UC","UUSH"):e.id.channelId),this.setState({list:[]})}catch(s){console.log("error------------------------",s)}},this.handleChange=e=>{this.setState({address:e,searchList:!0},()=>this.props.onValueChange("",""))},this.handleSelect=e=>{(0,F.IU)(e).then(e=>(0,F.rg)(e[0])).then(e=>{this.props.onLatlanChange("".concat(e.lat,",").concat(e.lng))}).catch(e=>console.error("Error",e))},this.setPlace=(e,t)=>{this.props.onValueChange(e,t),this.setState({address:e,searchList:!1})}}render(){const{tab:e,onValueChange:t,onLatlanChange:s,onKeywordChange:n,keyword:l,error:i,feedText:r}=this.props,{list:d,address:c,searchList:h}=this.state;return(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-md-".concat(32==e?"6":"12"),children:(0,b.jsx)("div",{className:"form-group",children:32==e?(0,b.jsxs)(A.A,{className:"mb-4",children:[(0,b.jsx)(A.A.Text,{className:"fw-semibold fs-5",children:(0,b.jsx)(o.gc,{icon:(0,D.m2)(33,7)})}),(0,b.jsx)(P.A,{autoClose:"outside",children:(0,b.jsx)(F.Ay,{value:c,onChange:this.handleChange,onSelect:this.handleSelect,children:e=>{let{getInputProps:t,suggestions:s,getSuggestionItemProps:a,loading:n}=e;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(P.A.Toggle,{variant:"light",className:"arrow_disabled p-0 border-0 flex-grow-1 bg-transparent ".concat(i?"is-invalid":""),children:[(0,b.jsx)(S.A.Control,(0,T.A)((0,T.A)({className:"fw-semibold ".concat(i?"is-invalid":""),size:"lg"},t({placeholder:"Type address"})),{},{required:!0})),n?(0,b.jsx)("div",{className:"input-spinner"}):null]}),d&&c.length>0?(0,b.jsx)(P.A.Menu,{className:"input-dropdown",children:(0,b.jsx)("div",{className:"dropdown-height",children:s.map((e,t)=>{const s={backgroundColor:(e.active,"")};return(0,b.jsx)(P.A.Item,(0,T.A)((0,T.A)({},a(e,{style:s})),{},{onClick:()=>{this.setPlace(e.description,e.placeId),this.handleSelect(e.description)},children:(0,b.jsx)("div",{className:"d-flex flex-column justify-content-start",children:(0,b.jsx)("p",{className:"fw-bold fs-8 mb-0",children:e.description})})}))})})}):null]})}})}),i?(0,b.jsx)("span",{className:"invalid-feedback",children:"This field is required"}):null]}):(0,b.jsxs)(A.A,{className:"mb-4",children:[(0,b.jsx)(A.A.Text,{className:"fw-semibold fs-5",children:(0,b.jsx)(o.gc,{icon:(0,D.m2)(75==e||1==e?4:11==e?11:4==e?4:32==e?33:"",7)})}),(0,b.jsx)(F.Ay,{onChange:this.onYoutubeChange,value:r,placeholder:"test",children:t=>{let{getInputProps:s,suggestions:n,getSuggestionItemProps:l,loading:o}=t;return(0,b.jsxs)(P.A,{children:[(0,b.jsx)(P.A.Toggle,{variant:"light",className:"arrow_disabled p-0 border-0 flex-grow-1 bg-transparent ".concat(i?"is-invalid":""),children:(0,b.jsx)(S.A.Control,(0,T.A)({className:"fw-semibold ".concat(i?"is-invalid":""),size:"lg"},s({placeholder:"".concat(32==e?"":"Enter"," ").concat(75==e||1==e?"Channel Url":11==e?"Play List ID":4==e?"keyword":"")})))}),d&&d.length>0?(0,b.jsx)(P.A.Menu,{className:"input-dropdown",children:(0,b.jsx)("div",{className:"dropdown-height",children:d.map((t,s)=>(0,a.createElement)(P.A.Item,(0,T.A)((0,T.A)({className:"d-flex align-items-center overflow-hidden w-100 rounded-0 border-bottom","data-item":"place"},l(t)),{},{key:s,onClick:()=>this.onListClick(t)}),(0,b.jsx)("div",{className:"d-flex flex-shrink-0 w-40px me-2",children:(0,b.jsx)(M.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 bg-gray-100",size:100,height:40,width:40,url:t.snippet.thumbnails.default.url,isCover:!0,alt:""})}),(0,b.jsxs)("div",{className:"d-flex flex-column justify-content-start",style:{maxWidth:"100%"},children:[(0,b.jsx)("p",{className:"fw-bold fs-8 mb-0 text-ellpsis",children:t.snippet.channelTitle}),(0,b.jsx)("span",{className:"fs-10 mb-0 text-ellpsis",children:"https://www.youtube.com/".concat(11==e?"playlist?list=":"channel/").concat(11==e?t.id.playlistId:t.id.channelId)})]})))})}):""]})}}),i?(0,b.jsx)("span",{className:"invalid-feedback",children:"This field is required"}):null]})})}),32==e?(0,b.jsx)("div",{className:"col-md-6",children:(0,b.jsx)("div",{className:"form-group",children:(0,b.jsxs)("div",{className:"input-group",children:[(0,b.jsx)(A.A.Text,{className:"fw-semibold fs-5",children:(0,b.jsx)(o.gc,{icon:(0,D.m2)(4,7)})}),(0,b.jsx)(S.A.Control,{placeholder:"Enter keywords",size:"lg",className:"fw-semibold",value:l,onChange:e=>n(e.target.value)})]})})}):null]})}}var O=s(3162),z=s(14313),K=s(33127);const R=(e,t,s)=>{try{(new z.A).post(f.e5n,e,{validateStatus:!1}).then(a=>{const{responseCode:n,responseMessage:l,responseData:i,postCount:o}=a.data;localStorage.setItem("selectedNetwork",null),200==n?((0,c.k1)(l),62!=e.filter&&i&&q(i,e.networkId,t,s)):((0,c.r$)(l),s(!1))}).catch(e=>{(0,c.r$)("Some Error Occured!!"),s(!1)})}catch(a){s(!1)}},q=(e,t,s,a)=>{const n={wallId:localStorage.getItem("wallId"),feedId:e,networkId:t},l=(0,c.HA)();(new z.A).post(f.lN0,n,{validateStatus:!1}).then(e=>{const{responseCode:t,responseMessage:n,postCount:i}=e.data;200==t?((0,c._q)(l,"success","".concat(i," ").concat(i>1?"posts":"post"," added successfully")),a(!1),localStorage.getItem("shopifyLogin")&&O.A.dispatch((0,d.AW)()),s()):((0,c._q)(l,"error",n),a(!1))}).catch(e=>{(0,c.b)(l),a(!1)})};var V=s(75318),W=s(44104);class G extends a.Component{constructor(){super(...arguments),this.state={activeFilter:"",feedText:"",placeId:"",placeName:"",showError:!1,channelId:"",filterName:"",isLoading:!1,latLng:"",keyword:"",error:!1,feedTextError:!1,manualSelect:null},this.onMoreTab=()=>{const{updateData:e,selectedNetworkId:t}=this.props;(0,c.l1)({title:"You have to connect your Account to use more options",icon:"warning",showCancelButton:!0,confirmButtonText:"I'll do it later",cancelButtonText:"Proceed",cancelButtonColor:"var(--bs-success)"}).then(s=>{s.isDismissed&&"cancel"==s.dismiss&&(localStorage.setItem("selectedNetwork",t),e({SKIP:!0}),this.props.navigate("/content/addfeed/".concat(localStorage.getItem("wallId"))))})},this.onFieldTextChange=(e,t,s)=>this.setState({feedText:e,placeId:t,placeName:s,showError:!1}),this.searchText=e=>{this.setState({feedText:e,error:!1})},this.onLatlanChange=e=>this.setState({latLng:e}),this.onChannelId=e=>this.setState({channelId:e}),this.changeKeyword=e=>this.setState({keyword:e}),this.onLoading=e=>this.setState({isLoading:e}),this.onInputFeedText=e=>this.setState({feedText:e.target.value}),this.onAddFeed=()=>{const{activeFilter:e,feedText:t,channelId:s,placeId:a,placeName:n,latlng:l,keywords:i}=this.state,{selectedNetworkId:o,contentObject:r,onNext:d}=this.props;if(this.onLoading(!0),29==o){(async(e,t,s)=>{(new z.A).post(f.Yb2,e,{validateStatus:!1}).then(e=>{const{responseCode:s,responseData:a,responseStatus:n}=e.data;200==parseInt(s)?((0,c.k1)(a),t()):(0,c.r$)(a),"Upgrade"==n&&setTimeout(()=>{O.A.dispatch((0,K.f$)(!0,2))},1500)}).catch(e=>{}).finally(()=>{s(!1)})})({network:29,filter:2,moderation:0,onsite_qr_code_btn_text:"Scan QR code or click here to submit reviews/rating",onsite_btn_color:"#000000",onsite_btn_txt_color:"#ffffff",onsite_link_font_btn:"Default",onsite_css_font_btn:"Default",onsite_font_varient_btn:"",btn_fontSize:16,onsite_qr_code_status:1,onsite_popup_title:"Submit your posts",onsite_popup_btn_txt:"Submit post",onsite_popup_sub_heading:"You can share your reviews/rating here",onsite_term_url:"https://taggbox.com/on-site-uploads-content-rights/",onsiteImgBack:"",onsite_logo:"",Onsite_logoImageValue:"",onsite_bg_color_wg:"#E8E8E8",onsiteBackImage:"",onsite_bg_image_wg:"",Onsite_backImageValue:"",onsite_succ_msg:"Thanks for the submission. Your post will live on the website after approval.",onsite_thank_txt_color:"#000000",onsite_link_font_msg:"Default",onsite_css_font_msg:"Default",onsite_font_varient_msg:"",onsite_thank_fontSize:16,wallId:localStorage.getItem("wallId")},d,this.onLoading)}else{if(""==t||!t||String(t).startsWith("#")||String(t).startsWith("@"))return this.setState({error:!0}),(String(t).startsWith("#")||String(t).startsWith("@"))&&this.setState({feedTextError:!0}),this.onLoading(!1),!1;var h={wallId:localStorage.getItem("wallId"),networkId:o,moderation:0,account:0,feedText:t,hashtagCaption:0,filter:e||(r.filters.length?r.filters[0].filter:null),accountId:"",hashtagIGTV:0,onlyReels:0};3==o?(h.field=t,((e,t,s)=>{try{(new z.A).post(f.gMf,e,{validateStatus:!1}).then(a=>{const{responseCode:n,responseMessage:l,response:i,postCount:o}=a.data;localStorage.setItem("selectedNetwork",null),200==n?((0,c.k1)(l),null!=o&&62!=e.filter&&(0,c.k1)("".concat(o," post added successfully")),62!=e.filter&&i&&i.length&&q(i[0],e.networkId,t,s),62==e.filter&&o&&o.length&&q(o[0],e.networkId,t,s)):((0,c.r$)(l),s(!1))}).catch(e=>{(0,c.r$)("Some Error Occured!!"),s(!1)})}catch(a){s(!1)}})(h,d,this.onLoading)):23==o?(h.airbnb_page_review=t,R(h,d,this.onLoading)):7==o?(h.channelId=s,h.latlng=l,h.keywords=i,R(h,d,this.onLoading)):5==o?(h.field1=t,h.field12boardurl=t,R(h,d,this.onLoading)):6==o?(h.field2=t,h.field1=t,R(h,d,this.onLoading)):4==o?(h.field33=t,h.field33placeId=a,h.field33placeName=n,R(h,d,this.onLoading)):28==o&&70==e?(h.tiktok_post_url=t,R(h,d,this.onLoading)):1==o?(h.excludeRetweet=1,h.excludeReplies=1,R(h,d,this.onLoading)):R(h,d,this.onLoading)}}}componentDidMount(){const{contentObject:e}=this.props;e.filters&&e.filters.length&&this.setState({activeFilter:e.filters[0].filter,filterName:e.filters[0].feedtype})}componentDidUpdate(e,t){const{contentObject:s}=this.props;e.contentObject.filters!=s.filters&&s.filters&&s.filters.length&&this.setState({activeFilter:s.filters[0].filter,filterName:s.filters[0].feedtype})}render(){const{contentObject:e,selectedNetworkId:t}=this.props,{filterName:s,error:a,activeFilter:n,feedText:l,keyword:i,isLoading:r,feedTextError:d,manualSelect:p}=this.state;return(0,b.jsx)(u.A.Container,{defaultActiveKey:e.filters&&e.filters.length?"feed-".concat(e.filters[0].filter):"0",children:0==t?(0,b.jsx)(b.Fragment,{children:null==p?(0,b.jsx)(V.default,{onBoarding:!0,onBack:this.props.handleStep,onNext:this.props.onNext,setNetwork:e=>this.setState({manualSelect:e})}):(0,b.jsx)(W.default,{onBoarding:!0,manualSelect:p,setNetwork:()=>this.setState({manualSelect:null}),onNext:this.props.onNext})}):(0,b.jsxs)("div",{className:"d-flex flex-column add_feed_ m-auto",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,b.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 me-3",children:(0,b.jsx)(k.A,{height:40,width:40,src:(0,o.pc)("media/icons/social-icons-square/".concat((0,c.EC)(t),".svg")),alt:(0,c.Oi)(t),fluid:!0})}),(0,b.jsxs)("div",{className:"d-flex flex-column flex-grow-1 my-lg-0 my-2 pr-3",children:[(0,b.jsx)("span",{className:"fs-6 fw-bold text-gray-800",children:e.name}),(0,b.jsxs)("p",{className:"fs-9 mb-0 fw-medium",children:["Add your ",e.name," ",(0,b.jsx)("span",{className:"",children:s})]})]})]}),(0,b.jsxs)(h.A,{variant:"underline",className:"mb-5 border-bottom",children:[e.filters&&e.filters.length>0?e.filters.map((e,t)=>(0,b.jsx)(h.A.Item,{children:(0,b.jsx)(h.A.Link,{eventKey:"feed-".concat(e.filter),onClick:()=>this.setState({activeFilter:e.filter,feedText:"",filterName:e.feedtype,error:!1,feedTextError:!1}),children:e.feedName})},"feed-".concat(e.filter))):null,(m=t,[18,1,3,4].includes(m)?(0,b.jsx)(h.A.Item,{children:(0,b.jsx)(h.A.Link,{className:"nav-link",onClick:()=>this.onMoreTab(),children:"More"})}):null)]}),(0,b.jsx)(u.A.Content,{children:29==t?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"mt-5 mb-10",children:(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Share this URL to allow users to submit reviews on other marketing channels."}),(0,b.jsx)("a",{href:"".concat(f.btP,"s/").concat(localStorage.getItem("wallId"),"/onsite-upload"),title:"Qr",children:"".concat(f.btP,"s/").concat(localStorage.getItem("wallId"),"/onsite-upload")})]})})}):e.filters&&e.filters.length?e.filters.map((e,s)=>(0,b.jsx)(u.A.Pane,{eventKey:"feed-".concat(e.filter),children:4==t?(0,b.jsx)(L,{onFieldTextChange:this.onFieldTextChange,error:a}):3==t?(0,b.jsx)(E,{text:l,onTextChange:this.searchText,error:a}):7==t?(0,b.jsx)(H,{tab:n,onValueChange:this.searchText,onChannelId:this.onChannelId,onLatlanChange:this.onLatlanChange,keyword:i,onKeywordChange:this.changeKeyword,error:a,feedText:l}):(0,b.jsxs)(A.A,{className:"mb-4",children:[(0,b.jsx)(A.A.Text,{className:"fw-semibold fs-5",children:(0,b.jsx)(o.gc,{icon:(0,D.m2)(e.filter,t)})}),(0,b.jsx)(S.A.Control,{className:"fw-semibold ".concat(a?"is-invalid":""),size:"lg",placeholder:"Enter ".concat(e.feedtype),value:l,onChange:this.onInputFeedText,required:!0}),a?(0,b.jsx)("span",{className:"invalid-feedback",children:d?"@ and # not allowed":"This field is required"}):null]})})):null}),(0,b.jsxs)(I.A,{variant:"warning",className:"border border-warning",children:[(0,b.jsx)(I.A.Heading,{className:"f-center alert_icon_head",children:(0,b.jsxs)("span",{className:"f-center",children:[(0,b.jsx)(o.gc,{icon:"lightbulb",iconClass:"me-1"}),"Pro Tip"]})}),(0,b.jsx)("p",{className:"fw-medium mb-0 fs-8 text-gray-700",children:"We highly advise leveraging user-generated content to enhance your e-commerce brand."})]}),(0,b.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,b.jsxs)(g.A,{variant:"link",onClick:()=>this.props.handleStep("c_n"),children:[(0,b.jsx)(o.gc,{icon:"arrow-left",iconClass:"me-2"}),"Back"]}),(0,b.jsx)(g.A,{variant:"primary",className:"".concat(r?"spinner":""),onClick:this.onAddFeed,children:"Create feed"})]})]})});var m}}const $=(0,l.A)(G);var Y=s(10624),Q=s(59074);const Z=e=>{let{eventKey:t,cssClass:s,elseValue:a,label:n,stepsCompleted:l}=e;return(0,b.jsx)(h.A.Item,{className:"mx-lg-3",children:(0,b.jsxs)(h.A.Link,{eventKey:t,className:"w-100 f-center fw-medium",children:[(0,b.jsx)("div",{className:"h-24px w-24px rounded-circle me-2 f-center text-gray-100 fs-8 ".concat(s),children:l?(0,b.jsx)(o.gc,{icon:"check"}):a}),n]})})},J={18:{filters:[{feedtype:"handle",filter:23,feedName:"Handle(@)",icon:"at"},{feedtype:"hashtag",filter:26,feedName:"Hashtag(#)",icon:"hashtag"}],name:"Instagram",icon:"instagram-business"},28:{filters:[{feedtype:"Hashtag",filter:72,feedName:"# Hashtag",icon:"hashtag"},{feedtype:"Handle",filter:71,feedName:"@ Handle",icon:"at"},{feedtype:"Post Url",filter:70,feedName:"Post Url",icon:"link"}],name:"TikTok",icon:"tiktok"},1:{filters:[{feedtype:"hashtag",filter:2,feedName:"Hashtag(#)",icon:"hashtag"},{feedtype:"handle",filter:1,feedName:"Handle(@)",icon:"at"}],name:"Twitter",icon:"twitter"},3:{filters:[{feedtype:"Page",filter:8,feedName:"Page",icon:"flag"}],name:"Facebook",icon:"facebook"},4:{filters:[{feedtype:"Places",filter:33,feedName:"Places",icon:"globe"}],name:"Google Reviews",icon:"google"},29:{filters:[{feedtype:"Review & Rating",filter:2,feedName:"Review & Rating"}],name:"SnapUp",icon:"onsiteupload"},5:{filters:[{feedtype:"Handle",filter:1,feedName:"Handle(@)",icon:"at"},{feedtype:"User Board",filter:12,feedName:"User Board",icon:"flag"}],name:"Pinterest",icon:"pinterest"},7:{filters:[{feedtype:"Channel Url",filter:1,feedName:"Channel Url",icon:"at"},{feedtype:"Shorts",filter:75,feedName:"Shorts",icon:"at"},{feedtype:"Play List",filter:11,feedName:"Play List",icon:"list"},{feedtype:"Keywords",filter:4,feedName:"Keywords",icon:"font"},{feedtype:"Location",filter:32,feedName:"Location",icon:"globe"}],name:"YouTube",icon:"youtube"},6:{filters:[{feedtype:"Hashtag",filter:2,feedName:"Hashtag(#)",icon:"hashtag"},{feedtype:"Handle",filter:1,feedName:"Handle(@)",icon:"at"}],name:"Flickr",icon:"flickr"},8:{filters:[{feedtype:"Hashtag",filter:2,feedName:"Hashtag(#)",icon:"hashtag"},{feedtype:"Handle",filter:1,feedName:"Handle(@)",icon:"at"}],name:"Vimeo",icon:"vimeo"},23:{filters:[{feedtype:"Listing Url",filter:56,feedName:"Listing Url(#)",icon:"flag"}],name:"Airbnb Reviews",icon:"airbnb"},0:{filters:[{feedtype:"Upload",filter:56,feedName:"Upload",icon:"flag"}],name:"Upload",icon:"manual-upload"}};class X extends a.Component{constructor(){super(...arguments),this.state={addclass:!0,contentObject:null,activeTab:"s_g_t",feedCreated:!1,selectedNetworkId:null,stepsCompleted:[],showVideo:!1,currentStep:1},this.updateData=e=>{const{updateUserInfo:t}=this.props;(0,c.P0)()},this.onSkipSteps=()=>{const{updateUserInfo:e,navigate:t}=this.props;(0,d.zU)({stepstype:"onboardingskip"}).then(s=>{e(()=>{t("/steps")})})},this.onNetworkSelect=e=>{this.setState({contentObject:J[e],activeTab:"a_c",selectedNetworkId:e,stepsCompleted:[...this.state.stepsCompleted,"chooseNetwork"]},()=>this.updateData({CHOOSE_NETWORK:e}))},this.onClose=e=>this.setState({showVideo:!this.state.showVideo}),this.handleStep=e=>{this.setState({activeTab:e,contentObject:[],stepsCompleted:[]})},this.galleryFun=()=>{this.setState({activeTab:"c_n"})},this.afterAddContent=()=>{setTimeout(()=>{this.props.navigate("/steps")},1e3)}}componentDidMount(){const{getNetworks:e,stepData:t,navigate:s}=this.props;null!==t&&void 0!==t&&t.FEED_CREATED&&this.setState({activeTab:"s_p"}),e()}componentDidUpdate(e){var t,s;e.allProducts&&this.props.allProducts&&(null===(t=e.allProducts)||void 0===t?void 0:t.length)!=(null===(s=this.props.allProducts)||void 0===s?void 0:s.length)&&(this.props.TAGSHOP_USER_HOME_DATA(),this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId"))))}render(){const{contentObject:e,selectedNetworkId:t,activeTab:s,stepsCompleted:a,showVideo:n}=this.state;return(0,b.jsx)("div",{className:"d-flex flex-column flex-column-fluid align-items-center justify-content-center w-100 flex-position-center full-content",children:(0,b.jsx)(p.A,{className:"onboard__",fluid:!0,children:(0,b.jsx)(u.A.Container,{defaultActiveKey:"s_g_t",activeKey:s,children:(0,b.jsxs)(m.A,{children:[(0,b.jsxs)(m.A.Header,{className:"pb-0 w-100 align-items-center",children:[(0,b.jsx)("div",{}),(0,b.jsxs)(h.A,{variant:"underline",className:"nav-lg flex-sm-row flex-column ms-sm-10",children:[(0,b.jsx)(Z,{eventKey:"s_g_t",cssClass:"bg-primary fw-semibold ".concat("c_n"==s||"a_c"==s||"s_p"==s?"bg-primary":"bg-dark"),elseValue:"1",label:"Select Gallery Type",stepsCompleted:"c_n"==s||"a_c"==s||"s_p"==s}),(0,b.jsx)(Z,{eventKey:"c_n",cssClass:"a_c"==s||"s_p"==s?"bg-primary":"bg-dark",elseValue:"2",label:"Choose network",stepsCompleted:"a_c"==s||"s_p"==s}),(0,b.jsx)(Z,{eventKey:"a_c",cssClass:"s_p"==s?"bg-primary":"bg-dark",elseValue:"3",label:"Add Content",stepsCompleted:"s_p"==s}),!localStorage.getItem("shopifyLogin")&&(0,b.jsx)(Z,{eventKey:"s_p",cssClass:""==s?"bg-primary":"bg-dark",elseValue:"4",label:"Sync Product",stepsCompleted:""==s})]}),(0,b.jsx)(g.A,{size:"sm",variant:"light",className:"d-none d-sm-inline-block",onClick:this.onSkipSteps,children:"Skip"})]}),(0,b.jsx)(m.A.Body,{children:(0,b.jsxs)(u.A.Content,{className:"onboard_tabs_",children:[(0,b.jsx)(u.A.Pane,{eventKey:"s_g_t",children:"s_g_t"==s?(0,b.jsx)(N,{galleryFun:this.galleryFun}):null}),(0,b.jsx)(u.A.Pane,{eventKey:"c_n",children:"c_n"==s?(0,b.jsx)(C,{onNetworkSelect:this.onNetworkSelect}):null}),(0,b.jsx)(u.A.Pane,{eventKey:"a_c",children:"a_c"==s&&e?(0,b.jsx)($,{contentObject:e,selectedNetworkId:t,updateData:this.updateData,handleStep:this.handleStep,onNext:()=>this.setState({stepsCompleted:[...a,"addContent"]},()=>this.afterAddContent())}):null}),(0,b.jsx)(u.A.Pane,{eventKey:"s_p",children:"s_p"==s?(0,b.jsx)(Y.default,{updateData:this.updateData,onBoardings:!0}):null})]})}),(0,b.jsx)(m.A.Footer,{className:"border-0 bg-gray-100",children:(0,b.jsx)(p.A,{fluid:"sm",children:(0,b.jsx)(x.A,{className:"justify-content-center",children:(0,b.jsxs)(v.A,{lg:8,className:"f-center justify-content-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)(g.A,{variant:"link",className:"d-inline-block d-sm-none py-2",onClick:this.onSkipSteps,children:"Skip"})}),(0,b.jsxs)("div",{className:"f-between flex-sm-grow-1",children:[(0,b.jsx)("span",{className:"me-5 d-sm-flex d-none",children:"In case of any query reach out to us at support@".concat(f.PWx?"tagembed.com":"taggbox.com"," or Talk to expert")}),(0,b.jsxs)("div",{className:"d-flex flex-nowrap",children:[(0,b.jsxs)(i.N_,{className:"btn btn-outline-primary text-nowrap",to:f.Sx3,target:"_blank",title:"Demo Call",children:[(0,b.jsx)(o.gc,{icon:"phone",iconClass:"me-1"}),"Demo Call"]}),(0,b.jsxs)(g.A,{variant:"outline-primary text-nowrap",className:"ms-3",onClick:()=>{this.setState({showVideo:!0})},children:[(0,b.jsx)(o.gc,{icon:"circle-play",iconClass:"me-1"}),"Watch Video"]})]})]})]})})})}),(0,b.jsx)(w.A,{show:n,link:"https://player.vimeo.com/video/912907290?h=f28a39da95",onClose:this.onClose})]})})})})}}const ee=(0,n.Ng)(e=>{var t,s,a;return{stepData:null===(t=e.dashboardData)||void 0===t||null===(s=t.dashboarddata)||void 0===s?void 0:s.extra_data,allProducts:null===(a=e.products)||void 0===a?void 0:a.allProducts}},e=>({getNetworks:t=>e((0,r.Ux)(t)),getModeration:()=>e((0,r.zI)()),updateUserInfo:t=>e((0,d.AW)(t)),TAGSHOP_USER_HOME_DATA:()=>e((0,Q.Wg)())}))(X)},75318:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var a=s(9950),n=s(97937),l=s(351),i=s(68459),o=s(45358),r=s(51960),d=s(86781),c=s(42074),h=s(54810),p=s(52867),u=s(1391),m=s(5385),g=s(73878),x=s(10274),v=s(44414);class f extends a.Component{constructor(){super(...arguments),this.state={networkList:[],loader:!0},this.setNetworks=()=>{const{networks:e}=this.props,t=null===e||void 0===e?void 0:e.find(e=>0==e.id);this.setState({loader:!1,networkList:null!==t&&void 0!==t&&t.access?null===t||void 0===t?void 0:t.networkTab:[]})}}componentDidMount(){const{networks:e,getNetworks:t}=this.props;e?this.setNetworks():t()}componentDidUpdate(e){const{networks:t}=e;t!=this.props.networks&&this.setNetworks()}render(){var e,t,s,a,u,g,x;const{loader:f,networkList:w}=this.state,{onBoarding:b,setNetwork:j,navigate:y}=this.props,N=(0,p.C2)(),k=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.manual_upload)&&void 0!==e?e:{};return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"custom-side-menu d-flex",children:[N?null:(0,v.jsx)(m.A,{getWallData:{id:localStorage.getItem("wallId")}}),(0,v.jsx)("div",{className:"custom-main-content",children:(0,v.jsx)("div",{className:"d-flex flex-column flex-column-fluid w-100 py-5 manual_upload_",children:(0,v.jsx)(o.A,{children:(0,v.jsx)(l.A,{className:"".concat(b?"shadow-none border-0":""),children:(0,v.jsxs)(l.A.Body,{className:"f-center flex-column manual_upload_card",children:[(0,v.jsx)("h3",{className:"text-center mb-3",children:null!==(a=null===k||void 0===k?void 0:k.page_title)&&void 0!==a?a:""}),(0,v.jsx)("p",{className:"text-center mb-8",children:null!==(u=null===k||void 0===k?void 0:k.page_desc)&&void 0!==u?u:""}),(0,v.jsxs)("div",{className:"f-center flex-wrap w-100 flex-column",children:[f?(0,v.jsx)(d.A,{className:"w-100",style:{maxWidth:600},children:(0,p.OZ)(3).map((e,t)=>(0,v.jsx)(i.A,{children:(0,v.jsxs)("div",{className:"btn btn-outline-secondary w-100 rounded-1 f-center flex-column p-7 mb-4 d-flex",children:[(0,v.jsx)("div",{className:"sk_rect h-40px w-40px mb-3"}),(0,v.jsx)("div",{className:"sk_line h-10px mb-1 w-75"})]},t)}))}):(0,v.jsxs)(d.A,{className:"w-100",style:{maxWidth:600},children:[w.length>0?w.map(e=>{var t;return(0,v.jsx)(i.A,{children:(0,v.jsxs)(n.A,{variant:"outline-secondary",onClick:()=>b?j(e.networkId):y("/manual-upload/feed?network=".concat(e.networkId)),className:"btn btn-outline-secondary w-100 rounded-1 f-center flex-column p-7 mb-4",children:[(0,v.jsx)("p",{className:"display-2 mb-3",children:0==e.networkId?(0,v.jsx)(h.gc,{type:"light",icon:"laptop",iconClass:"me-0"}):(0,v.jsx)(r.A,{src:(0,h.pc)("media/icons/social-icons-square/".concat((0,p.EC)(e.networkId),".svg")),height:36,width:36,fluid:!0})}),(0,v.jsx)("p",{className:"mb-0 fs-10 fw-medium",children:0==e.networkId?null!==(t=null===k||void 0===k?void 0:k.option_my_device)&&void 0!==t?t:"":(0,p.Oi)(e.networkId)})]})})}):null,(0,v.jsx)("div",{className:"d-flex justify-content-center mt-4",children:(0,v.jsxs)(c.N_,{to:"/content/addfeed/".concat(localStorage.getItem("wallId")),className:"text-decoration-underline text-muted p-2",title:"Upload Feed",children:[(0,v.jsx)(h.gc,{icon:"arrow-left",iconClass:"me-2"}),null!==(g=null===k||void 0===k?void 0:k.option_back)&&void 0!==g?g:""]})})]}),b?(0,v.jsx)("div",{className:"f-center",children:(0,v.jsx)(n.A,{variant:"link",className:"text-decoration-underline",onClick:()=>this.props.onBack("c_n"),children:null!==(x=null===k||void 0===k?void 0:k.btn_choose_network)&&void 0!==x?x:""})}):null]})]})})})})})]})})}}const w=(0,g.Ng)(e=>{var t,s;return{networks:null===(t=e.addFeedReducer)||void 0===t||null===(s=t.addFeedNetworks)||void 0===s?void 0:s.networks}},e=>({getNetworks:t=>e((0,x.Ux)(t))}))((0,u.A)(f))},97696:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(9950),n=s(38092),l=s.n(n),i=s(17327),o=s(85608),r=s(10274),d=s(44414);const c=e=>{let{item:t,mediaClass:s,size:n,height:c,width:h,url:p,poster:u,autoPlay:m,muted:g,isCover:x,controls:v,loop:f,isupdate:w}=e;const[b,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)(n||100),k=()=>{j(!0)};return(0,a.useEffect)(()=>{(async()=>{if(n)N(n);else if(c&&""!=c&&h&&""!=h)N(100*c/h);else try{const{width:e,height:t}=await(0,i.A)(u);N(100*t/e)}catch(e){N(100)}})()},[n]),(0,d.jsx)("div",{className:"".concat(s," overflow-hidden position-relative"),style:{paddingBottom:"".concat(y,"%")},children:(0,d.jsx)("div",{className:"position-absolute object-center-cover h-100 w-100",children:p.includes("https://www.facebook.com/reel")?(0,d.jsx)("iframe",{src:"https://www.facebook.com/plugins/video.php?href=".concat(encodeURIComponent(p),"&show_text=false&autoplay=1&mute=1&playsinline=1"),style:{height:"100%",width:"100%",border:"none",overflow:"hidden"},allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,onLoad:k}):(0,d.jsx)(l(),{poster:u,className:"",url:p,config:{facebook:{appId:o.TG},attributes:{"data-item-id":null===t||void 0===t?void 0:t.id,poster:u,"data-network":null===t||void 0===t?void 0:t.networkId,"data-stories":null===t||void 0===t?void 0:t.stories,"data-load":"0","data-filter":null===t||void 0===t?void 0:t.feedFilter,"data-wall-id":null===t||void 0===t?void 0:t.wallId,"data-type":"video"}},autoPlay:m,muted:!0,volume:m?1:0,playsinline:!0,onReady:k,playing:m,height:"100%",width:"100%",loop:f,controls:v,onError:w?r.mr:null,style:{backgroundImage:b?"":"url(".concat(u,")"),backgroundSize:x?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",textAlign:"center"}})})})}}}]);