"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[2930],{5385:(e,t,n)=>{n.d(t,{A:()=>g});var l=n(9950),s=n(54810),o=n(80322),i=n(28429),a=n(51960),d=n(26661),c=n(26415),r=n(38092),u=n.n(r),h=n(44414);const m=e=>{let{show:t,handleClose:n,navigate:l}=e;const{heading:o,description:i,url:r,isVideo:m,btnText:p}={heading:"Auto Pilot",description:"Want to create impressive widgets without spending hours? Auto-pilot is just the feature you need to sieve all the irrelevant posts within minutes! \u26a1 Ready to explore? Upgrade your plan.",url:(0,s.pc)("media/products/auto-pilot-feature.mp4"),btnText:" Upgrade Now! ",isVideo:!0};return(0,h.jsx)(d.A,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,h.jsx)(c.A,{className:"p-8 socialwall-popup-body",children:(0,h.jsxs)("div",{className:"row align-itmes-center",children:[(0,h.jsx)("h2",{className:"font-weight-boldest w-100 text-center mt-0",children:o}),(0,h.jsx)("p",{className:"mb-5 text-dark text-center",children:i}),(0,h.jsx)("div",{className:"col-lg-12",children:(0,h.jsx)("div",{className:"switch_image ugc-switch-video mb-4 w-100",children:m?(0,h.jsx)(u(),{height:300,id:"bg_image",className:"object-fit-contain",url:r,autoPlay:!0,playing:!0,loop:!0,muted:!0,controls:!1,playsinline:!0}):(0,h.jsx)(a.A,{isPrefix:!0,className:"img-fluid",src:r,alt:""})})}),(0,h.jsx)("div",{className:"col-lg-12",children:(0,h.jsx)("div",{className:"switch_text_inner text-center",children:(0,h.jsx)("button",{onClick:()=>{l("/price")},className:"btn btn-primary btn-lg btn-min-w mt-2",children:p})})})]})})})};var p=n(73878),v=n(85608);const g=e=>{var t,n;let{getWallData:a}=e;const{name:d,id:c}=a||{},r=(0,i.Zp)(),u=window.location.pathname,[g,x]=(0,l.useState)(!1),f=(0,p.d4)((e=>{var t,n,l,s;return null===(t=e.authorized)||void 0===t||null===(n=t.userData)||void 0===n||null===(l=n.user_data)||void 0===l||null===(s=l.UserPlan)||void 0===s?void 0:s.planId}),p.bN),j=v.vm.freePlan.includes(f)||v.vm.freeTrail.includes(f),w=(e,t,n)=>{e.stopPropagation(),((0,o.Yj)("networkManager","manageFeed",!0)||[4,5].includes(n))&&r(t)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"custom-side-menu-inn h-100",children:[(0,h.jsxs)("div",{className:"custom-side-menu-body",children:[(0,h.jsx)("p",{className:"csm-title mb-0 pb-3 pb-sm-2 border-bottom",children:"CONTENT"}),(0,h.jsxs)("ul",{className:"list-unstyled",children:[(0,h.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null===u||void 0===u||!u.includes("addfeed")||null!==u&&void 0!==u&&null!==(t=u.split("/"))&&void 0!==t&&t.includes("29")?"":"active"),onClick:e=>w(e,"/content/addfeed/".concat(c),2),children:[(0,h.jsx)(s.gc,{iconClass:"me-2",icon:"square-plus"}),(0,h.jsx)("span",{children:"Add Feed"})]}),(0,h.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==u&&void 0!==u&&u.includes("managefeed")?"active":""),onClick:e=>w(e,"/content/managefeed/".concat(c),3),children:[(0,h.jsx)(s.gc,{iconClass:"me-2",icon:"rectangle-history-circle-plus"}),(0,h.jsx)("span",{children:"Manage Feeds"})]}),(0,h.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==u&&void 0!==u&&u.includes("autopilot")?"active":""),onClick:e=>j?x(!0):w(e,"/autopilot",4),children:[(0,h.jsx)(s.gc,{iconClass:"me-2",icon:"toggle-on"}),(0,h.jsx)("span",{children:"Auto Pilot"})]}),(0,h.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==u&&void 0!==u&&null!==(n=u.split("/"))&&void 0!==n&&n.includes("29")?"active":""),onClick:e=>w(e,"/content/addfeed/".concat(c,"/29"),5),children:[(0,h.jsx)(s.gc,{iconClass:"me-2",icon:"messages"}),(0,h.jsx)("span",{children:"Review Hub"})]})]})]}),(0,h.jsx)("div",{className:"custom-side-menu-footer d-flex justify-content-end border-top",children:(0,h.jsx)("div",{className:"f-between w-100 gap-3",children:(0,h.jsx)("button",{type:"button",id:"",className:"w-100 btn btn-primary",onClick:e=>{e.stopPropagation(),r("/publish/".concat(c))},children:"Publish"})})})]}),g?(0,h.jsx)(m,{show:g,handleClose:()=>x(!1),navigate:r}):null]})}},42930:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var l=n(9950),s=n(73878),o=n(97937),i=n(45358),a=n(471),d=n(1093),c=n(64323),r=n(51960),u=n(21432),h=n(95942),m=n(17595),p=n(34483),v=n(36431),g=n(42074),x=n(25984),f=n(52867),j=n(54810),w=n(80322),b=n(65284),y=n(66345),A=n(44414);class N extends l.Component{constructor(e){super(e),this.getConnectAccount=()=>{const{accountList:e,connectedAccount:t}=this.props.feed,n=e.length>0?e.filter((e=>e.id===t)):[];return n.length>0?n[0]:e.length>0?e[0]:{}},this.onModerationSwitch=e=>{const{feed:t,changeStatus:n}=this.props;n(t.id,Number(e),"moderation"),this.setState({moderation:Number(e)})},this.onFeedStatusSwitch=e=>{const{feed:t,changeStatus:n}=this.props;n(t.id,Number(e),"status"),this.setState({status:Number(e)})},this.connectAccount=(e,t)=>{const n={id:e.networkId,name:e.networkName.toLowerCase()};localStorage.setItem("feedId",e.id),t&&localStorage.setItem("refresh",!0),localStorage.setItem("connectionType","manageFeed"),(0,f.go)(n,t,!0)},this.state={moderation:this.props.feed.moderation,status:this.props.feed.status,connectedAccount:this.getConnectAccount()}}componentDidMount(){const{feed:e}=this.props;this.setState({status:e.status,moderation:e.moderation})}componentDidUpdate(e){e.accountChanged!=this.props.accountChanged&&this.setState({connectedAccount:this.getConnectAccount()})}render(){var e,t,n,l,s,i,a,d,p,v;const{feed:y,onFeedDelete:N,changeAccount:C}=this.props,{status:_,moderation:S,connectedAccount:P}=this.state,{filterId:I,networkId:F,accountList:E,isBtntext:T}=y,D=localStorage.getItem("wallId"),M="media/".concat(localStorage.getItem("ownerId"),"/").concat(D,"/").concat(y.id),L=((e,t)=>18==e||2==e?[23,34,66,1].includes(t):10==e?[17,1,86].includes(t):3==e?[8,1,67,65,66].includes(t):7==e?[1,75].includes(t):28==e?[2,71].includes(t):12==e?[13].includes(t):5==e?[1,71].includes(t):(1==e||8==e||6==e||11==e)&&[1].includes(t))(F,I),O=null!==(e=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==e?e:{};return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:(0,A.jsxs)("div",{className:"d-flex align-items-center",children:[(0,A.jsx)("span",{className:"h-34px w-34px me-2 d-flex flex-shrink-0",children:(0,A.jsx)(r.A,{className:"h-100",src:(0,j.pc)("media/icons/social-icons-square/".concat((0,f.EC)(y.networkId),".svg")),height:43,width:43,title:(0,f.Oi)(y.networkId),alt:(0,f.Oi)(y.networkId),fluid:!0})}),(0,A.jsxs)("div",{style:{minWidth:170},children:[(0,A.jsxs)("p",{className:"mb-0 d-flex",children:[(0,A.jsxs)("span",{className:"feed_name fw-semibold",children:[(0,x.Ay)(y.name)," "]}),y.socialLink?(0,A.jsx)(u.A,{placement:"top",overlay:(0,A.jsx)(h.A,{children:y.tooltip}),children:(0,A.jsx)(g.N_,{className:"ms-2 text-muted",to:8!==y.networkId?y.socialLink:"https://vimeo.com/user".concat(y.accountId),target:"_blank",title:"support",children:(0,A.jsx)(j.gc,{icon:"arrow-up-right-from-square"})})}):null]}),(0,A.jsx)("small",{className:"mb-0 text-gray-700",children:y.networkName})]})]})}),(0,A.jsx)("td",{children:(0,A.jsx)(k,{feed:y,connectionType:"manageFeed"})}),(0,A.jsxs)("td",{children:[(0,A.jsx)("p",{className:"fs-8 fw-semibold mb-0","data-id":"post",style:{minWidth:120},children:(null===y||void 0===y?void 0:y.postCount)||0}),(0,A.jsx)("span",{className:"fs-8 text-gray-700",children:(0,f.dz)(null!==(n=null===O||void 0===O||null===(l=O.manage_feed)||void 0===l?void 0:l.feed_post_count)&&void 0!==n?n:"",{feed_post_count:(null===y||void 0===y?void 0:y.postCount)||0,post_label:(null===y||void 0===y?void 0:y.postCount)>1?null===O||void 0===O||null===(s=O.manage_feed)||void 0===s?void 0:s.posts:null===O||void 0===O||null===(i=O.manage_feed)||void 0===i?void 0:i.post})})]}),(0,A.jsx)("td",{children:(0,A.jsx)(m.A.Check,{type:"switch",checked:S,"data-id":"moderation",onChange:()=>{var e,t;return(0,w.Yj)("networkManager","manageFeed",!0)?S?this.onModerationSwitch(!S):(0,f.zO)(null!==(e=null===O||void 0===O||null===(t=O.manage_feed)||void 0===t?void 0:t.enable_moderation)&&void 0!==e?e:"",this.onModerationSwitch,!S):{}}})}),(0,A.jsx)("td",{children:(0,A.jsx)(m.A.Check,{type:"switch",checked:_,"data-id":"status",onChange:()=>{var e,t;return(0,w.Yj)("networkManager","manageFeed",!0)?_?(0,f.zO)(null!==(e=null===O||void 0===O||null===(t=O.manage_feed)||void 0===t?void 0:t.disable_status)&&void 0!==e?e:"",this.onFeedStatusSwitch,!_):this.onFeedStatusSwitch(!_):{}}})}),(0,A.jsx)("td",{className:"pr-0",children:(0,A.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,A.jsx)("div",{className:"d-flex align-items-center justify-content-end me-2",children:(0,w.Yj)("networkManager","manageFeed",!0)&&L?(0,A.jsx)(b.A,{uploadPath:M,uploadAgents:[],onImgUpload:e=>(0,c.CF)(e,y.id),children:(0,A.jsx)(u.A,{placement:"top",overlay:(0,A.jsx)(h.A,{children:null!==(a=null===O||void 0===O||null===(d=O.common)||void 0===d?void 0:d.upload)&&void 0!==a?a:""}),children:(0,A.jsx)(o.A,{variant:"icon",size:"sm","data-id":"edit",className:"btn-active-primary","aria-label":"edit",children:(0,A.jsx)(j.gc,{type:"solid",icon:"edit"})})})}):null}),(0,A.jsx)("div",{className:"d-flex align-items-center justify-content-end",onClick:()=>(0,w.Yj)("networkManager","manageFeed",!0)?N(y.id,y.networkId):{},children:(0,A.jsx)(u.A,{placement:"top",overlay:(0,A.jsx)(h.A,{children:null!==(p=null===O||void 0===O||null===(v=O.common)||void 0===v?void 0:v.delete)&&void 0!==p?p:""}),children:(0,A.jsx)(o.A,{variant:"icon",size:"sm","data-id":"delete",className:"btn-active-primary","aria-label":"delete",children:(0,A.jsx)(j.gc,{type:"solid",icon:"trash-can"})})})})]})})]})}}const C=(0,s.Ng)(null,(e=>({GET_FEEDS:()=>e((0,c.LF)())})))(N),k=e=>{var t,n,i;let{feed:a,connectionType:d}=e;const{filterId:r,networkId:m,accountList:g,isBtntext:x,connectedAccount:b}=a,N=(0,s.wA)(),C=(0,l.useMemo)((()=>(0,w.Yj)("networkManager","manageFeed",!0)),[]),k=(0,l.useMemo)((()=>{var e,t,n;return null!==(e=null===(t=window)||void 0===t||null===(n=t.APP_CONTENT)||void 0===n?void 0:n.manage_feed)&&void 0!==e?e:{}}),[]),_=(0,l.useMemo)((()=>{var e,t;const n=b&&null!==(e=null===g||void 0===g?void 0:g.filter((e=>e.id===b)))&&void 0!==e?e:[];return null!==(t=null===n||void 0===n?void 0:n[0])&&void 0!==t?t:{}}),[g,b]);return(0,A.jsxs)("div",{className:"d-flex align-items-center",children:[[1,2,3,4,5,8,65,67,26,23,86].includes(r)&&2!=m&&(null===g||void 0===g?void 0:g.length)>0?(0,A.jsxs)(p.A,{style:{minWidth:220},children:[(0,A.jsxs)(p.A.Toggle,{variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between p-2",children:[(0,A.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,A.jsx)(v.A,{className:"symbol symbol-32 symbol-circle flex-shrink-0 me-2",imageSize:26,symbolClass:"symbol-label fs-8",name:null!==(t=null===_||void 0===_?void 0:_.accountName)&&void 0!==t?t:"",profileUrl:_.profilePicture,networkId:m}),(0,A.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,A.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-8 text-black",children:null!==(n=null===_||void 0===_?void 0:_.accountName)&&void 0!==n?n:""})})]}),"Reconnect"==x||"Connect"==x?(0,A.jsx)(u.A,{overlay:(0,A.jsx)(h.A,{children:(0,f.dz)(null!==(i=null===k||void 0===k?void 0:k.tooltip_disconnect)&&void 0!==i?i:"",{company:y.SxH})}),children:(0,A.jsx)("span",{className:"me-1 fs-5 text-danger h-14px w-14px",children:(0,A.jsx)(j.gc,{icon:"circle-info"})})}):null]}),(0,A.jsx)(p.A.Menu,{className:"w-100",children:g.map((e=>{const{id:t,profilePicture:n,accountName:l}=e;return(0,A.jsx)(p.A.Item,{onClick:()=>{C&&N((0,c.ZA)(t,a.id))},children:(0,A.jsxs)("div",{className:"d-flex align-items-center",children:[(0,A.jsx)(v.A,{className:"symbol symbol-26 symbol-circle flex-shrink-0 me-2",imageSize:26,symbolClass:"symbol-label fs-8",name:l,profileUrl:n,networkId:m}),(0,A.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,A.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-9",children:l})})]})},t)}))})]}):"Reconnect"==x||"Connect"==x?null:"--",(0,A.jsx)("div",{className:"d-flex ms-3",children:"Reconnect"==x||"Connect"==x?(0,A.jsx)(u.A,{placement:"top",overlay:(0,A.jsx)(h.A,{children:x}),children:(0,A.jsxs)(o.A,{variant:"icon",className:"btn-active-primary text-danger px-2 w-100","aria-label":x,onClick:()=>((e,t)=>{if(C){var n;const l={id:e.networkId,name:null!==(n=(null===e||void 0===e?void 0:e.networkName).toLowerCase())&&void 0!==n?n:""};localStorage.setItem("feedId",e.id),t&&localStorage.setItem("refresh",!0),localStorage.setItem("connectionType",d),(0,f.go)(l,t,!0)}})(a,!0),children:[(0,A.jsx)(j.gc,{iconClass:"me-1",type:"solid",icon:"rotate"}),x]})}):null})]})};var _=n(18633),S=n(9697),P=n(10274),I=n(1391),F=n(26806),E=n(54480),T=n(91615),D=n(26787),M=n(5385);class L extends l.Component{constructor(){var e,t;super(...arguments),this.state={currentPage:1,showPost:30,totalPage:1,allFeeds:[],currentPageFeeds:null,accountChanged:!1},this.appContent=null!==(e=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==e?e:"",this.changeTotalPost=e=>{this.setState({showPost:parseInt(e.target.value),currentPage:1},(()=>this.countAllPage()))},this.nextPrev=e=>{this.setState({currentPage:e},(()=>this.countAllPage()))},this.countAllPage=()=>{const{manageFeeds:e}=this.props,t=null===e||void 0===e?void 0:e.feeds;this.setState({allFeeds:t,totalPage:Math.ceil((t&&t.length>0?t.length:0)/this.state.showPost)})},this.changeStatus=(e,t,n)=>{this.props.ACTION_FEED_STATUS(e,t,n,this.onSuccessUpdateRedux)},this.onSuccessUpdateRedux=e=>{this.props.getModeration(),this.countAllPage(),"account"==e&&this.setState({accountChanged:!this.state.accountChanged})},this.onFeedDelete=(e,t)=>{var n,l;const{are_you_sure:s,yes:o,no:i,thumbs_down:a}=null!==(n=null===(l=this.appContent)||void 0===l?void 0:l.common)&&void 0!==n?n:{};(0,f.l1)({icon:"warning",title:null!==s&&void 0!==s?s:"",showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,confirmButtonText:null!==o&&void 0!==o?o:"",confirmButtonAriaLabel:null!==o&&void 0!==o?o:"",cancelButtonText:null!==i&&void 0!==i?i:"",cancelButtonAriaLabel:null!==a&&void 0!==a?a:""}).then((n=>{n.value&&this.props.ACTION_DELETE_FEED(e,t,this.onDeleteUpdateRedux(t))}))},this.onDeleteUpdateRedux=e=>{this.props.getModeration(),this.countAllPage()},this.handleMessage=async e=>{try{const t=(0,f.KK)(e.data),{code:n,networkId:l,type:s}=t;"manageFeed"==s&&n&&await(0,S.CJ)(parseInt(l),n,this.props.GET_FEEDS)}catch(t){console.log("--- handleMessage error ---",t)}},this.getPagination=()=>{const{currentPage:e,totalPage:t}=this.state,n=[];if(t<=5)for(let l=1;l<=t;l++)n.push(l);else e<=3?n.push(1,2,3,4,"...",t):e>t-3?n.push(1,"...",t-3,t-2,t-1,t):n.push(1,"...",e-1,e,e+1,"...",t);return n}}componentDidMount(){window.addEventListener("message",this.handleMessage),this.props.GET_FEEDS(),this.countAllPage()}componentDidUpdate(e,t){var n,l,s,o,i;if(null!==(n=this.props.manageFeeds)&&void 0!==n&&n.loading||this.props.wallsLoader||null!==(l=this.props.manageFeeds)&&void 0!==l&&null!==(s=l.feeds)&&void 0!==s&&s.length){if(1==(null===(o=this.props.manageFeeds)||void 0===o||null===(i=o.feeds)||void 0===i?void 0:i.length)){var a;const{id:e,networkId:t}=null===(a=this.props.manageFeeds)||void 0===a?void 0:a.feeds[0];if(0==e&&0==t){const e=localStorage.getItem("wallId");e&&this.props.navigate("/content/addfeed/".concat(e))}}}else{const e=localStorage.getItem("wallId");e&&this.props.navigate("/content/addfeed/".concat(e))}}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}render(){var e,t,n,l,s,c,r,u,h,m,p,v,g,x,b,y,N,k,S,P,I,E,T,L;const{currentPage:O,showPost:U,totalPage:G,allFeeds:z,accountChanged:B}=this.state,{manageFeeds:R,wallsLoader:W,allWalls:Y,navigate:H}=this.props,K=(this.getPagination(),(O-1)*U),q=(z>0&&z.slice(K,K+U),null!==(e=null===Y||void 0===Y?void 0:Y.find((e=>e.id==localStorage.getItem("wallId"))))&&void 0!==e?e:{}),V=(0,f.C2)();return(0,A.jsxs)(A.Fragment,{children:[null!==Y&&void 0!==Y&&Y.length?(0,A.jsx)(D.A,{crumbs:[{name:null!==(t=null===q||void 0===q?void 0:q.name)&&void 0!==t?t:"",icon:"grid-2-plus",imgUrl:null!==(n=null===q||void 0===q?void 0:q.thumbnail)&&void 0!==n?n:""},{name:"Home",link:"/home"},{name:"Content Gallery",link:"/content"},{name:null===q||void 0===q?void 0:q.name,link:"/content/moderation/".concat(null===q||void 0===q?void 0:q.id)},{name:"Manage feeds",link:"/content/managefeed/".concat((null===q||void 0===q?void 0:q.id)||localStorage.getItem("wallId")||"")}],RightComponent:(0,A.jsx)("div",{children:R.loading||W?null:Y&&Y.length>0?(0,A.jsxs)("button",{onClick:()=>(0,w.Yj)("networkManager","manageFeed",!0)?H("/content/addfeed/".concat(localStorage.getItem("wallId"))):{},className:"btn btn-primary btn-md text-nowrap btn-min-w text-capitalize",children:[(0,A.jsx)(j.gc,{icon:"plus",iconClass:"me-1"}),null!==(l=null===(s=this.appContent)||void 0===s||null===(c=s.manage_feed)||void 0===c?void 0:c.add_feed_button)&&void 0!==l?l:""]}):(0,A.jsxs)(o.A,{size:"sm",className:"text-nowrap btn-min-w",onClick:()=>(0,w.Yj)("contentGallery","createGallery",!0)?this.props.TOGGLE_ADD_GALLERY(!0):{},children:[(0,A.jsx)(j.gc,{icon:"plus",iconClass:"me-1"}),null!==(r=null===(u=this.appContent)||void 0===u||null===(h=u.manage_feed)||void 0===h?void 0:h.add_gallery_button)&&void 0!==r?r:""]})}),showGallerySwitcher:!1},null===q||void 0===q?void 0:q.id):null,(0,A.jsxs)("div",{className:"custom-side-menu d-flex ".concat(V?"isShopify":""),children:[(0,A.jsx)(M.A,{getWallData:q}),(0,A.jsx)("div",{className:"custom-main-content",children:(0,A.jsx)("div",{className:"d-flex flex-column flex-column-fluid full-content mt-10 mt-lg-0",children:(0,A.jsxs)(i.A,{fluid:!0,className:V?"":"container-mange-feed",children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between position-relative w-100",children:[(0,A.jsx)("div",{className:"mb-sm-3 mb-lg-5 mb-xl-5 mb-md-4 mb-3",children:(0,A.jsx)("h3",{className:"text-capitalize cont-title fs-5 mb-0",children:null!==(m=null===(p=this.appContent)||void 0===p||null===(v=p.manage_feed)||void 0===v?void 0:v.manage_feed_title)&&void 0!==m?m:""})}),(0,A.jsx)("div",{onClick:()=>H("/content/moderation/".concat(localStorage.getItem("wallId"))),style:{right:"0",top:"10px",zIndex:"8",height:"20px",width:"20px",display:"flex",alignItems:"center",justifyContent:"center"},className:"position-absolute cursor-pointer rounded-2 text-muted",children:(0,A.jsx)(j.gc,{icon:"xmark",iconClass:"cursor-pointer fs-3"})})]}),(0,A.jsx)(a.A,{children:(0,A.jsx)(a.A.Body,{style:{minHeight:"calc(100vh - 200px)"},children:(0,A.jsx)("div",{className:"d-flex flex-column justify-content-between p-3 position-relative",children:R.loading||W?(0,A.jsx)("div",{style:{minHeight:"calc(100vh - 380px)"},children:(0,A.jsx)(_.a,{})}):Y&&Y.length>0?(0,A.jsx)("div",{className:"table-responsive",children:(0,A.jsxs)(d.A,{size:"lg",className:"pb-10",children:[(0,A.jsx)("thead",{className:"thead-light",children:(0,A.jsx)("tr",{children:null===(g=this.appContent)||void 0===g||null===(x=g.manage_feed)||void 0===x||null===(b=x.table_header)||void 0===b?void 0:b.map(((e,t)=>(0,A.jsx)("th",{className:"fw-bold text-nowrap ".concat((null===e||void 0===e?void 0:e.align)||""),style:{minWidth:e.minWidth},children:e.name},t)))})}),(0,A.jsx)("tbody",{children:null!==R&&void 0!==R&&R.feeds&&null!==R&&void 0!==R&&R.feeds.length?null===R||void 0===R?void 0:R.feeds.map((e=>0!=(null===e||void 0===e?void 0:e.id)||0!=(null===e||void 0===e?void 0:e.networkId)?(0,A.jsx)(C,{feed:e,changeStatus:this.changeStatus,onFeedDelete:this.onFeedDelete,accountChanged:B},"tr_".concat(e.id)):null)):null})]})}):(0,A.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 225px)"},children:(0,A.jsx)(F.A,{title:null!==(y=null===(N=this.appContent)||void 0===N||null===(k=N.manage_feed)||void 0===k?void 0:k.empty_gallery_title)&&void 0!==y?y:"",desc:null!==(S=null===(P=this.appContent)||void 0===P||null===(I=P.manage_feed)||void 0===I?void 0:I.empty_gallery_desc)&&void 0!==S?S:"",icon:"media",button:{action:()=>(0,w.Yj)("contentGallery","createGallery",!0)?this.props.TOGGLE_ADD_GALLERY(!0):{},text:null!==(E=null===(T=this.appContent)||void 0===T||null===(L=T.manage_feed)||void 0===L?void 0:L.empty_gallery_button)&&void 0!==E?E:""},isFullScreen:!1})})})})})]})})})]})]})}}const O=(0,s.Ng)((e=>{var t,n,l;return{manageFeeds:e.manageFeeds,wallsLoader:null===e||void 0===e||null===(t=e.dashboardData)||void 0===t?void 0:t.wallsLoader,allWalls:null===e||void 0===e||null===(n=e.dashboardData)||void 0===n||null===(l=n.dashboarddata)||void 0===l?void 0:l.allWalls}}),(e=>({GET_FEEDS:()=>e((0,c.LF)()),ACTION_DELETE_FEED:(t,n,l)=>e((0,c.sP)(t,n,l)),ACTION_FEED_STATUS:(t,n,l,s)=>e((0,c.X)(t,n,l,s)),getModeration:()=>e((0,P.zI)()),TOGGLE_ADD_GALLERY:t=>e({type:E.GSH,payload:t}),SNAPUP_DETAILS_ACTION:t=>e((0,T.QR)(t))})))((0,I.A)(L))},65284:(e,t,n)=>{n.d(t,{A:()=>w});var l=n(89379),s=n(9950),o=n(75794),i=n(76955),a=n(2772),d=n(67446),c=n(45175),r=n(70188),u=n(90900),h=(n(92043),n(58660),n(85608)),m=n(44414);const p=h.bG,v=h.I2,g=h.jZ,x=h.mD,f=h.ac;class j extends s.Component{constructor(e){super(e),this.onClickToOpen=()=>{this.setState({modalOpen:!0});const e=document.querySelector(".uppy-Dashboard-close");e&&e.addEventListener("click",(()=>{this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1})}))},this.onClickToClose=()=>{this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1,renderKey:Math.floor(6*Math.random())+1})};const{uploadPath:t,allowedFile:n,width:s,maxFileSize:i,beforeUpload:d,proceed:c}=e,r=c||!1,u=n||["image/*"],h=s||500,m=i||5e6,f=d||(()=>{}),j=1==u.length&&u.includes("image/*")?{resize:{robot:"/image/resize",width:h,resize_strategy:"fit",background:"none"}}:{};this.state={filename:null,modalOpen:!1,render:0},this.uppyPostEdit=new o.A({debug:!0,autoProceed:r,allowMultipleUploadBatches:!1,restrictions:{maxFileSize:m,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:u},onBeforeUpload:f}).use(a.Ay,{target:"#a",params:{auth:{key:p},steps:(0,l.A)((0,l.A)({},j),{},{store:{robot:"/wasabi/store",bucket_region:"us-west-1",bucket:v,key:g,secret:x,path:"".concat(t)+"${file.id}.${file.ext}"}})},waitForEncoding:!0})}componentDidMount(){const{uploadAgents:e,uploadPath:t,onImgUpload:n,uploadMethods:s}=this.props;e&&e.length>0&&e.forEach((e=>{let t=c.A;"GoogleDrive"==e?t=d.A:"Url"==e?t=r.A:"Webcam"==e&&(t=u.A),this.uppyPostEdit.use(t,{target:o.A.Dashboard,companionUrl:f})})),(null===s||void 0===s?void 0:s.length)>0&&s.forEach((e=>{let{key:t,callback:n}=e;this.uppyPostEdit.on(t,(e=>n(e,this.uppyPostEdit)))})),this.uppyPostEdit.on("transloadit:result",((e,s)=>{const o="".concat(h.GG).concat(t).concat(s.id,".").concat(s.ext);this.setState({filename:o},(()=>{setTimeout((()=>{n(o,(0,l.A)((0,l.A)({},s.meta),{},{fileName:"".concat(s.id,".").concat(s.ext),isVideo:Object(null===s||void 0===s?void 0:s.meta).hasOwnProperty("duration")}),o),this.uppyPostEdit.cancelAll(),this.setState({modalOpen:!1})}),300)}))}))}componentWillUnmount(){this.uppyPostEdit.cancelAll(),this.uppyPostEdit.close({reason:"unmount"}),this.setState({modalOpen:!1,renderKey:Math.floor(6*Math.random())+1})}render(){const{modalOpen:e,renderKey:t}=this.state,{isModal:n=!0,children:l,uploadAgents:o,showFile:a=!1,disInfo:d=!1,height:c=270}=this.props;return(0,m.jsx)(s.Fragment,{children:n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{onClick:this.onClickToOpen,children:l}),(0,m.jsx)(i.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,open:e,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyPostEdit,onRequestCloseModal:this.onClickToClose,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:o})]}):(0,m.jsx)("div",{children:(0,m.jsx)(i.xh,{proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0,showProgressDetails:!0,disableThumbnailGenerator:!1,showRemoveButtonAfterComplete:!1,height:c,uppy:this.uppyPostEdit,plugins:o,showSelectedFiles:a,disableInformer:d},t)})},t)}}const w=j}}]);