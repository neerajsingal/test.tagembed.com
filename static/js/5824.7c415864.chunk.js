"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[5824],{5385:(e,t,n)=>{n.d(t,{A:()=>v});var s=n(9950),l=n(54810),a=n(80322),i=n(28429),o=n(51960),d=n(26661),c=n(26415),r=n(38092),h=n.n(r),u=n(44414);const m=e=>{let{show:t,handleClose:n,navigate:s}=e;const{heading:a,description:i,url:r,isVideo:m,btnText:g}={heading:"Auto Pilot",description:"Want to create impressive widgets without spending hours? Auto-pilot is just the feature you need to sieve all the irrelevant posts within minutes! \u26a1 Ready to explore? Upgrade your plan.",url:(0,l.pc)("media/products/auto-pilot-feature.mp4"),btnText:" Upgrade Now! ",isVideo:!0};return(0,u.jsx)(d.A,{show:t,onHide:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,u.jsx)(c.A,{className:"p-8 socialwall-popup-body",children:(0,u.jsxs)("div",{className:"row align-itmes-center",children:[(0,u.jsx)("h2",{className:"font-weight-boldest w-100 text-center mt-0",children:a}),(0,u.jsx)("p",{className:"mb-5 text-dark text-center",children:i}),(0,u.jsx)("div",{className:"col-lg-12",children:(0,u.jsx)("div",{className:"switch_image ugc-switch-video mb-4 w-100",children:m?(0,u.jsx)(h(),{height:300,id:"bg_image",className:"object-fit-contain",url:r,autoPlay:!0,playing:!0,loop:!0,muted:!0,controls:!1,playsinline:!0}):(0,u.jsx)(o.A,{isPrefix:!0,className:"img-fluid",src:r,alt:""})})}),(0,u.jsx)("div",{className:"col-lg-12",children:(0,u.jsx)("div",{className:"switch_text_inner text-center",children:(0,u.jsx)("button",{onClick:()=>{s("/price")},className:"btn btn-primary btn-lg btn-min-w mt-2",children:g})})})]})})})};var g=n(73878),p=n(85608);const v=e=>{var t,n;let{getWallData:o}=e;const{name:d,id:c}=o||{},r=(0,i.Zp)(),h=window.location.pathname,[v,x]=(0,s.useState)(!1),j=(0,g.d4)((e=>{var t,n,s,l;return null===(t=e.authorized)||void 0===t||null===(n=t.userData)||void 0===n||null===(s=n.user_data)||void 0===s||null===(l=s.UserPlan)||void 0===l?void 0:l.planId}),g.bN),b=p.vm.freePlan.includes(j)||p.vm.freeTrail.includes(j),f=(e,t,n)=>{e.stopPropagation(),((0,a.Yj)("networkManager","manageFeed",!0)||[4,5].includes(n))&&r(t)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"custom-side-menu-inn h-100",children:[(0,u.jsxs)("div",{className:"custom-side-menu-body",children:[(0,u.jsx)("p",{className:"csm-title mb-0 pb-3 pb-sm-2 border-bottom",children:"CONTENT"}),(0,u.jsxs)("ul",{className:"list-unstyled",children:[(0,u.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null===h||void 0===h||!h.includes("addfeed")||null!==h&&void 0!==h&&null!==(t=h.split("/"))&&void 0!==t&&t.includes("29")?"":"active"),onClick:e=>f(e,"/content/addfeed/".concat(c),2),children:[(0,u.jsx)(l.gc,{iconClass:"me-2",icon:"square-plus"}),(0,u.jsx)("span",{children:"Add Feed"})]}),(0,u.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==h&&void 0!==h&&h.includes("managefeed")?"active":""),onClick:e=>f(e,"/content/managefeed/".concat(c),3),children:[(0,u.jsx)(l.gc,{iconClass:"me-2",icon:"rectangle-history-circle-plus"}),(0,u.jsx)("span",{children:"Manage Feeds"})]}),(0,u.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==h&&void 0!==h&&h.includes("autopilot")?"active":""),onClick:e=>b?x(!0):f(e,"/autopilot",4),children:[(0,u.jsx)(l.gc,{iconClass:"me-2",icon:"toggle-on"}),(0,u.jsx)("span",{children:"Auto Pilot"})]}),(0,u.jsxs)("li",{className:"py-3 border-bottom cursor-pointer ".concat(null!==h&&void 0!==h&&null!==(n=h.split("/"))&&void 0!==n&&n.includes("29")?"active":""),onClick:e=>f(e,"/content/addfeed/".concat(c,"/29"),5),children:[(0,u.jsx)(l.gc,{iconClass:"me-2",icon:"messages"}),(0,u.jsx)("span",{children:"Review Hub"})]})]})]}),(0,u.jsx)("div",{className:"custom-side-menu-footer d-flex justify-content-end border-top",children:(0,u.jsx)("div",{className:"f-between w-100 gap-3",children:(0,u.jsx)("button",{type:"button",id:"",className:"w-100 btn btn-primary",onClick:e=>{e.stopPropagation(),r("/publish/".concat(c))},children:"Publish"})})})]}),v?(0,u.jsx)(m,{show:v,handleClose:()=>x(!1),navigate:r}):null]})}},25824:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var s=n(9950),l=n(73878),a=n(97937),i=n(45358),o=n(471),d=n(1093),c=n(64323),r=n(76184),h=n(18633),u=n(4695),m=n.n(u),g=n(9697),p=n(58423),v=n(54810),x=n(1391),j=n(26806),b=n(54480),f=n(91615),w=n(80322),y=n(26787),N=n(52867),A=n(5385),C=n(44414);const P=[{name:"Name",minWidth:150},{name:"Account",minWidth:150},{name:"Posts",minWidth:120},{name:"Moderation",minWidth:50},{name:"Status",minWidth:50},{name:"Actions",minWidth:70,align:"text-end"}];class E extends s.Component{constructor(){super(...arguments),this.state={currentPage:1,showPost:30,totalPage:1,allFeeds:[],currentPageFeeds:null,accountChanged:!1},this.changeTotalPost=e=>{this.setState({showPost:parseInt(e.target.value),currentPage:1},(()=>this.countAllPage()))},this.nextPrev=e=>{this.setState({currentPage:e},(()=>this.countAllPage()))},this.countAllPage=()=>{const{manageFeeds:e}=this.props,t=null===e||void 0===e?void 0:e.feeds;this.setState({allFeeds:t,totalPage:Math.ceil((t&&t.length>0?t.length:0)/this.state.showPost)})},this.changeStatus=(e,t,n)=>{this.props.ACTION_FEED_STATUS(e,t,n,this.onSuccessUpdateRedux)},this.onSuccessUpdateRedux=e=>{this.props.getModeration(),this.countAllPage(),"account"==e&&this.setState({accountChanged:!this.state.accountChanged})},this.onFeedDelete=(e,t)=>{m().fire({icon:"warning",title:"Are you sure?",showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,confirmButtonText:"Yes",confirmButtonAriaLabel:"Yes",cancelButtonText:"No",cancelButtonAriaLabel:"Thumbs down"}).then((n=>{n.value&&this.props.ACTION_DELETE_FEED(e,t,this.onDeleteUpdateRedux(t))}))},this.onDeleteUpdateRedux=e=>{this.props.getModeration(),this.countAllPage()},this.handleMessage=async e=>{try{const t=(0,N.KK)(e.data),{code:n,networkId:s,type:l}=t;"manageFeed"==l&&n&&await(0,g.CJ)(parseInt(s),n,this.props.GET_FEEDS)}catch(t){console.log("--- handleMessage error ---",t)}},this.getPagination=()=>{const{currentPage:e,totalPage:t}=this.state,n=[];if(t<=5)for(let s=1;s<=t;s++)n.push(s);else e<=3?n.push(1,2,3,4,"...",t):e>t-3?n.push(1,"...",t-3,t-2,t-1,t):n.push(1,"...",e-1,e,e+1,"...",t);return n}}componentDidMount(){window.addEventListener("message",this.handleMessage),this.props.GET_FEEDS(),this.countAllPage()}componentDidUpdate(e,t){var n,s,l,a,i;if(null!==(n=this.props.manageFeeds)&&void 0!==n&&n.loading||this.props.wallsLoader||null!==(s=this.props.manageFeeds)&&void 0!==s&&null!==(l=s.feeds)&&void 0!==l&&l.length){if(1==(null===(a=this.props.manageFeeds)||void 0===a||null===(i=a.feeds)||void 0===i?void 0:i.length)){var o;const{id:e,networkId:t}=null===(o=this.props.manageFeeds)||void 0===o?void 0:o.feeds[0];if(0==e&&0==t){const e=localStorage.getItem("wallId");e&&this.props.navigate("/content/addfeed/".concat(e))}}}else{const e=localStorage.getItem("wallId");e&&this.props.navigate("/content/addfeed/".concat(e))}}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}render(){var e,t,n;const{currentPage:s,showPost:l,totalPage:c,allFeeds:u,accountChanged:m}=this.state,{manageFeeds:g,wallsLoader:p,allWalls:x,navigate:b}=this.props,f=(this.getPagination(),(s-1)*l),E=(u>0&&u.slice(f,f+l),null!==(e=null===x||void 0===x?void 0:x.find((e=>e.id==localStorage.getItem("wallId"))))&&void 0!==e?e:{}),F=(0,N.C2)();return(0,C.jsxs)(C.Fragment,{children:[null!==x&&void 0!==x&&x.length?(0,C.jsx)(y.A,{crumbs:[{name:null!==(t=null===E||void 0===E?void 0:E.name)&&void 0!==t?t:"",icon:"grid-2-plus",imgUrl:null!==(n=null===E||void 0===E?void 0:E.thumbnail)&&void 0!==n?n:""},{name:"Home",link:"/home"},{name:"Content Gallery",link:"/content"},{name:null===E||void 0===E?void 0:E.name,link:"/content/moderation/".concat(null===E||void 0===E?void 0:E.id)},{name:"Manage feeds",link:"/content/managefeed/".concat((null===E||void 0===E?void 0:E.id)||localStorage.getItem("wallId")||"")}],RightComponent:(0,C.jsx)("div",{children:g.loading||p?null:x&&x.length>0?(0,C.jsxs)("button",{onClick:()=>(0,w.Yj)("networkManager","manageFeed",!0)?b("/content/addfeed/".concat(localStorage.getItem("wallId"))):{},className:"btn btn-primary btn-md text-nowrap btn-min-w text-capitalize",children:[(0,C.jsx)(v.gc,{icon:"plus",iconClass:"me-1"}),"Add feed"]}):(0,C.jsxs)(a.A,{size:"sm",className:"text-nowrap btn-min-w",onClick:()=>(0,w.Yj)("contentGallery","createGallery",!0)?this.props.TOGGLE_ADD_GALLERY(!0):{},children:[(0,C.jsx)(v.gc,{icon:"plus",iconClass:"me-1"}),"Add Gallery"]})}),showGallerySwitcher:!1},null===E||void 0===E?void 0:E.id):null,(0,C.jsxs)("div",{className:"custom-side-menu d-flex ".concat(F?"isShopify":""),children:[(0,C.jsx)(A.A,{getWallData:E}),(0,C.jsx)("div",{className:"custom-main-content",children:(0,C.jsx)("div",{className:"d-flex flex-column flex-column-fluid full-content mt-10 mt-lg-0",children:(0,C.jsxs)(i.A,{fluid:!0,className:F?"":"container-mange-feed",children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between position-relative w-100",children:[(0,C.jsx)("div",{className:"mb-sm-3 mb-lg-5 mb-xl-5 mb-md-4 mb-3",children:(0,C.jsx)("h3",{className:"text-capitalize cont-title fs-5 mb-0",children:"Manage Feeds"})}),(0,C.jsx)("div",{onClick:()=>b("/content/moderation/".concat(localStorage.getItem("wallId"))),style:{right:"0",top:"10px",zIndex:"8",height:"20px",width:"20px",display:"flex",alignItems:"center",justifyContent:"center"},className:"position-absolute cursor-pointer rounded-2 text-muted",children:(0,C.jsx)(v.gc,{icon:"xmark",iconClass:"cursor-pointer fs-3"})})]}),(0,C.jsx)(o.A,{children:(0,C.jsx)(o.A.Body,{style:{minHeight:"calc(100vh - 200px)"},children:(0,C.jsx)("div",{className:"d-flex flex-column justify-content-between p-3 position-relative",children:g.loading||p?(0,C.jsx)("div",{style:{minHeight:"calc(100vh - 380px)"},children:(0,C.jsx)(h.a,{})}):x&&x.length>0?(0,C.jsx)("div",{className:"table-responsive",children:(0,C.jsxs)(d.A,{size:"lg",className:"pb-10",children:[(0,C.jsx)("thead",{className:"thead-light",children:(0,C.jsx)("tr",{children:P.map(((e,t)=>(0,C.jsx)("th",{className:"fw-bold text-nowrap ".concat((null===e||void 0===e?void 0:e.align)||""),style:{minWidth:e.minWidth},children:e.name},t)))})}),(0,C.jsx)("tbody",{children:null!==g&&void 0!==g&&g.feeds&&null!==g&&void 0!==g&&g.feeds.length?null===g||void 0===g?void 0:g.feeds.map((e=>0!=(null===e||void 0===e?void 0:e.id)||0!=(null===e||void 0===e?void 0:e.networkId)?(0,C.jsx)(r.A,{feed:e,changeStatus:this.changeStatus,onFeedDelete:this.onFeedDelete,accountChanged:m},"tr_".concat(e.id)):null)):null})]})}):(0,C.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 225px)"},children:(0,C.jsx)(j.A,{title:"Create a Gallery, to add feed! \u231b",desc:"Oops! Looks like you have deleted your gallery, create one by simply clicking on the button below.",icon:"media",button:{action:()=>(0,w.Yj)("contentGallery","createGallery",!0)?this.props.TOGGLE_ADD_GALLERY(!0):{},text:"Create Gallery"},isFullScreen:!1})})})})})]})})})]})]})}}const F=(0,l.Ng)((e=>{var t,n,s;return{manageFeeds:e.manageFeeds,wallsLoader:null===e||void 0===e||null===(t=e.dashboardData)||void 0===t?void 0:t.wallsLoader,allWalls:null===e||void 0===e||null===(n=e.dashboardData)||void 0===n||null===(s=n.dashboarddata)||void 0===s?void 0:s.allWalls}}),(e=>({GET_FEEDS:()=>e((0,c.LF)()),ACTION_DELETE_FEED:(t,n,s)=>e((0,c.sP)(t,n,s)),ACTION_FEED_STATUS:(t,n,s,l)=>e((0,c.X)(t,n,s,l)),getModeration:()=>e((0,p.zI)()),TOGGLE_ADD_GALLERY:t=>e({type:b.GSH,payload:t}),SNAPUP_DETAILS_ACTION:t=>e((0,f.QR)(t))})))((0,x.A)(E))}}]);