"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[3759],{53759:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Ps});var l=t(89379),i=t(59051),n=t.n(i),o=t(9950),a=t(80409),r=t(45358),d=t(19360),c=t(54810),h=(t(52010),t(32796)),m=t(73878),v=t(86781),p=t(68459),u=t(351),x=t(5830),j=t(95942),g=t(52867),w=t(44414);class b extends o.Component{render(){var e,s,t;const{counts:l,loader:i}=this.props,n=(null===(e=window)||void 0===e||null===(s=e.APP_CONTENT)||void 0===s||null===(t=s.Analytics)||void 0===t?void 0:t.overview_content)||[],o=["blue","orange","yellow","green"];return null===l||void 0===l?void 0:l.map((e,s)=>{const{name:t,tooltip:l}=(null===n||void 0===n?void 0:n.find(s=>{var t,l;return null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.includes(null!==(l=null===s||void 0===s?void 0:s.type)&&void 0!==l?l:"")}))||{};if(!String(e.name).includes("Recommendation"))return(0,w.jsx)(p.A,{lg:3,sm:6,className:"col-6",children:(0,w.jsx)(u.A,{className:"".concat(o[s]),children:(0,w.jsx)(u.A.Body,{children:(0,w.jsxs)("div",{className:"d-flex flex-column",children:[(0,w.jsxs)("div",{className:"d-flex",children:[(0,w.jsx)("p",{className:"fs-8 fw-medium text-muted mb-2 me-2",children:t||""}),(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:l||""}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsxs)("span",{className:"h1 mb-0",children:[e.currency?e.currency:"",i?0:(0,g.sl)(e.count)]})]})})})},s)})}}const f=(0,m.Ng)(e=>{var s,t;return{counts:null===(s=e.analyticsOverView)||void 0===s?void 0:s.counts,loader:null===(t=e.analyticsOverView)||void 0===t?void 0:t.counts_loader}})(b);var y=t(39452);const N=e=>{var s,t;return{series:e,options:{colors:["#546FED","#EF45B1","#F8B861"],chart:{id:"analyticsOverview",type:"line",animations:{enabled:!0,easing:"linear",dynamicAnimation:{speed:1e3}},height:350,zoom:{enabled:!1},toolbar:{show:!1},events:{mounted:()=>{let s=document.getElementsByClassName("apexcharts-legend apexcharts-align-center apx-legend-position-bottom");s&&s[0].children.length>0&&(null===e||void 0===e||e.forEach(e=>{"Total Visitors"==e.name&&e.count>0?(s[0].children[0].click(),s[0].children[2].click()):(s[0].children[1].click(),s[0].children[2].click())}))}}},legend:{show:!0,position:"bottom",itemMargin:{horizontal:10,vertical:10},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},dataLabels:{enabled:!1},markers:{size:0,style:"hollow"},stroke:{width:[4,4,4],curve:"straight",lineCap:"square"},xaxis:{type:"datetime",tickAmount:6,min:null===e||void 0===e||null===(s=e[0].data)||void 0===s||null===(t=s[0])||void 0===t?void 0:t[0],labels:{rotate:-45,formatter:e=>n()(e).subtract(1,"days").format("DD MMM")},tooltip:{shared:!0,intersect:!0,formatter:function(e){return n()(e).subtract(1,"days").format("D-MM-YYYY")}}},yaxis:{labels:{formatter:function(e){return e}}},grid:{show:!0,borderColor:"#E8E8E8",strokeDashArray:0,position:"back",xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}}},responsive:[{options:{chart:{height:300}},options:{chart:{height:280}}}]}};class A extends o.Component{constructor(e){super(e),this.updateGraph=(0,g.sg)(e=>{const s=N(e);this.setState((0,l.A)({},s))},800),this.chartRef=o.createRef(),this.state=N(e.record_overview)}componentDidUpdate(e){e.record_overview!==this.props.record_overview&&this.updateGraph(this.props.record_overview)}render(){return(0,w.jsx)(y.A,{ref:this.chartRef,options:this.state.options,series:this.state.series,type:"line",height:350})}}const C=A;var k=t(42263);const _=e=>{const[s,t,l]=e.split("/"),i="".concat(t,"/").concat(s,"/").concat(l),n=new Date(i).getTime();return Math.floor(n)},D=(e,s)=>{if((null===e||void 0===e?void 0:e.length)>0&&(null===s||void 0===s?void 0:s.length)>0){let t=[];for(let l=0;l<e.length;l++)t.push([_(s[l]),e[l]]);return t}return[]},P=e=>{const s=[];return(null===e||void 0===e?void 0:e.length)>0&&e.map(e=>{s.push({name:e.name,type:"line",data:D(e.data,e.labels),count:e.count})}),s};class S extends o.PureComponent{constructor(){super(...arguments),this.state={overview:null}}componentWillMount(){const{loader:e,overview:s}=this.props;!e&&s&&this.setState({overview:s})}componentWillReceiveProps(e){this.props.loader!=e.loader&&e.overview&&this.setState({overview:e.overview})}render(){var e,s,t,l,i;const{overview:n}=this.state,o=null!==(e=null===(s=window)||void 0===s||null===(t=s.APP_CONTENT)||void 0===t||null===(l=t.Analytics)||void 0===l?void 0:l.headings)&&void 0!==e?e:{};return(0,w.jsxs)("div",{className:"card card-custom card-stretch h-100 border-0 custom-overview",children:[(0,w.jsx)("div",{className:"card-header min-h-auto py-3",children:(0,w.jsx)("h3",{className:"h5 mb-0",children:null!==(i=null===o||void 0===o?void 0:o.overview)&&void 0!==i?i:"Overview"})}),(0,w.jsx)("div",{className:"card-body",children:n&&n.length>0?(0,w.jsx)(C,{record_overview:P(n)}):(0,w.jsx)(k.bp,{})})]})}}const O=(0,m.Ng)(e=>{var s;return{overview:e.analyticsOverView.overview,loader:null===(s=e.analyticsOverView)||void 0===s?void 0:s.overview_loader}})(o.memo(S));var L=t(38088),M=t(22385),T=t(68829);var I=t(98361),W=t(41397),Y=t.n(W);class F extends o.Component{constructor(){super(...arguments),this.state={series:[1,1],options:{dataLabels:{enabled:!1},legend:{show:!1,fontSize:"14px",position:"bottom",itemMargin:{horizontal:10}},colors:this.props.colors,chart:{type:"donut"},stroke:{colors:["var(--bs-gray-100)"]},plotOptions:{pie:{donut:{stroke:0,legend:{show:!1},labels:{show:!0,total:{label:"Loading...",showAlways:!0,show:!0},value:{show:!1},style:{colors:["var(--bs-gray-800)"]}}}}},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:2e3},dynamicAnimation:{enabled:!0,speed:350}}},tooltip:{enabled:!1},labels:[]}},this.setSeries=e=>{const{hideLegend:s}=this.props,t=e[0].data;this.setState(i=>({series:t||[1],options:(0,l.A)((0,l.A)({},i.options),{},{labels:e[0].labels,colors:t?this.props.colors:["var(--bs-gray-200)"],plotOptions:{pie:{donut:{labels:{show:!0,total:{label:t?"Total":"Loading..."},value:{show:!!t}}}}},tooltip:{enabled:!!t},legend:{show:!(!t||s)}})}))}}componentDidMount(){const{chartData:e,convert:s}=this.props;e&&Object.keys(e).length>0&&this.setSeries(e)}componentDidUpdate(e){const{chartData:s,convert:t}=this.props;!Y().isEqual(e.chartData,s)&&s&&Object.keys(s).length>0&&this.setSeries(s)}render(){const{height:e}=this.props,{options:s,series:t}=this.state;return(0,w.jsx)("div",{className:"channerlChart donut-chart",children:(0,w.jsx)(y.A,{options:s,series:t,type:"donut",height:e||350})})}}const V=F,B=e=>{let{postNetwork:s,loader:t,loaderData:l}=e;return(0,w.jsxs)(a.A.Pane,{eventKey:"postNetwork",className:"p-4",children:[(0,w.jsx)(V,{chartData:t&&l?[l[1]]:s&&s[1]?[s[1]]:[{name:"Post Network",labels:[],data:[0]}],colors:s?s[1].colors:null,labelList:s?s[1].labels:null,hideLegend:!0,height:300}),t?null:(0,w.jsx)("div",{className:"w-100 mt-4",children:(0,w.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100 flex-wrap",children:s&&s[1]&&s[1].labels&&s[1].labels.length>0?s[1].labels.map((e,t)=>(0,w.jsxs)("div",{className:"d-flex flex-column text-center mx-2 mb-2",children:[(0,w.jsx)("p",{className:"mb-2 fs-8 fw-medium text-muted",children:e}),(0,w.jsx)("h3",{className:"text-center h2",children:s[1].data[t]}),(0,w.jsx)("div",{className:"h-2px w-100",style:{backgroundColor:(0,g.Yo)(s[1].networkId)}})]},Math.random()*(33+t))):null})})]})},z=e=>{let{postNetwork:s,loader:t,loaderData:l}=e;return(0,w.jsxs)(a.A.Pane,{eventKey:"postType",className:"p-4",children:[(0,w.jsx)(V,{chartData:t?l:s||null,colors:["#FC5362","#FEC737","#5096FF"],hideLegend:!0,height:300}),t?null:(0,w.jsx)("div",{className:"w-100 mt-4",children:(0,w.jsx)("div",{className:"f-between w-100",children:s&&s[0]&&s[0].labels.length>0?s[0].labels.map((e,t)=>(0,w.jsxs)("div",{className:"d-flex flex-column text-center m-auto",children:[(0,w.jsx)("p",{className:"mb-2 fs-8 fw-medium text-muted",children:e}),(0,w.jsx)("h3",{className:"text-center h2",children:s[0].data[t]}),(0,w.jsx)("div",{className:"post_score_border"})]},Math.random()*(6+t))):null})})]})};class E extends o.Component{render(){var e,s,t,l,i,n;const{loader:o,postNetwork:r,loaderData:d}=this.props,c=null!==(e=null===(s=window)||void 0===s||null===(t=s.APP_CONTENT)||void 0===t||null===(l=t.Analytics)||void 0===l?void 0:l.headings)&&void 0!==e?e:{};return(0,w.jsx)(a.A.Container,{defaultActiveKey:"postType",children:(0,w.jsx)(u.A,{className:"card-stretch gutter-b p-0 card-post-chart",children:(0,w.jsxs)(u.A.Body,{className:"p-0",children:[(0,w.jsxs)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:[(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"postType",className:"fs-8 py-2 py-sm-3",children:null!==(i=null===c||void 0===c?void 0:c.post_type)&&void 0!==i?i:"Post type"})}),(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"postNetwork",className:"fs-8 py-2 py-sm-3",children:null!==(n=null===c||void 0===c?void 0:c.post_network)&&void 0!==n?n:"Post network"})})]}),(0,w.jsxs)(a.A.Content,{children:[(0,w.jsx)(z,{postNetwork:r,loader:o,loaderData:d}),(0,w.jsx)(B,{postNetwork:r,loader:o,loaderData:d})]})]})})})}}const K=E;var U=t(44326),H=t(70718),R=t(94118);class G extends o.Component{constructor(){super(...arguments),this.state={word:this.props.word_cloud},this.updateWord=()=>{const{wordCloud:e,id:s}=this.props;U.DPo(R.A);let t=U.vtF(s,H.W7),l=t.series.push(new H.$C);l.accuracy=4,l.step=15,l.rotationThreshold=.7,l.maxCount=200,l.minWordLength=2,l.fontFamily="inter, sans-serif",l.maxFontSize=U.KNB(30),t.logo.disabled=!0,l.colors=new U.eUi,l.colors.passOptions={},l.angles=[0,-90],l.fontWeight="600",l.dataFields.word="tag",l.dataFields.value="count",l.labels.template.propertyFields.fill="color",l.labels.template.tooltipText="{word}:\n[bold]{value}[/]",l.randomness=0,l.data=e}}componentDidMount(){const{wordCloud:e}=this.props;(null===e||void 0===e?void 0:e.length)>0&&this.setState({word:e},()=>setTimeout(()=>this.updateWord(),100))}componentDidUpdate(e,s){if(this.props.wordCloud!==e.wordCloud){const{wordCloud:e}=this.props;this.setState({word:e},()=>setTimeout(()=>this.updateWord(),100))}}render(){var e,s,t,l,i,n,o,a;const{loader:r,wordCloud:d,id:c}=this.props,h=null!==(e=null===(s=window)||void 0===s||null===(t=s.APP_CONTENT)||void 0===t||null===(l=t.Analytics)||void 0===l?void 0:l.headings)&&void 0!==e?e:{};return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b p-0 card-word-cloud",children:[(0,w.jsx)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:(0,w.jsx)("span",{className:"fs-8 fw-semibold mb-0",children:null!==(i=null===h||void 0===h?void 0:h.word_cloud)&&void 0!==i?i:"Word cloud"})}),(0,w.jsx)(u.A.Body,{style:{height:300},children:r?(0,w.jsx)("span",{className:"h-100 f-center text-gray-300 fs-5",children:null!==(n=null===h||void 0===h?void 0:h.loading)&&void 0!==n?n:""}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"word_cloud f-between justify-content-center h-100",children:d&&d.length>0?(0,w.jsx)("div",{id:c,style:{width:"100%",height:"300px",display:d&&d.length>0?"block":"none"}}):!d||0!=d.length&&null!=d?null:(0,w.jsx)(T.A,{title:null!==(o=null===h||void 0===h?void 0:h.no_data_found)&&void 0!==o?o:"",desc:"",methodTitle:null!==(a=null===h||void 0===h?void 0:h.no_data_btn)&&void 0!==a?a:"",method:""})})})})]})}}const Z=G,q=()=>{var e,s,t;const{top_language:l,top_language_loader:i,flags:n}=(0,m.d4)(e=>e.analyticsOverView),[a,r]=(0,o.useState)([]),d=(0,o.useMemo)(()=>{var e,s,t,l;return null!==(e=null===(s=window)||void 0===s||null===(t=s.APP_CONTENT)||void 0===t||null===(l=t.Analytics)||void 0===l?void 0:l.headings)&&void 0!==e?e:{}},[]),h=(e,s)=>{var t;let l=String(e).toLowerCase();const i=s.find(e=>{var s,t;return(null===(s=String(null===e||void 0===e?void 0:e.value))||void 0===s?void 0:s.toLowerCase())==l||(null===(t=String(null===e||void 0===e?void 0:e.value))||void 0===t?void 0:t.toLowerCase().includes(l))});return"Aragonese"==e||"Asturian"==e?"es":"Breton"==e||"French"==e||"Interlingua"==e||"Occitan"==e?"fr":"Central Kurdish"==e?"iq":"Faroese"==e?"de":"Norwegian Bokm"==e||"Norwegian Nynorsk"==e?"no":"Romansh"==e?"ch":"Serbo"==e?"rs":"Southern Sotho"==e?"za":"Tagalog"==e?"ph":"Tongan"==e?"nz":"Walloon"==e?"be":"Western Frisian"==e?"de":i?null===(t=String(null===i||void 0===i?void 0:i.code))||void 0===t?void 0:t.toLowerCase():""};return(0,o.useEffect)(()=>{let e=0,s=0;for(let o=0;o<l.length;o++){var t,i;const n=l[o];e+=null!==(t=null===n||void 0===n?void 0:n.count)&&void 0!==t?t:0,o>7&&(s+=null!==(i=null===n||void 0===n?void 0:n.count)&&void 0!==i?i:0)}const n=[...null===l||void 0===l?void 0:l.slice(0,7),{language:"Other",count:s}];r(n)},[l]),(0,w.jsxs)(u.A,{className:"card-stretch gutter-b p-0 card-top-lang",children:[(0,w.jsxs)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:[(0,w.jsx)("h3",{className:"fs-8 fw-semibold mb-0",children:null!==(e=null===d||void 0===d?void 0:d.top_language)&&void 0!==e?e:"Top Language"}),(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:null!==(s=null===d||void 0===d?void 0:d.post_overview_info)&&void 0!==s?s:"Multiply your social UGC by collaborating with your top listed Creators"}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsx)(u.A.Body,{style:{height:"300px"},children:(0,w.jsx)("div",{className:"h-100 px-5 overflow-y-auto",children:i?(0,w.jsx)(k.ap,{}):l.length?null===a||void 0===a?void 0:a.map((e,s)=>(0,w.jsx)("div",{className:"px-5 py-2 my-3 border rounded",children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center me-10",children:[(0,w.jsx)("div",{className:"rounded me-3 d-flex",children:(0,w.jsx)("div",{className:"iti-flag ".concat(h(e.language,n||[]))})}),(0,w.jsx)("div",{className:"",children:(0,w.jsx)("p",{className:"text-dark mb-0 font-weight-boldest overflow-hidden text-nowrap text-ellipsis author_name text-capitalize",children:e.language})})]}),(0,w.jsx)("p",{className:"text-dark count-tag bg-transparent font-weight-boldest m-0",children:e.count})]})},s)):(0,w.jsx)(T.A,{title:null!==(t=null===d||void 0===d?void 0:d.no_data_found)&&void 0!==t?t:"No data found",desc:"",methodTitle:"",method:""})})})]})},X=()=>{var e,s;const{post_overview:t,post_overview_loader:l}=(0,m.d4)(e=>e.analyticsOverView),i=(0,o.useMemo)(()=>{var e,s,t;return null!==(e=null===(s=window)||void 0===s||null===(t=s.APP_CONTENT)||void 0===t?void 0:t.Analytics)&&void 0!==e?e:{}},[]),{headings:n,overview_content:a}=i;return(0,w.jsxs)(u.A,{className:"card-stretch",children:[(0,w.jsxs)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:[(0,w.jsx)("h3",{className:"h5 mb-0",children:null!==(e=null===n||void 0===n?void 0:n.post_overview)&&void 0!==e?e:"Post Overview"}),(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:null!==(s=null===n||void 0===n?void 0:n.post_overview_info)&&void 0!==s?s:"Multiply your social UGC by collaborating with your top listed Creators"}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsx)(u.A.Body,{className:"px-4 py-1 overflow-auto",style:{height:300},children:l?(0,w.jsx)(k.ne,{}):t.map((e,s)=>{var t;const{name:l,description:i,type:n}=(null===a||void 0===a?void 0:a.find(s=>{var t;const l=null!==(t=e.name)&&void 0!==t&&t.includes("Visitors")?"Widget Views":e.name;return s.type==l}))||{};return(0,w.jsx)("div",{className:"px-5 py-5 border rounded my-3",children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,w.jsxs)("div",{className:"d-flex align-items-start me-4",children:[(0,w.jsx)("div",{className:"post-icon me-3 d-flex align-items-center justify-content-center border",children:"Widget Views"==n?(0,w.jsx)("svg",{width:"20",height:"17",viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("path",{d:"M9.67874 0.825439C14.4937 0.825439 18.4995 4.28993 19.3394 8.86211C18.4995 13.4343 14.4937 16.8988 9.67874 16.8988C4.86372 16.8988 0.857908 13.4343 0.0180664 8.86211C0.857908 4.28993 4.86372 0.825439 9.67874 0.825439ZM9.67874 15.1129C13.461 15.1129 16.6974 12.4804 17.5166 8.86211C16.6974 5.24385 13.461 2.61137 9.67874 2.61137C5.89641 2.61137 2.65997 5.24385 1.84073 8.86211C2.65997 12.4804 5.89641 15.1129 9.67874 15.1129ZM9.67874 12.8805C7.45944 12.8805 5.66037 11.0814 5.66037 8.86211C5.66037 6.64285 7.45944 4.84378 9.67874 4.84378C11.8979 4.84378 13.6971 6.64285 13.6971 8.86211C13.6971 11.0814 11.8979 12.8805 9.67874 12.8805ZM9.67874 11.0945C10.9117 11.0945 11.9111 10.095 11.9111 8.86211C11.9111 7.6292 10.9117 6.6297 9.67874 6.6297C8.44582 6.6297 7.44629 7.6292 7.44629 8.86211C7.44629 10.095 8.44582 11.0945 9.67874 11.0945Z",fill:"#637079"})}):"Show More Clicks"==n?(0,w.jsx)("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("path",{d:"M14.4471 12.8432L16.7268 19.1066L12.5312 20.6337L10.2516 14.3702L6.77002 16.5538L8.21533 2.24878L18.5175 12.278L14.4471 12.8432ZM14.4377 18.0392L12.0133 11.3781L14.6559 11.0112L9.62033 6.10899L8.91388 13.1011L11.1742 11.6835L13.5986 18.3446L14.4377 18.0392Z",fill:"#637079"})}):"CTA Click"==n?(0,w.jsx)("svg",{width:"23",height:"22",viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("path",{d:"M2.74805 4.00625C2.74805 3.51308 3.14784 3.11328 3.64101 3.11328H19.7144C20.2075 3.11328 20.6073 3.51308 20.6073 4.00625V18.2937C20.6073 18.7869 20.2075 19.1866 19.7144 19.1866H3.64101C3.14784 19.1866 2.74805 18.7869 2.74805 18.2937V4.00625ZM4.53397 12.9359H18.8214V4.89921H4.53397V12.9359ZM4.53397 14.7218V17.4007H8.10583V14.7218H4.53397ZM9.89176 14.7218V17.4007H13.4636V14.7218H9.89176ZM15.2495 14.7218V17.4007H18.8214V14.7218H15.2495Z",fill:"#637079"})}):"Post Clicks"==n?(0,w.jsx)("svg",{width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,w.jsx)("path",{d:"M15.8772 8.92725L7.78731 17.0171L6.45801 15.6878L14.5479 7.59794H7.41754V5.71802H17.7571V16.0576H15.8772V8.92725Z",fill:"#637079"})}):null}),(0,w.jsxs)("div",{className:"",children:[(0,w.jsx)("p",{className:"text-dark mb-0 font-weight-boldest overflow-hidden text-nowrap text-ellipsis author_name",children:l||""}),(0,w.jsx)("p",{className:"mb-0",style:{color:"#959595"},children:i||""})]})]}),(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsx)("p",{className:"font-weight-boldest text-dark display-6 m-0",children:(0,g.sl)(null!==(t=null===e||void 0===e?void 0:e.count)&&void 0!==t?t:0)})})]})},s)})})]})};var Q=t(28429),J=t(6863),$=t(66345),ee=t(26806);const se=e=>{var s,t,l,i,n;let{proUser:a,status:r=!1}=e;const{recommendation:d,recommendationLoader:c}=(0,m.d4)(e=>e.analyticsOverView),h=(0,Q.Zp)(),v=(0,o.useMemo)(()=>{var e,s,t;return null!==(e=null===(s=window.APP_CONTENT)||void 0===s||null===(t=s.Analytics)||void 0===t?void 0:t.recommendation)&&void 0!==e?e:{}},[]);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(u.A,{className:"sw-card-custom h-100 position-relative",style:{display:r&&0==a?"none":"block"},children:[(0,w.jsx)("div",{className:"card-header min-h-auto py-3",children:(0,w.jsx)("div",{className:"card-title mb-0 d-flex h-100 w-100",children:(0,w.jsxs)("h5",{className:"card-label mb-0 font-weight-bolder d-flex align-items-center justify-content-between w-100",children:[(0,w.jsx)("h3",{className:"h5 mb-0",children:null!==(s=null===v||void 0===v?void 0:v.heading)&&void 0!==s?s:"AI Recommendation"}),(0,w.jsxs)("span",{style:{verticalAlign:"middle",fontStyle:"italic",fontSize:"11px",color:"#999",fontWeight:"400"},children:[null!==(t=null===v||void 0===v?void 0:v.powered_by)&&void 0!==t?t:"Powered By",(0,w.jsx)("img",{className:"ms-1",src:"".concat($.P_W,"media/icons/svg-icons/true-sense.svg"),alt:"TruSense",height:16,width:16}),(0,w.jsx)("span",{className:"ms-1",style:{verticalAlign:"middle",fontSize:"13px",fontStyle:"normal",color:"var(--bs-gray-900)"},children:"TruSense"})]})]})})}),(0,w.jsx)(J.A,{className:"px-2 py-2",style:0==a?{height:"80%"}:{},children:0==a?(0,w.jsx)("div",{className:"d-flex flex-column align-items-center h-100 justify-content-center dsb-empty",children:(0,w.jsx)(ee.A,{title:null!==(l=null===v||void 0===v?void 0:v.no_data_title)&&void 0!==l?l:"",desc:null!==(i=null===v||void 0===v?void 0:v.no_data_desc)&&void 0!==i?i:"",icon:"",button:{action:()=>h("/price"),text:null!==(n=null===v||void 0===v?void 0:v.upgrade)&&void 0!==n?n:""},isFullScreen:!1})}):c?(0,w.jsx)(k.BE,{}):null===d||void 0===d?void 0:d.map((e,s)=>{var t,l;const{name:i,details:n}=null!==(t=null===v||void 0===v?void 0:v.recommendation_data[s])&&void 0!==t?t:{};return(0,w.jsx)("div",{className:"card-body px-2 py-2",children:(0,w.jsx)("div",{className:"px-5 py-5 border rounded  sw-hover",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1",children:[(0,w.jsx)("div",{className:"border rounded p-2 me-4",children:(0,w.jsx)("span",{className:"bulits ".concat(0==s?"bg-success":1==s?"bg-warning":"bg-danger","  d-block rounded-circle"),style:{width:"12px",height:"12px"}})}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("p",{className:"text-dark mb-0 fw-bold text-truncate author_name h6",children:[" ",null!==i&&void 0!==i?i:""]}),(0,w.jsx)("p",{className:"text-dark mb-0",children:null!==n&&void 0!==n?n:""})]})]}),(0,w.jsx)("p",{className:"fw-bold text-dark h4 mb-0",children:null!==(l=null===e||void 0===e?void 0:e.count)&&void 0!==l?l:0})]})})},s)})})]})})},te=o.memo(se);var le=t(98833),ie=t(51960),ne=t(70804),oe=t(36431),ae=t(92329);const re=e=>{let{posts:s}=e;return(0,w.jsx)(u.A,{className:"card-stretch gutter-b p-0 shadow-none border-0 card-sentiment",children:(0,w.jsx)(u.A.Body,{className:"p-0 overflow-auto",style:{height:356},children:s&&(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map((e,s)=>(0,w.jsxs)("div",{className:"d-flex align-items-center px-5 px-xxl-5 py-3 cursor-pointer flex-shrink-0 border-bottom",children:[(0,w.jsx)(oe.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-3 overflow-hidden",imageSize:40,symbolClass:"symbol-label",name:null===e||void 0===e?void 0:e.username,profileUrl:e.picture.replace(/\s/g,""),networkId:""}),(0,w.jsx)(ie.A,{height:22,width:22,className:"me-3",src:(0,c.pc)("media/icons/social-icons/".concat(null!==e&&void 0!==e&&e.icon&&null!==e&&void 0!==e&&e.icon.includes("fa-")?null===e||void 0===e?void 0:e.icon.replace("fa-",""):"",".svg")),alt:"",fluid:!0}),(0,w.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,w.jsx)(ae.A,{classes:"mb-3",content:(0,ne.Ay)(e.content),idIndex:e.id,line:3})})]},s)):(0,w.jsx)(T.A,{title:"No data found",desc:"",methodTitle:"",method:""})})})},de=e=>{var s,t,l,i;let{posts:n,sentimentPosts:o}=e;return n?(0,w.jsxs)(a.A.Container,{defaultActiveKey:"positive",children:[(0,w.jsxs)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:[(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"positive",className:"py-2 py-sm-3",children:null!==(s=null===o||void 0===o?void 0:o.tab_first)&&void 0!==s?s:"Positive"})}),(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"negative",className:"py-2 py-sm-3",children:null!==(t=null===o||void 0===o?void 0:o.tab_second)&&void 0!==t?t:"Negative"})})]}),(0,w.jsxs)(a.A.Content,{children:[(0,w.jsx)(a.A.Pane,{eventKey:"positive",mountOnEnter:!0,children:(0,w.jsx)(re,{posts:n.positive})}),(0,w.jsx)(a.A.Pane,{eventKey:"negative",mountOnEnter:!0,children:(0,w.jsx)(re,{posts:n.negative})})]})]}):(0,w.jsx)(T.A,{title:null!==(l=null===o||void 0===o?void 0:o.no_data)&&void 0!==l?l:"",desc:"",methodTitle:null!==(i=null===o||void 0===o?void 0:o.no_data_btn)&&void 0!==i?i:"",method:""})};class ce extends o.Component{render(){var e,s,t,l,i,n;const{statistics:o,posts:r,proUser:d}=this.props,c=null!==(e=null===(s=window)||void 0===s||null===(t=s.APP_CONTENT)||void 0===t||null===(l=t.Analytics)||void 0===l?void 0:l.sentiment)&&void 0!==e?e:{},h=null===c||void 0===c?void 0:c.sentiments,m=null===c||void 0===c?void 0:c.sentiment_posts;return(0,w.jsx)(a.A.Container,{defaultActiveKey:"statistics",children:(0,w.jsx)(u.A,{className:"card-stretch p-0 card custom-tabalign",children:(0,w.jsx)(u.A.Body,{className:"p-0",children:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:[(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"statistics",className:"py-2 py-sm-3 fs-8",children:null!==(i=null===h||void 0===h?void 0:h.heading_first)&&void 0!==i?i:"Sentiment statistics"})}),(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"sposts",className:"py-2 py-sm-3 fs-8",children:null!==(n=null===m||void 0===m?void 0:m.heading)&&void 0!==n?n:"Sentiment posts"})})]}),(0,w.jsxs)(a.A.Content,{className:"w-100 d-flex align-items-center",style:{height:"calc(100% - 45px)"},children:[(0,w.jsx)(a.A.Pane,{eventKey:"statistics",className:"w-100 px-4",children:(0,w.jsx)(le.A,{statistics:o,proUser:d,sentimentText:h})}),(0,w.jsx)(a.A.Pane,{eventKey:"sposts",mountOnEnter:!0,className:"w-100",children:(0,w.jsx)(de,{posts:r,sentimentPosts:m})})]})]})})})})}}const he=ce;var me=t(76799);const ve=e=>{let{proUser:s,statistics:t,posts:l,activeUsertotal:i,contirbutorsTotal:n,activeCreators:o,topCreators:d,mostActiveUsersLoader:c,topCreatorsLoader:h,postNetwork:m,postLoader:x,loaderData:j,wordCloud:g,wordCloudLoader:b,analyticsOverView:y}=e;const N=document.documentElement.clientWidth;return(0,w.jsxs)(r.A,{fluid:!0,children:[(0,w.jsxs)(v.A,{className:"gx-4 pdf-page py-2",children:[(0,w.jsx)(f,{}),(0,w.jsx)(p.A,{className:"mb-5",lg:0==s?12:8,children:(0,w.jsx)(O,{})}),1==s?(0,w.jsx)(p.A,{className:"mb-5",md:6,lg:4,children:(0,w.jsx)(te,{proUser:s,status:!0})}):null,(0,w.jsx)(p.A,{className:"mb-5",lg:8,children:(0,w.jsx)(a.A.Container,{defaultActiveKey:"statistics",children:(0,w.jsx)(u.A,{className:"card-stretch p-0 card custom-tabalign",children:(0,w.jsxs)(u.A.Body,{className:"p-0",children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"statistics",className:"py-2 py-sm-3 fs-8",children:"Sentiment statistics"})})}),(0,w.jsx)("div",{className:"px-4 w-100 py-10",children:(0,w.jsx)(le.A,{statistics:t,proUser:s})})]})})})}),(0,w.jsx)(p.A,{className:"mb-5",md:6,lg:4,children:(0,w.jsx)(X,{})}),(0,w.jsx)(p.A,{className:"mb-5",lg:6,children:(0,w.jsx)(a.A.Container,{defaultActiveKey:"statistics",children:(0,w.jsx)(u.A,{className:"card-stretch p-0 card custom-tabalign",children:(0,w.jsxs)(u.A.Body,{className:"p-0",children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"sposts",className:"py-2 py-sm-3 fs-8",children:"Sentiment posts"})})}),(0,w.jsxs)(a.A.Container,{defaultActiveKey:"positive",children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"positive",className:"py-2 py-sm-3",children:"Positive"})})}),(0,w.jsx)(a.A.Content,{children:(0,w.jsx)(a.A.Pane,{eventKey:"positive",mountOnEnter:!0,children:(0,w.jsx)(re,{posts:l.positive})})})]})]})})})}),(0,w.jsx)(p.A,{className:"mb-5",lg:6,children:(0,w.jsx)(a.A.Container,{defaultActiveKey:"statistics123",children:(0,w.jsx)(u.A,{className:"card-stretch p-0 card custom-tabalign",children:(0,w.jsxs)(u.A.Body,{className:"p-0",children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"sposts",className:"py-2 py-sm-3 fs-8",children:"Sentiment posts"})})}),(0,w.jsxs)(a.A.Container,{defaultActiveKey:"negative",children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"negative",className:"py-2 py-sm-3",children:"Negative"})})}),(0,w.jsx)(a.A.Content,{children:(0,w.jsx)(a.A.Pane,{eventKey:"negative",mountOnEnter:!0,children:(0,w.jsx)(re,{posts:l.negative})})})]})]})})})}),N>1358?(0,w.jsx)(p.A,{lg:12,children:(0,w.jsx)(M.A,{})}):null]}),(0,w.jsxs)(v.A,{className:"pdf-page",children:[N<1370?(0,w.jsx)(p.A,{lg:12,children:(0,w.jsx)(M.A,{})}):null,(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(a.A.Container,{defaultActiveKey:"mostcreators",children:(0,w.jsx)("div",{className:"card-stretch gutter-b p-0 card-mostactive-creator",children:(0,w.jsxs)(u.A,{children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"mostcreators",className:"py-2 py-sm-3 fs-6",children:"Most Active Creators"})})}),(0,w.jsx)(u.A.Body,{children:(0,w.jsx)(a.A.Content,{style:{height:"400px",overflowX:"auto"},children:(0,w.jsx)(a.A.Pane,{className:"h-100",eventKey:"mostcreators",style:{minHeight:"400px"},children:(0,w.jsx)(me.A,{total:i,toogleShowMorePop:()=>{},data:o,loader:c,analyticsOverView:y})})})})]})})})}),(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(a.A.Container,{defaultActiveKey:"mostcreators",children:(0,w.jsx)("div",{className:"card-stretch gutter-b p-0 card-mostactive-creator",children:(0,w.jsxs)(u.A,{children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"mostcreators",className:"py-2 py-sm-3 fs-6",children:"Top Creators"})})}),(0,w.jsx)(u.A.Body,{children:(0,w.jsx)(a.A.Content,{style:{height:"400px",overflowX:"auto"},children:(0,w.jsx)(a.A.Pane,{className:"h-100",eventKey:"mostcreators",style:{minHeight:"400px"},children:(0,w.jsx)(me.A,{total:n,toogleShowMorePop:()=>{},data:d,loader:h,analyticsOverView:y})})})})]})})})}),(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(a.A.Container,{defaultActiveKey:"postType",children:(0,w.jsx)(u.A,{className:"card-stretch gutter-b p-0 card-post-chart",children:(0,w.jsxs)(u.A.Body,{className:"p-0",children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"postType",className:"fs-8 py-2 py-sm-3",children:"Post type"})})}),(0,w.jsx)(a.A.Content,{children:(0,w.jsx)(z,{postNetwork:m,loader:x,loaderData:j})})]})})})}),(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(a.A.Container,{defaultActiveKey:"postNetwork",children:(0,w.jsx)(u.A,{className:"card-stretch gutter-b p-0 card-post-chart",children:(0,w.jsxs)(u.A.Body,{className:"p-0",children:[(0,w.jsx)(I.A,{variant:"underline",className:"flex-row px-3 px-sm-5 border-bottom",children:(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"postNetwork",className:"fs-8 py-2 py-sm-3",children:"Post Network"})})}),(0,w.jsx)(a.A.Content,{children:(0,w.jsx)(B,{postNetwork:m,loader:x,loaderData:j})})]})})})}),N>1358?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(Z,{wordCloud:g,loader:b,id:"wordCloud2"})}),(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(q,{})})]}):null]}),N<1370?(0,w.jsxs)(v.A,{className:"pdf-page",children:[(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(Z,{wordCloud:g,loader:b,id:"wordCloud2"})}),(0,w.jsx)(p.A,{md:6,lg:6,children:(0,w.jsx)(q,{})})]}):null]})},pe=[{name:"Post type",labels:["Video posts","Image posts","Text posts"]},{name:"Post network",labels:["Instagram Business","Pinterest","YouTube","Instagram"]}];class ue extends o.PureComponent{render(){var e,s,t;const{user:l,statistics:i,posts:n,activeCreators:o,topCreators:a,mostActiveUsersLoader:d,topCreatorsLoader:c,postNetwork:h,postLoader:m,wordCloud:u,wordCloudLoader:x,analyticsOverView:j,generatePDFLoader:g,content:b}=this.props,y=null!==(e=null===l||void 0===l?void 0:l.truSense)&&void 0!==e?e:0,N=null!==(s=null===o||void 0===o?void 0:o.length)&&void 0!==s?s:0,A=null!==(t=null===a||void 0===a?void 0:a.length)&&void 0!==t?t:0;null===b||void 0===b||b.headings;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(r.A,{fluid:!0,children:(0,w.jsxs)(v.A,{className:"gx-4 py-2",children:[(0,w.jsx)(f,{}),(0,w.jsx)(p.A,{className:"mb-5",lg:{span:8,order:1},children:(0,w.jsx)(O,{})}),(0,w.jsx)(p.A,{className:"mb-5",lg:{span:8,order:3},children:(0,w.jsx)(he,{proUser:y,statistics:i,posts:n})}),(0,w.jsx)(p.A,{className:"mb-5",md:6,lg:{span:4,order:2},children:(0,w.jsx)(te,{proUser:y})}),(0,w.jsx)(p.A,{className:"mb-5",md:6,lg:{span:4,order:4},children:(0,w.jsx)(X,{})}),(0,w.jsx)(p.A,{lg:{span:12,order:5},children:(0,w.jsx)(M.A,{})}),(0,w.jsx)(p.A,{lg:{span:8,order:5},children:(0,w.jsx)(L.A,{activeCreators:o,topCreators:a,mostActiveUsersLoader:d,topCreatorsLoader:c,analyticsOverView:j})}),(0,w.jsx)(p.A,{lg:{span:4,order:5},children:(0,w.jsx)(Z,{wordCloud:u,loader:x,id:"wordCloud1"})}),(0,w.jsx)(p.A,{lg:{span:8,order:5},children:(0,w.jsx)(K,{postNetwork:h,loader:m,loaderData:pe})}),(0,w.jsx)(p.A,{lg:{span:4,order:5},children:(0,w.jsx)(q,{})})]})}),g?(0,w.jsx)("div",{className:"analytics-pdf",children:(0,w.jsx)(ve,{proUser:y,statistics:i,posts:n,activeUsertotal:N,contirbutorsTotal:A,activeCreators:o,topCreators:a,mostActiveUsersLoader:d,topCreatorsLoader:c,postNetwork:h,postLoader:m,loaderData:pe,wordCloud:u,wordCloudLoader:x,analyticsOverView:j})}):null]})}}const xe=(0,m.Ng)(e=>{var s,t,l,i,n,o,a,r,d,c,h,m;return{user:null===(s=e.authorized)||void 0===s||null===(t=s.userData)||void 0===t?void 0:t.user_data,statistics:null===(l=e.analyticsOverView)||void 0===l?void 0:l.sentiment_by_post_statistics,posts:null===(i=e.analyticsOverView)||void 0===i?void 0:i.sentiment_by_post,activeCreators:null===(n=e.analyticsOverView)||void 0===n?void 0:n.most_active_users,mostActiveUsersLoader:null===(o=e.analyticsOverView)||void 0===o?void 0:o.most_active_users_loader,topCreators:null===(a=e.analyticsOverView)||void 0===a?void 0:a.top_creators,topCreatorsLoader:null===(r=e.analyticsOverView)||void 0===r?void 0:r.top_creators_loader,postNetwork:null===(d=e.analyticsContentGallery)||void 0===d?void 0:d.type_by_post_network,postLoader:null===(c=e.analyticsContentGallery)||void 0===c?void 0:c.type_by_post_network_loader,wordCloud:null===(h=e.analyticsContentGallery)||void 0===h?void 0:h.word_cloud,wordCloudLoader:null===(m=e.analyticsContentGallery)||void 0===m?void 0:m.word_cloud_loader,analyticsOverView:e.analyticsOverView}})(ue);var je=t(66621),ge=t(42074);class we extends o.Component{render(){var e;const{conversion:s,loader:t}=this.props,l=["blue","orange","yellow","green"];return(0,w.jsx)(v.A,{className:"gx-4",children:null===s||void 0===s||null===(e=s.series)||void 0===e?void 0:e.map((e,i)=>(0,w.jsx)(p.A,{lg:3,sm:6,className:"col-6",children:(0,w.jsx)(ge.N_,{to:"/analytics",title:"analytics",children:(0,w.jsx)(u.A,{className:"gutter-b card-shadow ".concat(l[i]),children:(0,w.jsxs)(u.A.Body,{children:[(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsx)("p",{className:"fs-8 fw-medium text-muted mb-2",children:null===e||void 0===e?void 0:e.name}),(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:e.tool_tip}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("p",{className:"h1 mb-0",children:[0==i?s.currency:""," ",t?0:(0,g.sl)(e.data)]})})]})})})},i))})}}(0,m.Ng)(e=>{var s,t;return{conversion:null===(s=e.analyticsConversion)||void 0===s?void 0:s.conversion_data,loader:null===(t=e.analyticsConversion)||void 0===t?void 0:t.conversion_loader}})(we);var be=t(1093),fe=t(97937),ye=t(40143),Ne=t(63195),Ae=t(82094);class Ce extends o.Component{constructor(){var e,s,t,l,i;super(...arguments),this.state={series:[1*((null===(e=this.props.breakDownItem)||void 0===e?void 0:e.assisted)%1).toFixed(3)!==(null===(s=this.props.breakDownItem)||void 0===s?void 0:s.assisted)%1?parseFloat(parseFloat(null===(t=this.props.breakDownItem)||void 0===t?void 0:t.assisted).toFixed(2)):parseFloat(null===(l=this.props.breakDownItem)||void 0===l?void 0:l.assisted),parseFloat(null===(i=this.props.breakDownItem)||void 0===i?void 0:i.ctaClick)],options:{chart:{type:"donut"},plotOptions:{pie:{donut:{legend:{show:!1},labels:{show:!0,total:{showAlways:!0,show:!0}}}}},dataLabels:{enabled:!1},colors:this.props.colors,legend:{show:!1,position:"right"},labels:this.props.website?this.props.cartLabel:this.props.recordVisitorCount.labels}}}render(){const{className:e}=this.props;return(0,w.jsx)("div",{className:e,children:(0,w.jsx)(y.A,{options:this.state.options,series:this.state.series,type:"donut",height:250})})}}class ke extends o.Component{constructor(){super(...arguments),this.state={colors:["#008ffb","#00e396","#fe8900","#2dbb74"]}}render(){var e,s,t,l,i,o,a;const{isPopupOn:r,onCloseModel:d,loader:h,breakDown:m,breakDownImage:u,authorized:x,breakDownItem:j}=this.props,{colors:b}=this.state;return(0,w.jsxs)(Ne.A,{size:"lg",show:r,onHide:d,centered:!0,children:[(0,w.jsx)(Ne.A.Header,{className:"",closeButton:!0,children:(0,w.jsx)(Ne.A.Title,{children:"Breakdown"})}),(0,w.jsx)(Ne.A.Body,{children:(0,w.jsxs)("div",{className:"overflow-auto",style:{height:500},children:[(0,w.jsx)("div",{className:"p-3",children:(0,w.jsxs)(v.A,{children:[(0,w.jsx)(p.A,{sm:5,children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 mb-5",size:100,height:200,width:200,url:u,isCover:!0,alt:""})}),(0,w.jsxs)(p.A,{sm:7,children:[(0,w.jsx)("div",{className:"mb-5",children:(0,w.jsx)(Ce,{colors:b,className:"donut-chart",cartLabel:["Post views","CTA clicks"],breakDownItem:j,website:!0})}),(0,w.jsxs)("div",{className:"shopClickSection",children:[(0,w.jsx)("h5",{children:"Shop Clicks"}),(0,w.jsx)(v.A,{children:(null===m||void 0===m?void 0:m.recordVisitorCount)&&(null===m||void 0===m?void 0:m.recordVisitorCount[0].labels.map((e,s)=>(0,w.jsx)(p.A,{xs:6,children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[(0,w.jsx)("div",{className:"h-12px w-12px rounded-circle me-2",style:{backgroundColor:b[s]}}),(0,w.jsx)("span",{className:"fw-medium text-muted",children:e})]})},s)))})]})]})]})}),m&&m.productList&&m.productList.length?(0,w.jsx)("div",{className:"viewBreakdown_table",children:(0,w.jsxs)(be.A,{size:"lg",responsive:!0,children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"bg-light border-0",children:"Posts"}),null!==x&&void 0!==x&&null!==(e=x.userData)&&void 0!==e&&null!==(s=e.user_data)&&void 0!==s&&null!==(t=s.sessionData)&&void 0!==t&&t.createFrom&&"shopify"==(null===x||void 0===x||null===(l=x.userData)||void 0===l||null===(i=l.user_data)||void 0===i||null===(o=i.sessionData)||void 0===o?void 0:o.createFrom.toLowerCase())?(0,w.jsx)("th",{className:"bg-light border-0",children:"Add to Cart"}):(0,w.jsx)("th",{className:"bg-light border-0",children:"CTA clicks "}),(0,w.jsx)("th",{className:"bg-light border-0",children:"Assisted"})]})}),(0,w.jsx)("tbody",{children:null===m||void 0===m||null===(a=m.productList)||void 0===a?void 0:a.map((e,s)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"align-middle",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"w-80px me-3",children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 border",size:100,height:80,width:80,isCover:!0,url:e.postFileNew,alt:""})}),(0,w.jsxs)("div",{className:"d-flex align-items-start flex-grow-1 w-100",style:{maxWidth:300},children:[(0,w.jsx)(oe.A,{imageSize:40,symbolClass:"symbol-label",className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:e.name,profileUrl:e.picture,networkId:28}),(0,w.jsxs)("div",{className:"d-flex text-start flex-column flex-grow-1",children:[(0,w.jsx)("p",{className:"w-75 text-nowrap text-ellipsis mb-0 h5",children:e.name}),(0,w.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,w.jsxs)("span",{className:"text-gray-400 fs-10 fw-medium text-ellipsis",children:["@",e.username]}),(0,w.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1 d-flex flex-shrink-0",style:{backgroundColor:"var(--bs-gray-400)"}}),(0,w.jsx)("span",{className:"text-gray-400 fs-10 fw-medium text-ellipsis",children:n()(e.postTime).format("DD-MMM-YYYY")})]})]})]}),(0,w.jsx)(ie.A,{height:22,width:22,className:"me-3",src:(0,c.pc)("media/icons/social-icons/".concat((0,g.EC)(e.networkId),".svg")),alt:"",fluid:!0})]})}),(0,w.jsx)("td",{className:"align-middle",children:parseInt(e.ctaClick)}),(0,w.jsxs)("td",{className:"align-middle",children:[e.discount_currency_symbol,(0,g.sl)(e.assisted)," "]})]},s))})]})}):(0,w.jsx)(w.Fragment,{})]})})]})}}const _e=(0,m.Ng)(e=>{var s,t;return{breakDown:null===(s=e.analyticsConversion)||void 0===s?void 0:s.conversion_breackDown_data,loader:null===(t=e.analyticsConversion)||void 0===t?void 0:t.conversion_breackDown_loader}})(ke);var De=t(18633);const Pe=e=>(0,w.jsx)("th",{className:"fw-bold text-nowrap ".concat(e.className?e.className:""),style:{minWidth:e.width},onClick:()=>e.method?e.method():{},children:e.children});class Se extends o.Component{constructor(){super(...arguments),this.state={currentPage:1,showPost:10,pages:1,allFeeds:[],isPopupOn:!1,newPagination:[],pageData:[],breakDownImage:"",sortBy:null,addToCart:!1,productView:!1,breakDownItem:"",productData:[]},this.countPage=()=>{const{productData:e}=this.state;for(var s=0,t=[],l=null===e||void 0===e?void 0:e.length;s<l;)t.push(e.slice(s,s+=this.state.showPost));setTimeout(this.setState({pageData:t,pages:t.length},()=>{const e=this.generatePagination(this.state.currentPage,t.length);this.setState({newpagination:e})}),100)},this.generatePagination=(e,s)=>{const t=[];if(t.push(1),e>3){t.push("...");for(let s=e-2;s<=e;s++)s>1&&s<e&&t.push(s)}else for(let i=2;i<=e;i++)t.push(i);if(t.push(e),e<s-2){for(let l=e+1;l<=e+2;l++)l<s&&0!=l&&t.push(l);t.push("...")}else for(let i=e+1;i<s;i++)t.push(i);t.push(s);var l=t.filter(function(e){return 0!==e});return[...new Set(l)]},this.sortProduct=()=>{const{conversion:e}=this.props,{productView:s}=this.state,t=[...null===e||void 0===e?void 0:e.list];s?t.sort((e,s)=>e.view-s.view):t.sort((e,s)=>s.view-e.view),this.setState({productData:t,sortBy:"productView",productView:!s},()=>this.countPage())},this.sortCart=()=>{const{conversion:e}=this.props,{addToCart:s}=this.state,t=[...null===e||void 0===e?void 0:e.list];s?t.sort((e,s)=>e.ctaClick-s.ctaClick):t.sort((e,s)=>s.ctaClick-e.ctaClick),this.setState({productData:t,sortBy:"addToCart",addToCart:!s},()=>this.countPage())},this.breakDownProduct=e=>{this.props.getBreakDown(e.id),this.setState({breakDownImage:e.product_image,breakDownItem:e,isPopupOn:!0})}}componentDidMount(){const{loader:e,conversion:s}=this.props;e||this.setState({productData:s.list},()=>this.countPage())}componentWillReceiveProps(e){e.loader!=this.props.loader&&this.setState({productData:e.conversion.list},()=>this.countPage())}render(){var e,s;const{loader:t,conversion:i,userData:n}=this.props,{pageData:o,currentPage:a,isPopupOn:r,breakDownItem:d,breakDownImage:h}=this.state;(0,g.C2)();return(0,w.jsx)(u.A,{className:"border-none mb-5",children:(0,w.jsxs)(u.A.Body,{className:"py-0 px-0",style:{minHeight:"calc(100vh - 350px)"},children:[(0,w.jsxs)(be.A,{className:"pb-3",size:"lg",responsive:!0,children:[(0,w.jsx)("thead",{className:"px-3 thead-light",children:(0,w.jsxs)("tr",{className:"px-3",children:[(0,w.jsx)(Pe,{width:300,children:"Product (Top 5)"}),(0,w.jsx)(Pe,{width:140,children:"Price"}),(0,w.jsx)(Pe,{width:140,children:"SKU"}),(0,w.jsxs)(Pe,{className:"cursor-pointer",width:140,method:this.sortProduct,children:["Product views",(0,w.jsx)("span",{className:"ms-2 text-muted",children:(0,w.jsx)(c.gc,{icon:"arrow-up-arrow-down"})})]}),(0,w.jsx)(Pe,{width:140,method:this.sortCart,children:null!==n&&void 0!==n&&null!==(e=n.sessionData)&&void 0!==e&&e.createFrom&&"shopify"==(null===n||void 0===n||null===(s=n.sessionData)||void 0===s?void 0:s.createFrom.toLowerCase())?"Add to Cart":"CTA clicks"}),(0,w.jsx)(Pe,{width:140,children:"Assisted revenue"}),(0,w.jsx)(Pe,{width:140})]})}),(0,w.jsx)("tbody",{children:t?(0,w.jsx)("tr",{children:(0,w.jsx)("div",{className:"h-100",children:(0,w.jsx)(De.a,{})})}):o&&o.length&&o[a-1]&&o[a-1].length?o[a-1].map((e,s)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:(0,w.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[(0,w.jsx)("div",{className:"symbol symbol-50 rounded-2 flex-shrink-0 me-3 overflow-hidden",children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 border",size:100,height:50,width:50,url:e.product_image,alt:e.product_title,isCover:!0,isProduct:!0})}),(0,w.jsx)("div",{className:"overflow-hidden",children:(0,w.jsx)("span",{className:"d-block fs-8 fw-semibold text-ellipsis",style:{maxWidth:200},children:e.product_title})})]})}),(0,w.jsxs)("td",{children:[" ",(0,w.jsxs)("span",{children:[" ",e.discount_currency_symbol,"  ",(0,g.sl)(e.price)," "]})]}),(0,w.jsxs)("td",{children:[" ",(0,w.jsxs)("span",{children:[" ",e.product_sku," "]})]}),(0,w.jsxs)("td",{children:[" ",(0,w.jsxs)("span",{children:[" ",e.view," "]})]}),(0,w.jsxs)("td",{children:[" ",(0,w.jsxs)("span",{children:[" ",e.ctaClick," "]})]}),(0,w.jsxs)("td",{children:[" ",(0,w.jsxs)("span",{children:[" ",e.discount_currency_symbol,"  ",(0,g.sl)(e.assisted)]})]}),(0,w.jsx)("td",{className:"text-end",children:(0,w.jsx)(fe.A,{variant:"secondary",size:"sm",className:"text-nowrap",disabled:!(e.ctaClick>0||e.assisted>0),onClick:()=>{this.breakDownProduct(e)},children:"View breakdown"})})]},s)):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{className:"border-0",colSpan:"10",style:{textAlign:"center"},children:(0,w.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 450px)"},children:(0,w.jsx)(T.A,{title:"No data found"})})})})})]}),r?(0,w.jsx)(ye.A,{children:(0,w.jsx)(_e,(0,l.A)((0,l.A)({},this.props),{},{onCloseModel:()=>this.setState({isPopupOn:!1}),isPopupOn:r,breakDownImage:h,breakDownItem:d}))}):""]})})}}(0,m.Ng)(e=>{var s,t,l,i;return{conversion:null===(s=e.analyticsConversion)||void 0===s?void 0:s.conversion_data,loader:null===(t=e.analyticsConversion)||void 0===t?void 0:t.conversion_loader,userData:null===(l=e.authorized)||void 0===l||null===(i=l.userData)||void 0===i?void 0:i.user_data}},e=>({getBreakDown:s=>e((0,je.Rn)(s,0))}))(Se);class Oe extends o.Component{render(){var e;const{website:s,loader:t}=this.props,l=["blue","orange","yellow","green","red"];return(0,w.jsx)(v.A,{className:"gx-4 web_tabs",children:null===s||void 0===s||null===(e=s.totalValues)||void 0===e?void 0:e.map((e,s)=>{const i=String(e.name).includes("%")&&e.total?"%":"",n=String(e.name).includes("hours")&&e.total?e.total:"";return(0,w.jsx)(p.A,{sm:6,lg:4,xl:3,children:(0,w.jsx)(u.A,{className:"gutter-b card-shadow ".concat(l[s]),children:(0,w.jsxs)(u.A.Body,{children:[(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsx)("p",{className:"fs-8 fw-medium text-muted mb-2",children:e.name}),(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:e.tool_tip}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsxs)("p",{className:"h1 mb-0",children:[t?n?"00:00:00":"0":n||(e.total?(0,g.sl)(e.total):"0"),i]})})]})})},"card".concat(s))})})}}(0,m.Ng)(e=>{var s,t;return{website:null===(s=e.analyticsWebsite)||void 0===s?void 0:s.websiteOverview_data,loader:null===(t=e.analyticsWebsite)||void 0===t?void 0:t.websiteOverview_loader}})(Oe);var Le=t(23047),Me=t.n(Le);class Te extends o.Component{constructor(){super(...arguments),this.state={series:[],options:{chart:{height:350,id:"area-datetime",zoom:{enabled:!1},type:"area",animations:{enabled:!0,easing:"linear",dynamicAnimation:{speed:1e3}}},colors:["#2f84ed","#fe8900","#fec600","#2dbb74","#f83434"],legend:{show:!0,position:"top",itemMargin:{horizontal:20,vertical:0}},grid:{show:!0,borderColor:"var(--bs-gray-100)"},stroke:{curve:"smooth",width:[2,2,2]},dataLabels:{enabled:!1},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",min:0,tickAmount:6},tooltip:{x:{format:"dd MMM yyyy"}}}},this.setSeries=e=>{if(e){var s;const t=(0,g.rD)(e),i=null===t||void 0===t?void 0:t.unixDate[(null===t||void 0===t||null===(s=t.unixDate)||void 0===s?void 0:s.length)-1];if(this.setState(e=>({series:t.newSeries,options:(0,l.A)((0,l.A)({},e.options),{},{xaxis:(0,l.A)((0,l.A)({},e.options.xaxis),{},{min:null===t||void 0===t?void 0:t.unixDate[0]})})})),i){const e=Me().getChartByID("area-datetime2");e&&e.zoomX(null===t||void 0===t?void 0:t.unixDate[0],null===t||void 0===t?void 0:t.unixDate[i-1])}}},this.setConversion=e=>{if(e){var s;const t=(0,g.gp)(e),i=null===t||void 0===t?void 0:t.unixDate[(null===t||void 0===t||null===(s=t.unixDate)||void 0===s?void 0:s.length)-1];if(this.setState(e=>({series:t.newSeries,options:(0,l.A)((0,l.A)({},e.options),{},{xaxis:(0,l.A)((0,l.A)({},e.options.xaxis),{},{min:null===t||void 0===t?void 0:t.unixDate[0]}),y:{formatter:(e,s)=>{let{series:t,seriesIndex:l}=s;var i;return 1===l?"".concat(null===(i=this.props)||void 0===i?void 0:i.currency)+e:e}}})})),i){const e=Me().getChartByID("area-datetime2");e&&e.zoomX(null===t||void 0===t?void 0:t.unixDate[0],null===t||void 0===t?void 0:t.unixDate[i-1])}}},this.setShopOn=e=>{var s;const{serialNum:t}=this.props,i=(0,g.Tj)(e),n=null===i||void 0===i?void 0:i.unixDate[(null===i||void 0===i||null===(s=i.unixDate)||void 0===s?void 0:s.length)-1];if(this.setState(e=>({series:[i.newSeries[t]]||0,options:(0,l.A)((0,l.A)({},e.options),{},{xaxis:(0,l.A)((0,l.A)({},e.options.xaxis),{},{min:null===i||void 0===i?void 0:i.unixDate[0]})})})),n){const e=Me().getChartByID("area-datetime2");e&&e.zoomX(null===i||void 0===i?void 0:i.unixDate[0],null===i||void 0===i?void 0:i.unixDate[n-1])}}}componentDidMount(){const{chartData:e,convert:s,shopOn:t}=this.props;e&&Object.keys(e).length>0&&(s?this.setConversion(e):t?this.setShopOn(e):this.setSeries(e))}componentDidUpdate(e){const{chartData:s,convert:t,shopOn:l}=this.props;if(!Y().isEqual(e.chartData,s)){if(!(s&&Object.keys(s).length>0))return;t?this.setConversion(s):l?this.setShopOn(s):this.setSeries(s)}}render(){const{options:e,series:s}=this.state;return(0,w.jsx)("div",{className:"chartArea",children:(0,w.jsx)("div",{id:"chart",children:(0,w.jsx)(y.A,{options:e,series:s,type:"area",height:350})})})}}const Ie=Te,We={series:[{name:"Total visitors",data:[]},{name:"Total post clicks",data:[]},{name:"CTA clicks",data:[]},{name:"CTR%",data:[]}],labels:["","",""]};class Ye extends o.Component{constructor(){super(...arguments),this.state={website:null}}componentDidMount(){const{loader:e,website:s}=this.props;e||this.setState({website:s})}componentWillReceiveProps(e){this.props.loader!=e.loader&&this.setState({website:e.website})}render(){const{website:e}=this.state,{loader:s}=this.props;return(0,w.jsxs)(u.A,{className:"gutter-b card-shadow",children:[(0,w.jsx)(u.A.Header,{children:(0,w.jsx)("h4",{children:"Overview"})}),(0,w.jsx)(u.A.Body,{children:(0,w.jsx)(Ie,{chartData:s?We:e})})]})}}(0,m.Ng)(e=>{var s,t;return{website:null===(s=e.analyticsWebsite)||void 0===s?void 0:s.websiteOverview_data,loader:null===(t=e.analyticsWebsite)||void 0===t?void 0:t.websiteOverview_loader}})(Ye);class Fe extends o.Component{render(){const{networkId:e}=this.props;return(0,w.jsxs)("div",{className:"position-relative me-2",children:[(0,w.jsx)(oe.A,(0,l.A)({},this.props)),(0,w.jsx)("div",{className:"position-absolute rounded-circle h-18px w-18px f-center bg-body",style:{padding:3,right:0,bottom:0},children:(0,w.jsx)(ie.A,{className:"object-center-contain",src:(0,c.pc)("media/icons/social-icons/".concat((0,g.EC)(e),".svg")),height:"18",width:"18",alt:(0,g.Oi)(e),title:(0,g.Oi)(e)})})]})}}const Ve=Fe;class Be extends o.Component{constructor(){super(...arguments),this.state={colors:["#008ffb","#00e396","#fe8900","#2dbb74"]}}render(){var e,s,t;const{isPopupOn:l,onCloseModel:i,breakDownItem:n,breakDownImage:o,userData:a}=this.props,{colors:r}=(parseFloat(null===n||void 0===n?void 0:n.viewCount),parseFloat(null===n||void 0===n?void 0:n.ctaClick),this.state);return(0,w.jsxs)(Ne.A,{size:"lg",show:l,onHide:i,centered:!0,children:[(0,w.jsx)(Ne.A.Header,{className:"",closeButton:!0,children:(0,w.jsx)(Ne.A.Title,{children:"Breakdown"})}),(0,w.jsx)(Ne.A.Body,{children:(0,w.jsxs)("div",{className:"overflow-auto",style:{height:500},children:[(0,w.jsx)("div",{className:"p-3",children:(0,w.jsxs)(v.A,{children:[(0,w.jsx)(p.A,{sm:5,children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 mb-5",size:100,height:200,width:200,url:o,isCover:!0,alt:""})}),(0,w.jsxs)(p.A,{sm:7,children:[(0,w.jsx)("div",{className:"mb-5",children:(0,w.jsx)(Ce,{colors:r,className:"donut-chart",cartLabel:["Post views","CTA clicks"],breakDownItem:n,website:!0},6*Math.random())}),(0,w.jsxs)("div",{className:"shopClickSection",children:[(0,w.jsx)("h5",{children:"Shop Clicks"}),(0,w.jsx)(v.A,{children:["Post views","CTA clicks"].map((e,s)=>(0,w.jsx)(p.A,{xs:6,children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[(0,w.jsx)("div",{className:"h-12px w-12px rounded-circle me-2",style:{backgroundColor:r[s]}}),(0,w.jsx)("span",{className:"fw-medium text-muted",children:e})]})},s))})]})]})]})}),n&&n.products&&n.products.length?(0,w.jsx)("div",{className:"viewBreakdown_table",children:(0,w.jsxs)(be.A,{size:"lg",responsive:!0,children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"bg-light border-0",children:"Products"}),null!==a&&void 0!==a&&null!==(e=a.sessionData)&&void 0!==e&&e.createFrom&&"shopify"==(null===a||void 0===a||null===(s=a.sessionData)||void 0===s?void 0:s.createFrom.toLowerCase())?(0,w.jsx)("th",{className:"bg-light border-0",children:"Add to Cart"}):(0,w.jsx)("th",{className:"bg-light border-0",children:"CTA clicks "}),(0,w.jsx)("th",{className:"bg-light border-0",children:"Assisted"})]})}),(0,w.jsx)("tbody",{children:null===n||void 0===n||null===(t=n.products)||void 0===t?void 0:t.map((e,s)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"w-50px me-3",children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 border",size:100,height:100,width:100,url:e.product_image_new,isCover:!0,alt:e.product_title,isProduct:!0})}),(0,w.jsx)("div",{className:"overflow-hidden",children:(0,w.jsx)("span",{className:"d-block fs-8 fw-medium text-ellipsis",style:{maxWidth:200},children:e.product_title})})]})}),(0,w.jsx)("td",{children:e.ctaClick}),(0,w.jsxs)("td",{children:[e.currency,(0,g.sl)(e.assisted)," "]})]},s))})]})}):(0,w.jsx)(w.Fragment,{})]})})]})}}const ze=Be,Ee=e=>(0,w.jsx)("th",{className:"fw-bold text-nowrap ".concat(e.className?e.className:""),style:{minWidth:e.width},children:e.children});class Ke extends o.Component{constructor(){super(...arguments),this.state={currentPage:1,showPost:10,pages:1,allFeeds:[],isPopupOn:!1,newPagination:[],pageData:[],breakDownImage:"",sortBy:null,addToCart:!1,productView:!1,breakDownItem:"",productData:[]},this.sortProduct=()=>{const{postData:e}=this.props,s=[...e];this.state.productView?s.sort((e,s)=>e.viewCount-s.viewCount):s.sort((e,s)=>s.viewCount-e.viewCount),this.setState({productData:s,sortBy:"productView",productView:!this.state.productView},()=>this.countPages())},this.countPages=()=>{const{productData:e}=this.state;for(var s=0,t=[],l=null===e||void 0===e?void 0:e.length;s<l;)t.push(null===e||void 0===e?void 0:e.slice(s,s+=this.state.showPost));setTimeout(this.setState({pageData:t,totalPage:t.length},()=>{const e=this.generatePagination(this.state.currentPage,t.length);this.setState({newPagination:e})}),100)},this.generatePagination=(e,s)=>{const t=[];if(t.push(1),e>5){t.push("...");for(let s=e-2;s<=e;s++)s>1&&s<e&&t.push(s)}else for(let i=2;i<=e;i++)t.push(i);if(t.push(e),e<s-2){for(let l=e+1;l<=e+2;l++)l<s&&0!=l&&t.push(l);t.push("...")}else for(let i=e+1;i<s;i++)t.push(i);t.push(s);var l=t.filter(function(e){return 0!==e});return[...new Set(l)]},this.sortCart=()=>{const{postData:e}=this.props,s=[...e];this.state.addToCart?s.sort((e,s)=>e.ctaClick-s.ctaClick):s.sort((e,s)=>s.ctaClick-e.ctaClick),this.setState({productData:s,sortBy:"addToCart",addToCart:!this.state.addToCart},()=>this.countPages())},this.breakDownProduct=e=>{this.setState({breakDownImage:e.postFileNew}),this.setState({breakDownItem:e})},this.changePage=e=>{const{pageData:s}=this.state,t=this.generatePagination(e,s.length);this.setState({currentPage:e,newPagination:t})},this.nextPrev=e=>{this.setState({currentPage:e});const s=this.generatePagination(e,this.state.pageData.length);this.setState({currentPage:e,newPagination:s})}}componentDidMount(){const{loader:e,postData:s}=this.props;e||this.setState({productData:s},()=>this.countPages())}componentWillReceiveProps(e){e.loader!=this.props.loader&&this.setState({productData:e.postData},()=>this.countPages())}render(){var e,s;const{loader:t,postData:l,userData:i}=this.props,{addToCart:o,productView:a,pageData:r,currentPage:d,isPopupOn:h,breakDownImage:m,breakDownItem:v,newPagination:p,pages:b,totalPage:f}=this.state;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(u.A,{className:"border-none mb-5",children:(0,w.jsxs)(u.A.Body,{className:"py-0 px-0 overflow-auto",style:{minHeight:"calc(100vh - 350px)"},children:[(0,w.jsxs)(be.A,{className:"pb-3",size:"lg",responsive:!0,children:[(0,w.jsx)("thead",{className:"px-3 thead-light",children:(0,w.jsxs)("tr",{className:"px-3",children:[(0,w.jsx)(Ee,{width:100}),(0,w.jsx)(Ee,{width:150,children:"Posts"}),(0,w.jsx)(Ee,{width:150,children:"# of products "}),(0,w.jsxs)(Ee,{width:100,className:"cursor-pointer",onClick:()=>this.sortProduct(),children:["Post views",(0,w.jsx)("span",{className:"ms-2 text-muted",children:(0,w.jsx)(c.gc,{icon:"arrow-up-arrow-down"})})]}),(0,w.jsx)(Ee,{width:100,onClick:()=>this.sortCart(),children:null!==i&&void 0!==i&&null!==(e=i.sessionData)&&void 0!==e&&e.createFrom&&"shopify"==(null===i||void 0===i||null===(s=i.sessionData)||void 0===s?void 0:s.createFrom.toLowerCase())?"Add to Cart":"CTA clicks"}),(0,w.jsx)(Ee,{width:100,children:"Assisted revenue"}),(0,w.jsx)(Ee,{width:50})]})}),(0,w.jsx)("tbody",{children:t?(0,w.jsx)("tr",{children:(0,w.jsx)("td",{className:"border-0",colSpan:"10",style:{textAlign:"center"},children:(0,w.jsx)("div",{style:{minHeight:"calc(100vh - 500px)"},children:(0,w.jsx)(De.a,{})})})}):r&&r.length&&r[d-1]&&r[d-1].length?r[d-1].map((e,s)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{className:"align-middle",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"w-60px me-3",children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 border",size:100,height:60,width:60,url:e.postFileNew,isCover:!0,alt:e.product_title})}),(0,w.jsx)("div",{className:"overflow-hidden",children:(0,w.jsx)("span",{className:"d-block fs-8 fw-semibold text-ellipsis",style:{maxWidth:200},children:e.product_title})})]})}),(0,w.jsx)("td",{className:"align-middle",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)(Ve,{imageSize:42,symbolClass:"symbol-label fw-bolder text-uppercase fs-5",className:"symbol symbol-42 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:e.name,profileUrl:e.picture,networkId:e.networkId}),(0,w.jsxs)("div",{className:"d-flex text-left flex-column conn_user_info w-75",children:[(0,w.jsx)("p",{className:"w-75 text-nowrap text-ellipsis mb-0 h5",children:e.name}),(0,w.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,w.jsxs)("span",{className:"text-gray-400 fs-10 fw-medium text-ellipsis",children:["@",e.name]}),(0,w.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1 d-flex flex-shrink-0",style:{backgroundColor:"var(--bs-gray-400)"}}),(0,w.jsx)("span",{className:"text-gray-400 fs-10 fw-medium text-ellipsis",children:n()(new Date(1e3*e.createdAt)).format("DD-MMM-yyy")})]})]})]})}),(0,w.jsx)("td",{className:"align-middle",children:(0,w.jsx)("p",{className:"fw-bold text-nowrap mb-0",style:{maxWidth:400},children:e.products?(0,w.jsx)("div",{className:"symbol-group symbol-hover flex-wrap",children:e.products.map((e,s)=>(0,w.jsx)("span",{children:(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsxs)(j.A,{className:"text-start",children:[(0,w.jsx)("p",{className:"text-gray-100 mb-0 w-100 fw-bold text-ellipsis text-start",children:e.product_title}),(0,w.jsxs)("p",{className:"mb-0 text-ellipsis mb-0 fs-8 text-start",children:["Price : ",(0,w.jsxs)("strong",{children:[e.ncy,e.price]})]}),(0,w.jsxs)("p",{className:"mb-0 text-ellipsis mb-0 fs-8 text-start",children:["CTA Click : ",(0,w.jsx)("strong",{children:e.ctaClick})]})]}),children:(0,w.jsx)("div",{className:"symbol symbol-40 mb-1",children:(0,w.jsx)(Ae.A,{mediaClass:"rounded-circle border bg-body w-100",size:100,height:40,width:40,isCover:!0,url:e.product_image_new,alt:e.product_title,isProduct:!0})})})},s))}):" -- "})}),(0,w.jsxs)("td",{className:"align-middle",children:[" ",e.viewCount," "]}),(0,w.jsxs)("td",{className:"align-middle",children:[" ",e.ctaClick," "]}),(0,w.jsxs)("td",{className:"align-middle",children:[" ",e.currency,(0,g.sl)(e.assisted)]}),(0,w.jsx)("td",{className:"text-end align-middle",children:(0,w.jsx)(fe.A,{variant:"secondary",size:"sm",className:"text-nowrap",onClick:()=>this.setState({isPopupOn:!0},()=>this.breakDownProduct(e)),children:"View breakdown"})})]},s)):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{className:"border-0",colSpan:"10",style:{textAlign:"center"},children:(0,w.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 350px)"},children:(0,w.jsx)(T.A,{title:"No data found",desc:"",methodTitle:"",method:""})})})})})]}),h?(0,w.jsx)(ye.A,{children:(0,w.jsx)(ze,{breakDownItem:v,onCloseModel:()=>this.setState({isPopupOn:!1}),isPopupOn:h,breakDownImage:m,userData:i},8*Math.random())}):"",l&&l&&l.length>10?(0,w.jsx)("div",{className:"p-4",children:(0,w.jsxs)("ul",{className:"pagination pagination-sm mb-0",children:[(0,w.jsx)("li",{className:"page-item",children:(0,w.jsx)("span",{className:"page-link cursor-pointer ".concat(1==d?" disabled":" cursor-pointer"),onClick:()=>{this.nextPrev(d-1)},children:(0,w.jsx)(c.gc,{icon:"angle-left"})})}),p&&p.length?p.map((e,s)=>(0,w.jsx)("li",{className:"page-item ".concat(d==e?"active":" cursor-pointer"),children:(0,w.jsxs)("span",{className:"page-link",onClick:()=>this.changePage(e),children:[" ",e," "]},s)})):(0,w.jsx)("li",{className:"page-item",children:(0,w.jsx)("span",{className:"page-link disabled",children:"1"})}),(0,w.jsx)("li",{className:"page-item",children:(0,w.jsx)("span",{className:"page-link cursor-pointer ".concat(d==f?" disabled":" cursor-pointer"),onClick:()=>{this.nextPrev(d+1)},children:(0,w.jsx)(c.gc,{icon:"angle-right"})})})]})}):null]})})})}}(0,m.Ng)(e=>{var s,t,l,i;return{postData:null===(s=e.analyticsWebsite)||void 0===s?void 0:s.websitePost_data,loader:null===(t=e.analyticsWebsite)||void 0===t?void 0:t.websitePost_loader,userData:null===(l=e.authorized)||void 0===l||null===(i=l.userData)||void 0===i?void 0:i.user_data}})(Ke);class Ue extends o.Component{constructor(){super(...arguments),this.state={pageData:null}}componentWillMount(){const{loader:e,pageData:s}=this.props;e||this.setState({pageData:s})}componentWillReceiveProps(e){this.props.loader!=e.loader&&this.setState({pageData:e.pageData})}render(){var e,s,t,l,i,n;const{pageData:o}=this.state,{loader:a,content:r}=this.props,d={series:[r||{}],labels:[""]},h=(null===o||void 0===o||null===(e=o.series)||void 0===e?void 0:e[0])||{};var m,v;null!==r&&void 0!==r&&r.name&&null!==r&&void 0!==r&&r.tool_tip&&(h.name=null!==(m=null===r||void 0===r?void 0:r.name)&&void 0!==m?m:"",h.tool_tip=null!==(v=null===r||void 0===r?void 0:r.tool_tip)&&void 0!==v?v:"");return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b",children:[(0,w.jsxs)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"h5 mb-0",children:a?null===r||void 0===r?void 0:r.name:null!==(s=null===h||void 0===h?void 0:h.name)&&void 0!==s?s:""}),(0,w.jsx)("div",{className:"ms-2",children:(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:a?null!==(t=null===r||void 0===r?void 0:r.tool_tip)&&void 0!==t?t:"":null!==(l=null===h||void 0===h?void 0:h.tool_tip)&&void 0!==l?l:""}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})})]}),(0,w.jsxs)("span",{className:"d-flex align-items-center text-muted",children:[a?null!==(i=null===r||void 0===r?void 0:r.name)&&void 0!==i?i:"":null!==(n=null===h||void 0===h?void 0:h.name)&&void 0!==n?n:""," ",(0,w.jsx)("span",{className:"display-4 fw-bold ms-2 ",children:a?0:h.total})]})]}),(0,w.jsx)(u.A.Body,{children:(0,w.jsx)("div",{className:"chartArea",children:(0,w.jsx)(Ie,{chartData:a?d:o,shopOn:!a,serialNum:0})})})]})}}const He=(0,m.Ng)(e=>{var s,t;return{pageData:null===(s=e.analyticsShopOn)||void 0===s?void 0:s.shopOnOverview_data,loader:null===(t=e.analyticsShopOn)||void 0===t?void 0:t.shopOnOverview_loader}})(Ue);class Re extends o.Component{constructor(){super(...arguments),this.state={clickData:null}}componentWillMount(){const{loader:e,clickData:s}=this.props;e||this.setState({clickData:s})}componentWillReceiveProps(e){this.props.loader!=e.loader&&this.setState({clickData:e.clickData})}render(){var e,s,t,l,i,n,o;const{clickData:a}=this.state,{loader:r,content:d}=this.props,h={series:[d||{}],labels:[""]},m=(null===a||void 0===a||null===(e=a.series)||void 0===e?void 0:e[1])||{};var v,p;null!==d&&void 0!==d&&d.name&&null!==d&&void 0!==d&&d.tool_tip&&(m.name=null!==(v=null===d||void 0===d?void 0:d.name)&&void 0!==v?v:"",m.tool_tip=null!==(p=null===d||void 0===d?void 0:d.tool_tip)&&void 0!==p?p:"");return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b",children:[(0,w.jsxs)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"h5 mb-0",children:r?null!==(s=null===d||void 0===d?void 0:d.name)&&void 0!==s?s:"":null!==(t=null===m||void 0===m?void 0:m.name)&&void 0!==t?t:""}),(0,w.jsx)("div",{className:"ms-2",children:(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:r?null!==(l=null===d||void 0===d?void 0:d.tool_tip)&&void 0!==l?l:"":null!==(i=m.tool_tip)&&void 0!==i?i:""}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})})]}),(0,w.jsxs)("span",{className:"d-flex align-items-center text-muted",children:[r?null!==(n=null===d||void 0===d?void 0:d.name)&&void 0!==n?n:"":null!==(o=null===m||void 0===m?void 0:m.name)&&void 0!==o?o:""," ",(0,w.jsx)("span",{className:"display-4 fw-bold ms-2 ",children:r?0:m.total})]})]}),(0,w.jsx)(u.A.Body,{children:(0,w.jsx)("div",{className:"chartArea",children:(0,w.jsx)(Ie,{chartData:r?h:a,shopOn:!r,serialNum:0})})})]})}}const Ge=(0,m.Ng)(e=>{var s,t;return{clickData:null===(s=e.analyticsShopOn)||void 0===s?void 0:s.shopOnOverview_data,loader:null===(t=e.analyticsShopOn)||void 0===t?void 0:t.shopOnOverview_loader}})(Re);class Ze extends o.Component{constructor(){super(...arguments),this.state={clickData:null}}componentWillMount(){const{loader:e,clickData:s}=this.props;e||this.setState({clickData:s})}componentWillReceiveProps(e){this.props.loader!=e.loader&&this.setState({clickData:e.clickData})}render(){var e,s,t,l,i,n,o;const{clickData:a}=this.state,{loader:r,content:d}=this.props,h={series:[d||{}],labels:[""]},m=(null===a||void 0===a||null===(e=a.series)||void 0===e?void 0:e[2])||{};var v,p;null!==d&&void 0!==d&&d.name&&null!==d&&void 0!==d&&d.tool_tip&&(m.name=null!==(v=null===d||void 0===d?void 0:d.name)&&void 0!==v?v:"",m.tool_tip=null!==(p=null===d||void 0===d?void 0:d.tool_tip)&&void 0!==p?p:"");return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b",children:[(0,w.jsxs)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"h5 mb-0",children:r?null!==(s=null===d||void 0===d?void 0:d.name)&&void 0!==s?s:"":null!==(t=null===m||void 0===m?void 0:m.name)&&void 0!==t?t:""}),(0,w.jsx)("div",{className:"ms-2",children:(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:r?null!==(l=null===d||void 0===d?void 0:d.tool_tip)&&void 0!==l?l:"":null!==(i=null===m||void 0===m?void 0:m.tool_tip)&&void 0!==i?i:""}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})})]}),(0,w.jsxs)("span",{className:"d-flex align-items-center text-muted",children:[r?null!==(n=null===d||void 0===d?void 0:d.name)&&void 0!==n?n:"":null!==(o=null===m||void 0===m?void 0:m.name)&&void 0!==o?o:""," ",(0,w.jsx)("span",{className:"display-4 fw-bold ms-2 ",children:r?0:m.total})]})]}),(0,w.jsx)(u.A.Body,{children:(0,w.jsx)("div",{className:"chartArea",children:(0,w.jsx)(Ie,{chartData:r?h:a,shopOn:!r,serialNum:2})})})]})}}const qe=(0,m.Ng)(e=>{var s,t;return{clickData:null===(s=e.analyticsShopOn)||void 0===s?void 0:s.shopOnOverview_data,loader:null===(t=e.analyticsShopOn)||void 0===t?void 0:t.shopOnOverview_loader}})(Ze);class Xe extends o.Component{constructor(){super(...arguments),this.state={clickData:null}}componentDidMount(){const{loader:e,clickData:s}=this.props;e||this.setState({clickData:s})}componentWillReceiveProps(e){this.props.loader!=e.loader&&this.setState({clickData:e.clickData})}render(){var e,s,t,l,i,n,o,a,r;const{clickData:d}=this.state,{loader:h,content:m}=this.props,v={series:[m||{}],labels:[""]},p=null!==(e=null===d||void 0===d||null===(s=d.series)||void 0===s?void 0:s[3])&&void 0!==e?e:{};var g,b;null!==m&&void 0!==m&&m.name&&null!==m&&void 0!==m&&m.tool_tip&&(p.name=null!==(g=null===m||void 0===m?void 0:m.name)&&void 0!==g?g:"",p.tool_tip=null!==(b=null===m||void 0===m?void 0:m.tool_tip)&&void 0!==b?b:"");return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b",children:[(0,w.jsxs)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"h5 mb-0",children:h?null!==(t=null===m||void 0===m?void 0:m.name)&&void 0!==t?t:"":null!==(l=null===p||void 0===p?void 0:p.name)&&void 0!==l?l:""}),(0,w.jsx)("div",{className:"ms-2",children:(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:h?null!==(i=null===m||void 0===m?void 0:m.tool_tip)&&void 0!==i?i:"":null!==(n=null===p||void 0===p?void 0:p.tool_tip)&&void 0!==n?n:""}),children:(0,w.jsx)("span",{children:(0,w.jsx)(c.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})})]}),(0,w.jsxs)("span",{className:"d-flex align-items-center text-muted",children:[h?null!==(o=null===m||void 0===m?void 0:m.name)&&void 0!==o?o:"":null!==(a=null===p||void 0===p?void 0:p.name)&&void 0!==a?a:""," ",(0,w.jsx)("span",{className:"display-4 fw-bold ms-2 ",children:h?0:null===p||void 0===p||null===(r=p.total)||void 0===r?void 0:r.toFixed(2)})]})]}),(0,w.jsx)(u.A.Body,{children:(0,w.jsx)("div",{className:"chartArea",children:(0,w.jsx)(Ie,{chartData:h?v:d,shopOn:!h,serialNum:3})})})]})}}const Qe=(0,m.Ng)(e=>{var s,t;return{clickData:null===(s=e.analyticsShopOn)||void 0===s?void 0:s.shopOnOverview_data,loader:null===(t=e.analyticsShopOn)||void 0===t?void 0:t.shopOnOverview_loader}})(Xe),Je=Array.from({length:10},(e,s)=>s+1),$e=(Array.from({length:2},(e,s)=>s+1),()=>Je.map((e,s)=>(0,w.jsx)(u.A,{className:"shadow-none border-bottom mb-1 p-0 rounded-0",children:(0,w.jsx)(u.A.Body,{className:"py-1",children:(0,w.jsxs)("div",{className:"d-flex",children:[(0,w.jsx)("div",{className:"d-flex flex-shrink-0 cursor-pointer me-3",children:(0,w.jsx)("p",{className:"sk_rect rounded-1 mb-0",style:{height:120,width:120}})}),(0,w.jsxs)("div",{className:"d-flex flex-grow-1 flex-column",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center me-2 flex-grow-1 overflow-hidden",children:[(0,w.jsx)("div",{className:"sk_img symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,w.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",style:{maxWidth:130},children:[(0,w.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_12 my-2"}),(0,w.jsx)("span",{className:"sk_line sk_line_50 sk_line_height_8 mb-0 d-block"})]})]}),(0,w.jsx)("p",{className:"sk_rect h-20px w-20px my-2"})]}),(0,w.jsx)("div",{className:"mt-lg-0 mt-2",children:(0,w.jsx)("div",{className:"row",children:(0,w.jsx)("div",{className:"col-sm-7",children:(0,w.jsxs)("div",{className:"overflow-hidden w-100 pt-1",children:[(0,w.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_12 my-2"}),(0,w.jsx)("p",{className:"sk_line sk_line_50 sk_line_height_12 my-2"})]})})})})]})]})})},s)));class es extends o.Component{render(){var e,s;const{postData:t,loader:l,content:i}=this.props;return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b",children:[(0,w.jsx)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:(0,w.jsx)("span",{className:"h5 mb-0",children:null!==(e=null===i||void 0===i?void 0:i.top_post)&&void 0!==e?e:""})}),(0,w.jsx)(u.A.Body,{className:"overflow-auto",style:{height:500},children:l?(0,w.jsx)($e,{postCount:4}):t&&t.length>0?t.map((e,s)=>{var t,l;const{networkId:n,postFileNew:o,postcontent:a,picture:r,name:d,username:h,viewCount:m,ctaClick:v}=e;return(0,w.jsx)("div",{className:"border-bottom mb-2 p-2","data-id":e.id,children:(0,w.jsxs)("div",{className:"d-flex",children:[o?(0,w.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer me-3",style:{width:120},children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 border",size:100,height:200,width:200,url:o,isCover:!0,alt:""})}):null,(0,w.jsxs)("div",{className:"d-flex flex-grow-1 flex-column w-100 overflow-hidden",children:[(0,w.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,w.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,w.jsx)(oe.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label",name:d,profileUrl:r,networkId:n}),(0,w.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,w.jsx)("p",{className:"mb-0",children:(0,w.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:d})}),(0,w.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",h]})]})]}),(0,w.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,w.jsx)(x.A,{placement:"top",overlay:(0,w.jsx)(j.A,{children:(0,g.Oi)(n)}),children:(0,w.jsx)("img",{className:"img-fluid h-100",src:(0,c.pc)("media/icons/social-icons/".concat((0,g.EC)(n),".svg")),height:20,width:20,alt:n})})})]}),(0,w.jsx)("div",{className:"mt-lg-0 mt-2 w-100 overflow-hidden",children:(0,w.jsxs)("div",{className:"row",children:[(0,w.jsx)("div",{className:"col-sm-7",children:(0,w.jsx)(ae.A,{classes:"mb-3",content:a,idIndex:e.id,line:2})}),(0,w.jsx)("div",{className:"col-sm-5 justify-content-end",children:(0,w.jsxs)("div",{className:"ms-0 ms-sm-auto",style:{maxWidth:340},children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between py-1",children:[(0,w.jsxs)("span",{className:"d-flex align-items-center fs-8 text-gray-500 fw-medium text-ellipsis me-2",children:[null!==(t=null===i||void 0===i?void 0:i.post_click)&&void 0!==t?t:"",":"]}),(0,w.jsx)("h6",{className:"fs-8 mb-0",children:(0,g.sl)(m||0)})]}),(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between py-1",children:[(0,w.jsxs)("span",{className:"d-flex align-items-center fs-8 text-gray-500 fw-medium text-ellipsis me-2",children:[null!==(l=null===i||void 0===i?void 0:i.click_cta)&&void 0!==l?l:"",":"]}),(0,w.jsx)("h6",{className:"fs-8 mb-0",children:(0,g.sl)(v||0)})]})]})})]})})]})]})},s)}):(0,w.jsx)(T.A,{title:null!==(s=null===i||void 0===i?void 0:i.no_data)&&void 0!==s?s:"",desc:"",methodTitle:"",method:""})})]})}}const ss=(0,m.Ng)(e=>{var s,t;return{postData:null===(s=e.analyticsShopOn)||void 0===s?void 0:s.shopOnTopPost_data,loader:null===(t=e.analyticsShopOn)||void 0===t?void 0:t.shopOnTopPost_loader}})(es),ts=Array.from({length:10},(e,s)=>s+1),ls=()=>ts.map((e,s)=>(0,w.jsx)(u.A,{className:"shadow-none border-bottom mb-1 p-0 rounded-0",children:(0,w.jsx)(u.A.Body,{className:"py-1",children:(0,w.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,w.jsx)("div",{className:"d-flex flex-shrink-0 flex-column user_profile_items cursor-pointer me-lg-4",children:(0,w.jsx)("p",{className:"sk_rect rounded-1 mb-0",style:{height:120,width:120}})}),(0,w.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 mt-lg-0 mt-5",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center me-2 flex-grow-1 overflow-hidden",children:[(0,w.jsx)("div",{className:"sk_img symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,w.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",style:{maxWidth:130},children:[(0,w.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_12 my-2"}),(0,w.jsx)("span",{className:"sk_line sk_line_50 sk_line_height_8 mb-0 d-block"})]})]}),(0,w.jsx)("p",{className:"sk_rect h-20px w-20px my-2"})]}),(0,w.jsx)("div",{className:"mt-lg-0 mt-2",children:(0,w.jsx)("div",{className:"row",children:(0,w.jsx)("div",{className:"col-sm-7",children:(0,w.jsxs)("div",{className:"overflow-hidden w-100 pt-1",children:[(0,w.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_12 my-2"}),(0,w.jsx)("p",{className:"sk_line sk_line_50 sk_line_height_12 my-2"})]})})})})]})]})})},s));class is extends o.Component{render(){var e,s;const{products:t,loader:l,content:i}=this.props;return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b",children:[(0,w.jsx)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:(0,w.jsx)("span",{className:"h5 mb-0",children:null!==(e=null===i||void 0===i?void 0:i.popular_product)&&void 0!==e?e:""})}),(0,w.jsx)(u.A.Body,{className:"overflow-auto",style:{height:500},children:l?(0,w.jsx)(ls,{}):t&&t.length?null===t||void 0===t?void 0:t.map((e,s)=>{var t,l;return(0,w.jsx)("div",{className:"border-bottom mb-2 p-2","data-id":e.id,children:(0,w.jsxs)("div",{className:"d-flex",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,w.jsx)("div",{className:"d-flex flex-shrink-0 flex-column w-70px cursor-pointer pe-2",children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 border",size:100,height:200,width:200,url:e.product_image,alt:"",isCover:!0,isProduct:!0})}),(0,w.jsxs)("div",{className:"pe-2 overflow-hidden w-100",children:[(0,w.jsx)("p",{className:"w-100 mb-0",style:{maxWidth:200},children:(0,w.jsx)("span",{className:"fw-bold line-clamp line-clamp-2",children:e.product_title})}),(0,w.jsx)("p",{className:"mb-1 text-muted fw-medium",children:e.product_sku}),(0,w.jsxs)("p",{className:"mb-1 text-gray-500 text-primary fw-bold",children:[e.discount_currency_symbol,e.price]})]})]}),(0,w.jsx)("div",{className:"d-flex flex-grow-1 justify-content-end w-100 overflow-hidden",children:(0,w.jsxs)(v.A,{style:{maxWidth:450},children:[(0,w.jsxs)(p.A,{xs:6,className:"d-flex align-items-center justify-content-between py-1",children:[(0,w.jsxs)("span",{className:"d-flex align-items-center fs-8 text-gray-500 fw-medium text-ellipsis me-2",children:[null!==(t=null===i||void 0===i?void 0:i.product_view)&&void 0!==t?t:"",":"]}),(0,w.jsx)("h6",{className:"fs-8 mb-0 text-end",style:{minWidth:"50px"},children:(0,g.sl)(e.view)})]}),(0,w.jsxs)(p.A,{xs:6,className:"d-flex align-items-center justify-content-between py-1",children:[(0,w.jsxs)("span",{className:"d-flex align-items-center fs-8 text-gray-500 fw-medium text-ellipsis me-2",children:[null!==(l=null===i||void 0===i?void 0:i.click_cta)&&void 0!==l?l:"",":"]}),(0,w.jsx)("h6",{className:"fs-8 mb-0 text-end",style:{minWidth:"50px"},children:(0,g.sl)(e.ctaClick)})]}),(0,w.jsxs)(p.A,{xs:6,className:"d-flex align-items-center justify-content-between py-1",children:[(0,w.jsxs)("span",{className:"d-flex align-items-center fs-8 text-gray-500 fw-medium text-ellipsis me-2",children:[null===i||void 0===i?void 0:i.cta_through,":"]}),(0,w.jsxs)("h6",{className:"fs-8 mb-0 text-end",style:{minWidth:"50px"},children:[parseFloat(parseFloat((null===e||void 0===e?void 0:e.ctaClick)/(null===e||void 0===e?void 0:e.view)*100).toFixed(2)).toString(),"%"]})]})]})})]})},s)}):(0,w.jsx)(T.A,{title:null!==(s=null===i||void 0===i?void 0:i.no_data)&&void 0!==s?s:"",desc:"",methodTitle:"",method:""})})]})}}const ns=(0,m.Ng)(e=>{var s,t;return{products:null===(s=e.analyticsShopOn)||void 0===s?void 0:s.shopOntopProduct_data,loader:null===(t=e.analyticsShopOn)||void 0===t?void 0:t.shopOntopProduct_loader}})(is);class os extends o.Component{render(){var e,s,t,l;const{content:i}=this.props;return(0,w.jsxs)(r.A,{fluid:!0,children:[(0,w.jsxs)(v.A,{className:"gx-4",children:[(0,w.jsx)(p.A,{lg:6,sm:12,children:(0,w.jsx)(He,{content:null!==(e=null===i||void 0===i?void 0:i.page_view)&&void 0!==e?e:{}})}),(0,w.jsx)(p.A,{lg:6,sm:12,children:(0,w.jsx)(Ge,{content:null!==(s=null===i||void 0===i?void 0:i.post_view)&&void 0!==s?s:{}})})]}),(0,w.jsxs)(v.A,{className:"gx-4",children:[(0,w.jsx)(p.A,{lg:6,sm:12,children:(0,w.jsx)(qe,{content:null!==(t=null===i||void 0===i?void 0:i.button_view)&&void 0!==t?t:{}})}),(0,w.jsx)(p.A,{lg:6,sm:12,children:(0,w.jsx)(Qe,{content:null!==(l=null===i||void 0===i?void 0:i.click_view)&&void 0!==l?l:{}})})]}),(0,w.jsxs)(v.A,{className:"gx-4",children:[(0,w.jsx)(p.A,{lg:6,sm:12,children:(0,w.jsx)(ss,{content:i})}),(0,w.jsx)(p.A,{lg:6,sm:12,children:(0,w.jsx)(ns,{content:i})})]})]})}}const as=os;function rs(){return(0,w.jsxs)("div",{className:"d-flex align-items-center px-4 py-2 btn-active-light cursor-pointer",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center me-0 me-sm-2 mb-3 mb-sm-0 flex-grow-1 justify-content-between w-100 cursor-pointer",children:[(0,w.jsx)("div",{className:"sk_img symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,w.jsxs)("div",{className:"overflow-hidden w-100 pe-2",children:[(0,w.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_10 mb-2",style:{maxWidth:130}}),(0,w.jsx)("span",{className:"sk_line sk_line_50 sk_line_height_8 mb-0 d-block",style:{maxWidth:100}})]})]}),(0,w.jsx)("div",{className:"d-flex align-items-center",children:(0,w.jsx)("p",{className:"sk_rect h-36px w-100px my-1"})})]})}class ds extends o.Component{render(){const{loader:e,influencer:s}=this.props;return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b",children:[(0,w.jsx)("div",{className:"f-between p-3 py-2 py-sm-3 p-sm-5 border-bottom",children:(0,w.jsx)("span",{className:"fs-8 fw-semibold mb-0",children:"Top influencers & creators"})}),(0,w.jsx)(u.A.Body,{className:"px-0",children:e?(0,g.OZ)(6).map((e,s)=>(0,w.jsx)("div",{children:(0,w.jsx)(rs,{})},s)):(0,w.jsx)(w.Fragment,{children:s&&Object.keys(s).length>0&&s.data&&s.data.length>0?s.data.map((e,s)=>{var t,l;return(0,w.jsxs)("div",{className:"f-between px-5 py-2 mb-2 btn-active-light cursor-pointer",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center",onClick:()=>null!==e&&void 0!==e&&e.links?window.open(e.links,"_blank"):{},children:[(0,w.jsx)("div",{className:"symbol symbol-45 symbol-light mr-sm-6 mr-3 con_user_img",children:(0,w.jsx)(oe.A,{imageSize:40,symbolClass:"symbol-label",className:"symbol symbol-38 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:e.author.name,profileUrl:e.image.replace(/\s/g,""),networkId:e.network.id})}),(0,w.jsxs)("div",{className:"d-flex text-left flex-column conn_user_info cursor-pointer",children:[(0,w.jsx)("h6",{className:" mb-0 font-weight-boldest overflow-hidden text-nowrap text-ellipsis author_name",children:e.author.name}),(0,w.jsxs)("p",{className:"m-0",children:[(0,w.jsxs)("small",{className:"text-muted overflow-hidden text-nowrap text-ellipsis post_count mr-2",children:[(0,g.sl)(e.postCount)," ",e.postCount&&parseInt(e.postCount)>1?"Posts":"Post"]}),(0,w.jsxs)("small",{className:"text-muted overflow-hidden text-nowrap text-ellipsis followers_count",children:[(0,g.sl)(e.author.follower)," ",e.author.follower&&parseInt(e.author.follower)>1?"Followers":"Follower"]})]})]})]}),(0,w.jsx)("div",{className:"list_category_icon cursor-pointer pt-1",children:(0,w.jsx)("div",{className:"ts_ms_slider-social-icon",style:{fontSize:"18px"},onClick:()=>null!==e&&void 0!==e&&e.links?window.open(e.links,"_blank"):{},children:(0,w.jsx)(ie.A,{height:22,width:22,className:"me-3",src:(0,c.pc)("media/icons/social-icons-square/".concat((0,g.EC)(null===e||void 0===e||null===(t=e.network)||void 0===t?void 0:t.id),".svg")),alt:"",fluid:!0})})}),(0,w.jsx)("div",{className:"conn_status connnected",children:(0,w.jsx)("div",{className:"conn_status_wrap",children:(0,w.jsx)(ge.N_,{className:"btn btn-outline-primary btn-sm",to:"/creators".concat(null!==(l=e.author)&&void 0!==l&&l.username?"?text="+e.author.username:""),title:"Connect",children:"Connect"})})})]},s)}):(0,w.jsx)(T.A,{title:"No data found",desc:"",methodTitle:"",method:""})})})]})}}(0,m.Ng)(e=>{var s,t;return{influencer:null===(s=e.analyticsContentGallery)||void 0===s?void 0:s.top_influential,loader:null===(t=e.analyticsContentGallery)||void 0===t?void 0:t.top_influential_loader}})(ds);class cs extends o.Component{render(){var e,s;const{posts:t,loader:l}=this.props;return(0,w.jsxs)(u.A,{className:"card-stretch gutter-b p-0 card-mention-chart",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center p-3 py-2 py-sm-3 p-sm-5 border-bottom f-between",children:[(0,w.jsx)("span",{className:"fs-8 fw-semibold mb-0",children:"Mention posts"}),!l&&null!==(e=t[0])&&void 0!==e&&e.mentionsPosts&&(null===(s=t[0])||void 0===s?void 0:s.mentionsPosts.length)>5?(0,w.jsx)(ge.N_,{className:"btn-link fs-8 text-end",to:"/creators",title:"creators",children:"View All"}):null]}),(0,w.jsx)(u.A.Body,{style:{height:380},className:"overflow-auto",children:l?(0,w.jsx)("span",{className:"h-100 f-center text-gray-300 fs-5",children:"Loading..."}):t[0].mentionsPosts&&t[0].mentionsPosts.length>0?t[0].mentionsPosts.map((e,s)=>(0,w.jsxs)("div",{className:"d-flex align-items-center px-5 px-xxl-5 py-3 cursor-pointer flex-shrink-0 border-bottom",children:[(0,w.jsx)("div",{className:"h-100px w-100px me-3 d-flex flex-shrink-0",children:(0,w.jsx)(Ae.A,{mediaClass:"position-relative overflow-hidden w-100 rounded-1 border",size:100,height:100,width:100,isCover:!0,url:e.postFileNew,alt:""})}),(0,w.jsxs)("div",{className:"d-flex flex-column flex-grow-1",children:[(0,w.jsxs)("div",{className:"d-flex flex-grow-1 mb-1 w-100",onClick:()=>null!==e&&void 0!==e&&e.link?window.open(e.link,"_blank"):{},children:[(0,w.jsxs)("div",{className:"d-flex align-items-start flex-grow-1 w-100",children:[(0,w.jsx)(oe.A,{imageSize:40,symbolClass:"symbol-label",className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:e.author.name,profileUrl:e.author.image,networkId:""}),(0,w.jsxs)("div",{className:"d-flex text-start flex-column flex-grow-1",children:[(0,w.jsx)("p",{className:"w-75 text-nowrap text-ellipsis mb-0 h5",children:e.author.name}),(0,w.jsxs)("div",{className:"d-flex align-items-center text-muted",children:[(0,w.jsxs)("span",{className:"text-gray-400 fs-9 fw-medium text-ellipsis",children:["@",e.author.username]}),(0,w.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1 d-flex flex-shrink-0",style:{backgroundColor:"var(--bs-gray-400)"}}),(0,w.jsx)("span",{className:"text-gray-400 fs-9 fw-medium text-ellipsis",children:n()(e.postTime).format("DD-MMM-YYYY")})]})]})]}),(0,w.jsx)(ie.A,{height:22,width:22,className:"me-3",src:(0,c.pc)("media/icons/social-icons/".concat((0,g.EC)(e.network.id),".svg")),alt:"",fluid:!0})]}),(0,w.jsx)("div",{className:"d-flex flex-column flex-grow-1",children:(0,w.jsx)(ae.A,{classes:"mb-3",content:(0,ne.Ay)(e.content),idIndex:e.id,line:2})})]})]},s)):(0,w.jsx)(T.A,{title:"No data found",desc:"",methodTitle:"",method:""})})]})}}(0,m.Ng)(e=>{var s,t;return{posts:null===(s=e.analyticsContentGallery)||void 0===s?void 0:s.post_by_mention,loader:null===(t=e.analyticsContentGallery)||void 0===t?void 0:t.post_by_mention_loader}})(cs);var hs=t(22662),ms=t(32417),vs=(t(27307),t(1391)),ps=t(54480),us=t(97997);const xs=e=>{let{userData:s,allWalls:t,hideModal:l}=e;return(0,w.jsx)(Ne.A,{show:!0,size:"lg",onHide:l,centered:!0,children:(0,w.jsx)(Ne.A.Body,{className:"p-0 text-center bg-body overflow-hidden rounded-2",children:(0,w.jsx)(us.A,{userData:s,allWalls:t,hideModal:l})})})};var js=t(98304),gs=t(81052),ws=t.n(gs),bs=t(18795);const fs=()=>(0,w.jsx)("div",{className:"overlay-loader",children:(0,w.jsx)("div",{className:"spinn-inn",children:(0,w.jsx)("div",{className:"spinner"})})});var ys=t(34483),Ns=t(62849),As=t(17595);const Cs=(e,s)=>{const t=new Map((e||[]).map(e=>[e.id,e]));t.has(s.id)?t.delete(s.id):t.set(s.id,s);return[...t.values()]},ks=e=>{let{isShopify:s,activeTab:t,shoppableStatus:i,isDisabled:a,wallList:d,generatePDFLoader:m,generatePDF:v,getIds:p,addWebsiteListId:u,addWallId:x,overViewList:j,getOverView:g,websiteList:b,overViewWall:f,websiteWall:y,handleState:N,filterIds:A,updateDateFilter:C,shopOnList:k}=e;const[_,D]=(0,o.useState)({startDate:n()().subtract(30,"days").format("DD-MM-YYYY"),endDate:n()().format("DD-MM-YYYY"),maxDate:n()().endOf("month").format("DD-MM-YYYY"),selectedShopOn:[],selectedWebList:[],selectedWallList:[],shopOnWall:0}),{startDate:P,endDate:S,maxDate:O,selectedShopOn:L,selectedWallList:M,selectedWebList:T,shopOnWall:W}=_,Y=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};D(t=>{const i=t[e],n=Cs(i,s),o=p(n);return"selectedWebList"==e?u(o):x(o),(0,l.A)((0,l.A)({},t),{},{[e]:n})}),t()},F=(0,o.useCallback)((e,s)=>{null===e||void 0===e||e.forEach(e=>{const t=b.filter(s=>{var t,l;return(null===s||void 0===s||null===(t=s.wall)||void 0===t||null===(l=t.ThemeInfo)||void 0===l?void 0:l.wallId)===(null===e||void 0===e?void 0:e.id)});B("selectedWebList",t,s)})},[b]),V=(0,o.useCallback)((e,s)=>{const l=s?0:e.id;N(5===t?"shopOnWall":"overViewWall",l)},[t,W,f]),B=(e,s,t)=>{D(i=>{let n=[...i[e]||[]];return null===s||void 0===s||s.forEach(e=>{var s,l,i,o,a,r;const d=null===e||void 0===e||null===(s=e.wall)||void 0===s||null===(l=s.ThemeInfo)||void 0===l?void 0:l.webId,c=null===e||void 0===e||null===(i=e.wall)||void 0===i||null===(o=i.ThemeInfo)||void 0===o?void 0:o.wallName,h=null===e||void 0===e||null===(a=e.wall)||void 0===a||null===(r=a.ThemeInfo)||void 0===r?void 0:r.wallId;n=t?[...n,{name:c,id:d,wallId:h}]:n.filter(e=>e.id!==d)}),u(p(n)),(0,l.A)((0,l.A)({},i),{},{[e]:n})})},z=e=>{var s,t,l;return 0===(null===(s=_[e?"selectedWebList":"selectedWallList"])||void 0===s?void 0:s.length)?e?"All Website":"All Gallery":1===(null===(t=_[e?"selectedWebList":"selectedWallList"])||void 0===t?void 0:t.length)?_[e?"selectedWebList":"selectedWallList"][0].name:"".concat(null===(l=_[e?"selectedWebList":"selectedWallList"])||void 0===l?void 0:l.length," ").concat(e?"Websites":"Galleries")};return(0,o.useEffect)(()=>{null!==j&&void 0!==j&&j.length&&null!==b&&void 0!==b&&b.length&&!T.length&&(D(e=>(0,l.A)((0,l.A)({},e),{},{selectedWallList:j})),F(j,!0),x(p(j)))},[j,b,T]),(0,o.useEffect)(()=>{5==t&&D(e=>(0,l.A)((0,l.A)({},e),{},{selectedShopOn:d}))},[d]),(0,o.useEffect)(()=>{if(null!==j&&void 0!==j&&j.length){var e;let s=f,l=null===_||void 0===_||null===(e=_.selectedWebList)||void 0===e?void 0:e.map(e=>e.id);s=null!==f&&void 0!==f&&f.length?A(s,"overViewWall"):[0],1==t?g(s,t,l,W,!0):5==t&&g(s,t,l,W)}},[j,f,d,W]),(0,w.jsx)("div",{className:"subheader py-1 py-lg-0",style:s?{}:{marginTop:"50px"},children:(0,w.jsx)(r.A,{fluid:!0,children:(0,w.jsxs)("div",{className:"f-between w-100",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center flex-nowrap flex-shrink-0 me-3",children:[(0,w.jsxs)(I.A,{variant:"underline",className:"d-none d-lg-flex",activeKey:t,children:[(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"1",children:"Overview"})}),i?(0,w.jsx)(I.A.Item,{children:(0,w.jsx)(I.A.Link,{eventKey:"5",children:"Shopon.bio"})}):null]}),(0,w.jsxs)(ys.A,{className:"d-flex d-lg-none",children:[(0,w.jsx)(ys.A.Toggle,{variant:"secondary",className:"btn-sm",id:"analytics-tab",children:5==t?"Shopon.bio":"Overview"}),(0,w.jsxs)(ys.A.Menu,{children:[(0,w.jsx)(Ns.A.Item,{eventKey:"1",children:"Overview"}),i?(0,w.jsx)(Ns.A.Item,{eventKey:"5",children:"Shopon.bio"}):null]})]})]}),(0,w.jsxs)("div",{className:"d-flex align-items-center flex-nowrap flex-shrink-0",children:[(0,w.jsxs)(ys.A,{className:"me-3 py-1",style:{pointerEvents:"".concat(a?"none":"")},children:[(0,w.jsx)(ys.A.Toggle,{variant:"secondary",size:"sm",id:"a_change_con",className:"btn-min-w f-between d-flex",children:5==t?0===(null===L||void 0===L?void 0:L.length)?"All ShopOn":1===(null===L||void 0===L?void 0:L.length)?L[0].name:"".concat(null===L||void 0===L?void 0:L.length," ShopOn"):z(!1)}),(null===d||void 0===d?void 0:d.length)>0?(0,w.jsx)(ys.A.Menu,{style:{maxHeight:"300px",overflowY:"auto"},children:d&&d.map(e=>{const{name:s,id:i}=e,n=5==t?L:M,o=null===n||void 0===n?void 0:n.some(e=>e.id===i);return(0,w.jsx)(ys.A.Item,{as:"button",onClick:n=>{n.stopPropagation(),5==t?(e=>{const s=Cs(L,e),t=p(s).join(","),i=(null===s||void 0===s?void 0:s.length)===(null===k||void 0===k?void 0:k.length);D(e=>(0,l.A)((0,l.A)({},e),{},{selectedShopOn:s,shopOnWall:i?0:t}))})(e):Y("selectedWallList",{id:i,name:s},()=>{F([e],!o),V(e)})},children:(0,w.jsx)(As.A.Check,{type:"checkbox",label:s,checked:o,readOnly:!0})},i)})}):null]}),1==t?(0,w.jsxs)(ys.A,{className:"me-3 py-1",style:{pointerEvents:a?"none":""},children:[(0,w.jsx)(ys.A.Toggle,{variant:"secondary",size:"sm",id:"multi_select_dropdown",className:"btn-min-w f-between d-flex",disabled:!((null===T||void 0===T?void 0:T.length)>0),children:z(!0)}),(0,w.jsx)(ys.A.Menu,{style:{maxHeight:"300px",overflowY:"auto"},children:null===T||void 0===T?void 0:T.map((e,s)=>{const t=null===e||void 0===e?void 0:e.id,l=null===e||void 0===e?void 0:e.name,i=T.some(e=>e.id===t);return(0,w.jsx)(ys.A.Item,{as:"button",onClick:s=>{s.stopPropagation(),Y("selectedWebList",{id:t,name:l,wallId:null===e||void 0===e?void 0:e.wallId},()=>{V(e)})},children:(0,w.jsx)(As.A.Check,{type:"checkbox",label:l,checked:i,readOnly:!0})},t)})})]}):null,(0,w.jsx)("div",{className:"py-1",style:{pointerEvents:"".concat(a?"none":"")},children:(0,w.jsx)(h.A,{onApply:(e,s)=>{D(e=>(0,l.A)((0,l.A)({},e),{},{startDate:s.startDate.format("DD-MM-YYYY"),endDate:s.endDate.format("DD-MM-YYYY")}))},startDate:P,endDate:S,initialSettings:{locale:{format:"DD-MM-YYYY",separator:"-"},maxDate:O,showDropdowns:!0,startDate:P,endDate:S,ranges:{Today:[n()().format("DD-MM-YYYY"),n()().format("DD-MM-YYYY")],Yesterday:[n()().subtract(1,"days").format("DD-MM-YYYY"),n()().subtract(1,"days").format("DD-MM-YYYY")],"Last 7 Days":[n()().subtract(6,"days").format("DD-MM-YYYY"),n()().format("DD-MM-YYYY")],"Last 30 Days":[n()().subtract(30,"days").format("DD-MM-YYYY"),n()().format("DD-MM-YYYY")],"Last Month":[n()().subtract(1,"month").startOf("month").format("DD-MM-YYYY"),n()().subtract(1,"month").endOf("month").format("DD-MM-YYYY")]}},onCallback:(e,s)=>{var t;let i=f,n=null===_||void 0===_||null===(t=_.selectedWebList)||void 0===t?void 0:t.map(e=>e.id);null!==f&&void 0!==f&&f.length?i=A(i,"overViewWall"):(i=[0],n=""),C({startDate:e,endDate:s},i,n,W),D(t=>(0,l.A)((0,l.A)({},t),{},{startDate:e.format("DD-MM-YYYY"),endDate:s.format("DD-MM-YYYY")}))},children:(0,w.jsxs)(fe.A,{variant:"secondary","aria-label":"calendar",size:"sm",id:"date_range",children:[(0,w.jsx)(c.gc,{icon:"calendar-range",iconClass:"me-1"}),"".concat(P," - ").concat(S)]})})}),1==t?(0,w.jsx)("button",{type:"button","aria-label":"Mode",className:"btn btn-secondary btn-sm ms-3 ".concat(m?"disabled":""),onClick:v,children:m?(0,w.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2 disabled"}):(0,w.jsx)(c.gc,{icon:"download",iconClass:"fa-duotone fa-solid me-0"})}):null]})]})})})},_s=e=>(null===e||void 0===e?void 0:e.map(e=>e.id))||[];class Ds extends o.Component{constructor(){super(...arguments),this.state={overViewWall:[],websiteWall:[],activeTab:"1",isDisabled:!1,generatePDFLoader:!1},this.changeTab=e=>{const{isOverview:s,isShopOn:t,navigate:l,shopOnList:i,shopList:n}=this.props,{overViewWall:o,websiteWall:a}=this.state;l("/analytics#".concat(1==e?"overview":5==e?"shopon":"overview")),5!=e||null!==i&&void 0!==i&&i.length||n(),this.setState({activeTab:e}),(1==e&&s||5==e&&t)&&this.props.getOverView(o,e,a,0)},this.handleState=(e,s)=>{var t,l;let i=[...this.state[e]];i=(null===(t=i)||void 0===t?void 0:t.some(e=>e==s))?null===(l=i)||void 0===l?void 0:l.filter(e=>e!=s):[...this.state[e],s],this.setState({[e]:i})},this.filterIds=(e,s)=>{const{overViewList:t}=this.props;if("overViewWall"===s){const s=null===t||void 0===t?void 0:t.filter(s=>!(null!==e&&void 0!==e&&e.includes(s.id)));return null===s||void 0===s?void 0:s.map(e=>e.id)}},this.generatePDF=async()=>{try{this.setState({generatePDFLoader:!0}),await new Promise(e=>setTimeout(e,3e3));const s=document.querySelectorAll(".pdf-page"),t=new bs.Ay("p","mm","a4"),l=e=>{e.querySelectorAll("img").forEach(e=>{let s=e.getAttribute("src")||"";s=s.replace(/&amp;/g,"&"),s.includes("ui-avatars.com/")&&e.setAttribute("crossorigin","anonymous"),e.setAttribute("src",s)})},i=async e=>{const s=e.querySelectorAll("img");for(let l of s){const e=l.getAttribute("src")||"";if(e.startsWith("http")&&!e.startsWith(window.location.origin))try{const s=await fetch(e,{mode:"cors"}),t=await s.blob(),i=await new Promise(e=>{const s=new FileReader;s.onloadend=()=>e(s.result),s.readAsDataURL(t)});i.startsWith("data:image")?(l.setAttribute("src",i),l.setAttribute("crossorigin","anonymous")):console.warn("\u26a0\ufe0f Not a valid image base64:",e)}catch(t){const s=e.replace(/^https?:\/\//,""),i=await n("https://s3.us-west-1.wasabisys.com/".concat(s));l.setAttribute("src",i||e)}}},n=async e=>{try{const s=await fetch(e),t=await s.blob();return await new Promise((e,s)=>{const l=new FileReader;l.onloadend=()=>e(l.result),l.onerror=s,l.readAsDataURL(t)})}catch(s){return e}},o=e=>{const s=e.querySelectorAll("img"),t=Array.from(s).map(e=>e.complete?Promise.resolve():new Promise(s=>{e.onload=e.onerror=s})),l=new Promise(e=>{requestAnimationFrame(()=>{setTimeout(e,500)})});return Promise.all([...t,l])},a=e=>{const s=e.querySelectorAll('[style*="overflow"], .scrollable'),t=[];return s.forEach(e=>{t.push({el:e,originalHeight:e.style.height,originalOverflow:e.style.overflow}),e.style.height=e.scrollHeight+"px",e.style.overflow="visible"}),()=>{t.forEach(e=>{let{el:s,originalHeight:t,originalOverflow:l}=e;s.style.height=t,s.style.overflow=l})}};for(let r=0;r<s.length;r++){const n=s[r];l(n),await i(n),await o(n);const d=a(n),c=await ws()(n,{scale:1.2,useCORS:!0,allowTaint:!1,backgroundColor:"#efefef"});d();const h=c.toDataURL("image/png");let m=null;if(h.startsWith("data:image/png"))m="PNG";else{if(!h.startsWith("data:image/jpeg")){console.error("Unknown image format. Skipping this page.");continue}m="JPEG"}try{const e=t.internal.pageSize.getWidth(),l=t.getImageProperties(h),i=l.height*e/l.width;t.addImage(h,m,0,0,e,i),r<s.length-1&&t.addPage()}catch(e){console.error("Error adding image to PDF:",e);continue}}t.save("full-report.pdf"),this.setState({generatePDFLoader:!1})}catch(s){console.error("Error generating PDF:",s),this.setState({generatePDFLoader:!1})}}}componentDidUpdate(e,s){const{wallsLoader:t,homeData:l}=this.props,i=window.location.hash.substring(1);e.wallsLoader===t||t||(null!==l&&void 0!==l&&l.allfeedsCount&&(null===l||void 0===l?void 0:l.allfeedsCount)>0?i&&this.changeTab("overview"==i?1:"shopon"==i?5:1):this.props.DEMO_ANALYTICS())}componentWillMount(){const{shopOnList:e,wallsLoader:s,homeData:t,webList:l,shopList:i,flags:n,getFlags:o}=this.props,a=window.location.hash.substring(1);n.length||o(),s||(null===t||void 0===t?void 0:t.allfeedsCount)>0?a&&this.changeTab("overview"==a?1:"shopon"==a?5:1):(this.props.DEMO_ANALYTICS(),this.setState({isDisabled:!0})),l(),null!==e&&void 0!==e&&e.length||"shopon"!=a||i()}componentWillUnmount(){this.props.refresh()}render(){var e,s,t,i,n,o,c,h,m,v;const{activeTab:p,generatePDFLoader:u}=this.state,{overViewList:x,shopOnList:j,wallsLoader:b,homeData:f,userData:y,closeShoppableModal:N}=this.props,A=5==p?j:x,C=null===y||void 0===y||null===(e=y.userData)||void 0===e||null===(s=e.user_data)||void 0===s||null===(t=s.UserRule)||void 0===t?void 0:t.shoppableStatus,k=null!==(i=null===(n=window)||void 0===n?void 0:n.APP_CONTENT)&&void 0!==i?i:{},{Analytics:_,sideBar:D}=k,P=(0,g.C2)();return(0,w.jsxs)(w.Fragment,{children:[u?(0,w.jsx)(fs,{}):null,(0,w.jsxs)(a.A.Container,{id:"left-tabs-example",activeKey:p,onSelect:e=>this.changeTab(e),children:[(0,w.jsx)("div",{className:"sub-crumbs f-between flex-wrap border-bottom h-50px py-0 ".concat(P?"w-100":""),fluid:"true",children:(0,w.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,w.jsx)(js.A,{crumbs:[{name:null!==(o=null===D||void 0===D?void 0:D.analytics)&&void 0!==o?o:"",link:"/analytics",icon:"grid-2"},{name:null!==(c=null===D||void 0===D?void 0:D.home)&&void 0!==c?c:"",link:"/home"},{name:null!==(h=null===D||void 0===D?void 0:D.analytics)&&void 0!==h?h:""}],crumbIcon:"grid-2"})})}),(0,w.jsx)(ks,(0,l.A)((0,l.A)((0,l.A)({},this.state),this.props),{},{isShopify:P,shoppableStatus:C,wallList:A,generatePDF:this.generatePDF,getIds:_s,handleState:this.handleState,filterIds:this.filterIds})),(0,w.jsx)("div",{className:"d-flex flex-column flex-column-fluid full-content",style:P?{}:{paddingTop:"70px"},children:b?(0,w.jsx)("div",{className:"h-100",style:{minHeight:"calc(100vh - 200px)"},children:(0,w.jsx)(De.a,{bg:"body"})}):(0,w.jsxs)("div",{id:"analytics_main",className:"w-100 analytics_",children:[(null===f||void 0===f?void 0:f.allfeedsCount)>0?null:(0,w.jsx)(r.A,{fluid:!0,children:(0,w.jsx)(d.A,{className:"custom-alert",children:null!==(m=null===_||void 0===_?void 0:_.demo_msg)&&void 0!==m?m:""})}),(0,w.jsxs)(a.A.Content,{children:[(0,w.jsx)(a.A.Pane,{eventKey:"1",children:"1"==p?(0,w.jsx)(xe,{generatePDFLoader:u,content:_}):null}),(0,w.jsx)(a.A.Pane,{eventKey:"5",children:"5"==p&&C?(0,w.jsx)(as,{content:null!==(v=null===_||void 0===_?void 0:_.shopon_tab)&&void 0!==v?v:{}}):null})]})]})}),null!==y&&void 0!==y&&y.showShoppableModal?(0,w.jsx)(xs,{userData:y,allWalls:x,hideModal:N}):null]})]})}}const Ps=(0,m.Ng)(e=>{var s,t,l,i,n,o,a,r,d;return{isOverview:null===(s=e.analyticsOverView)||void 0===s?void 0:s.counts_loader,isShopOn:null===(t=e.analyticsShopOn)||void 0===t?void 0:t.shopOnOverview_loader,websiteList:null===(l=e.websiteList)||void 0===l?void 0:l.websiteList,shopOnList:null===(i=e.shopOnList)||void 0===i?void 0:i.shopOnList,overViewList:null===(n=e.dashboardData)||void 0===n||null===(o=n.dashboarddata)||void 0===o?void 0:o.allWalls,wallsLoader:null===(a=e.dashboardData)||void 0===a?void 0:a.wallsLoader,homeData:null===(r=e.dashboardData)||void 0===r?void 0:r.dashboarddata,flags:null===(d=e.analyticsOverView)||void 0===d?void 0:d.flags,userData:e.authorized,analyticsData:e.analyticsOverView}},e=>({updateDateFilter:(s,t,l,i)=>e((0,je.Y2)(s,t,l,i)),getOverView:(s,t,l,i,n)=>e((0,je.Q1)(s,t,l,i,n)),webList:()=>e((0,hs.kQ)()),shopList:()=>e((0,ms.kq)()),refresh:()=>e((0,je.Qp)()),DEMO_ANALYTICS:()=>e((0,je.X3)()),addWebsiteListId:s=>e({type:ps.SB_,payload:s}),addWallId:s=>e({type:ps.icc,payload:s}),getFlags:()=>e((0,je.Vj)()),closeShoppableModal:()=>e({type:ps.knW,payload:!1})}))((0,vs.A)(Ds))},97997:(e,s,t)=>{t.d(s,{A:()=>p});var l=t(45358),i=t(73878),n=t(28429),o=t(28981),a=t(66345),r=t(9996),d=t(26806),c=t(85608),h=t(9950),m=t(52867),v=t(44414);function p(e){var s,t,p,u,x,j,g,w;let{userData:b,allWalls:f,hideModal:y=null,activeKey:N,content:A}=e;const{request:C}=(0,r.P)(),k=(0,i.wA)(),_=(0,n.Zp)(),D=(0,h.useMemo)(()=>{var e,s;return["1",c.vm.secondPaid,c.vm.thirdPaid].includes(null!==(e=null===b||void 0===b||null===(s=b.UserPlan)||void 0===s?void 0:s.planId)&&void 0!==e?e:"")},[null===b||void 0===b||null===(s=b.UserPlan)||void 0===s?void 0:s.planId]),P=e=>{var s;C({method:"POST",url:a.Ft_,body:{shoppableStatus:e?0:1,wallId:null!==(s=null===f||void 0===f?void 0:f.map(e=>e.id))&&void 0!==s?s:[]},onSuccess:()=>{y&&y(),k((0,o.ug)(_,e?"/home":"/content/products"))}})};return(0,v.jsx)(l.A,{fluid:!0,children:(0,v.jsx)("div",{className:"f-center",style:{minHeight:(0,m.C2)()?"calc(100vh - 205px)":"calc(100vh - 300px)"},children:(0,v.jsx)(d.A,{title:null!==(t=null===A||void 0===A?void 0:A.heading)&&void 0!==t?t:"Inspire & Convert with UGC",desc:y?null!==(p=null===A||void 0===A?void 0:A.sub_heading_2)&&void 0!==p?p:"Turn your content into conversions. Enable Shoppable & tag products to drive sales directly from your UGC Gallery.":null!==(u=null===A||void 0===A?void 0:A.sub_heading)&&void 0!==u?u:"Embed shoppable galleries, run UGC-powered ads, and build custom experiences with our API.",icon:"shoppable",button:{action:()=>{if(D){var e,s;const l=null!==(e=null===b||void 0===b||null===(s=b.UserRule)||void 0===s?void 0:s.shoppableStatus)&&void 0!==e?e:0,{modal:i={}}=A;var t;if(l)(0,m.l1)({title:null!==(t=null===i||void 0===i?void 0:i.title)&&void 0!==t?t:"",icon:"warning",showCancelButton:!0,confirmButtonText:null===i||void 0===i?void 0:i.yes,cancelButtonText:null===i||void 0===i?void 0:i.no}).then(e=>{e.value&&P(l)});else P(l)}else _("/price")},text:D?null!==b&&void 0!==b&&null!==(x=b.UserRule)&&void 0!==x&&x.shoppableStatus?null!==(j=null===A||void 0===A?void 0:A.btn)&&void 0!==j?j:"Disable":null!==(g=null===A||void 0===A?void 0:A.btn_2)&&void 0!==g?g:"Enable":null!==(w=null===A||void 0===A?void 0:A.btn_3)&&void 0!==w?w:"Upgrade now"},isFullScreen:!1,activeKey:N})})})}}}]);