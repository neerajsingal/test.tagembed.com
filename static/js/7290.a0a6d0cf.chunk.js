"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[7290],{17290:(l,e,n)=>{n.r(e),n.d(e,{default:()=>L});var o=n(9950),i=n(26787),d=n(73878),s=n(97937),t=n(351),a=n(68459),c=n(45358),u=n(34483),r=n(17595),v=n(5830),m=n(86781),p=n(95942),h=n(54810),x=n(26806),b=n(28429),j=n(19172),g=n(59074),y=n(18633),f=n(52867),N=n(21738),w=n(36431),A=n(74283),C=n(92267),_=n(54480),k=n(64323),I=n(80322),P=n(36611),T=n(22662),U=n(44414);const L=function(){var l,e,n,L,S,F;const[z,B]=(0,o.useState)(!1),{wallsLoader:E}=(0,d.d4)(l=>null===l||void 0===l?void 0:l.dashboardData),[G,O]=(0,o.useState)([]),[D,M]=(0,o.useState)(!1),[W,H]=(0,o.useState)(!1),K=(0,d.d4)(l=>{var e,n;return null===(e=l.dashboardData)||void 0===e||null===(n=e.dashboarddata)||void 0===n?void 0:n.allWalls}),R=(0,d.d4)(l=>{var e;return null===(e=l.websiteList)||void 0===e?void 0:e.websiteList}),Y=(0,b.Zp)(),Z=(0,d.wA)(),{content:q,breadCrumbs:J}=(0,o.useMemo)(()=>{var l,e,n,o;const i=null!==(l=null===(e=window)||void 0===e?void 0:e.APP_CONTENT)&&void 0!==l?l:{};return{content:null!==(n=null===i||void 0===i?void 0:i.content_gallery)&&void 0!==n?n:{},breadCrumbs:null!==(o=null===i||void 0===i?void 0:i.sideBar)&&void 0!==o?o:{}}},[]),Q=((0,f.C2)(),()=>B(!0)),V=l=>{M(!1),l?H(l):(B(!1),O([]))},X=l=>e=>{var n,o,i;e.stopPropagation();const{wallId:d,webId:s}=null!==(n=null===(o=R[0])||void 0===o||null===(i=o.wall)||void 0===i?void 0:i.ThemeInfo)&&void 0!==n?n:{wallId:0,webId:0};(null===l||void 0===l?void 0:l.id)==d?Y("/website/publish/".concat(s)):Y("/publish/".concat(null===l||void 0===l?void 0:l.id))},$=l=>{var e,n,o,i,d,s,t,a;const c=null!==(e=null===(n=window)||void 0===n||null===(o=n.APP_CONTENT)||void 0===o?void 0:o.common)&&void 0!==e?e:{};(0,f.l1)({title:null!==(i=null===c||void 0===c?void 0:c.are_you_sure)&&void 0!==i?i:"",text:null!==(d=null===q||void 0===q||null===(s=q.pop)||void 0===s?void 0:s.msg_delete)&&void 0!==d?d:"",icon:"warning",showCancelButton:!0,cancelButtonText:null!==(t=null===c||void 0===c?void 0:c.cancel)&&void 0!==t?t:"",confirmButtonText:null!==(a=null===c||void 0===c?void 0:c.yes_delete)&&void 0!==a?a:"",confirmButtonAriaLabel:"delete_yes",cancelButtonAriaLabel:"delete_no"}).then(e=>{e.value?Z((0,g.kg)({name:l.name,status:l.status,autoUpdate:l.autoUpdate||0,id:l.id,deleted:0,action:3},null,V)):e.dismiss})},ll=l=>{const[e,n,o]=l;Z((0,g.kg)({name:e.name,carouselPost:e.carouselPost||0,status:"status"==n?o:e.status,autoUpdate:"auto"==n?o:e.autoUpdate||0,id:e.id,deleted:0,action:2},null,null,!0))},el=(l,e,n)=>{localStorage.setItem("wallId",l),e||n?(Z((0,k.LF)()),setTimeout(()=>{Y("/content/moderation/".concat(l))},100)):Y("/content/addfeed/".concat(l))};return(0,o.useEffect)(()=>{const l=A.A.parse(window.location.search);l&&l.addGallery&&B(!0),null!==R&&void 0!==R&&R.length||Z((0,T.M_)(!0))},[]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(i.A,{crumbs:[{name:null===J||void 0===J?void 0:J.contentGallery,link:"/content",icon:"image"},{name:null===J||void 0===J?void 0:J.home,link:"/home"},{name:null===J||void 0===J?void 0:J.contentGallery,link:"/content"}],crumbIcon:"image"}),(0,U.jsxs)(c.A,{className:"container-content-gallery",style:{maxWidth:"100%"},children:[(0,U.jsxs)(m.A,{className:"mb-4 mt-5",children:[(0,U.jsxs)(a.A,{md:6,children:[(0,U.jsx)("h2",{className:"h4 mb-1",children:null!==(l=null===q||void 0===q?void 0:q.heading)&&void 0!==l?l:""}),(0,U.jsx)("p",{className:"fs-8 text-muted mb-0",children:null!==(e=null===q||void 0===q?void 0:q.sub_heading)&&void 0!==e?e:""})]}),(0,U.jsx)(a.A,{md:6,className:"mt-md-0 mt-3",children:(0,U.jsxs)("div",{className:"d-flex justify-content-md-end mb-3",children:[(null===K||void 0===K?void 0:K.length)>10?(0,U.jsx)(P.A,{action:l=>{Z({type:_.s94,payload:l})},data:K,text:null===q||void 0===q?void 0:q.filter}):null,(0,U.jsxs)(s.A,{style:{backgroundColor:"var(--bs-body-bg)"},size:"md",variant:"secondary","aria-label":"Add Channel",onClick:()=>(0,I.Yj)("contentGallery","createGallery",!0)?Q():{},children:[(0,U.jsx)(h.gc,{type:"solid",icon:"plus"})," ",null!==(n=null===q||void 0===q?void 0:q.btn)&&void 0!==n?n:""]})]})})]}),(0,U.jsx)("div",{className:"w-100 sync_products",children:E?(0,U.jsx)(y.a,{}):null!==K&&void 0!==K&&K.length?(0,U.jsx)(m.A,{className:"mx-0 mx-n3",children:K.map((l,e)=>{var n,o,i,d,s,c,m,x,b,j,g,y,A,_,k,I,P,T,L,S;return(0,U.jsx)(a.A,{xl:3,lg:4,md:6,sm:6,className:"gutter-b","data-wall-id":null===l||void 0===l?void 0:l.id,children:(0,U.jsxs)(t.A,{id:"".concat(l.icon,"_btn_"),className:"publish-card h-100 cursor-pointer",onClick:e=>e.target.closest(".dropdown")?{}:el(null===l||void 0===l?void 0:l.id,null===l||void 0===l?void 0:l.totalFeed,null===l||void 0===l?void 0:l.totalPost),children:[(0,U.jsx)("div",{className:"position-absolute top-0 end-0 mt-3 me-2",children:(0,U.jsxs)(u.A,{children:[(0,U.jsx)(v.A,{placement:"top",overlay:(0,U.jsx)(p.A,{children:null!==(n=null===q||void 0===q||null===(o=q.card)||void 0===o?void 0:o.options)&&void 0!==n?n:"Options"}),children:(0,U.jsx)(u.A.Toggle,{variant:"secondary","aria-label":"more",className:"arrow_disabled dropdown-toggle border-0 d-inline-flex py-1 px-3",children:(0,U.jsx)(h.gc,{icon:"ellipsis-vertical",size:20,iconClass:"me-0"})})}),(0,U.jsxs)(u.A.Menu,{children:[(0,U.jsxs)(u.A.Item,{onClick:()=>(l=>{B(!0),O(l)})(l),className:"fs-8",children:[(0,U.jsx)("span",{className:"me-2",children:(0,U.jsx)(h.gc,{type:"solid",icon:"edit"})}),null!==(i=null===q||void 0===q||null===(d=q.pop)||void 0===d?void 0:d.rename)&&void 0!==i?i:"Rename"]}),(0,U.jsxs)(u.A.Item,{onClick:X(l),className:"fs-8",children:[(0,U.jsx)("span",{className:"me-2 fs-8",children:(0,U.jsx)(h.gc,{type:"solid",icon:"paper-plane"})}),null!==(s=null===q||void 0===q||null===(c=q.pop)||void 0===c?void 0:c.publish)&&void 0!==s?s:"Publish"]}),(0,U.jsxs)(u.A.Item,{onClick:()=>$(l),className:"fs-8",children:[(0,U.jsx)("span",{className:"me-2",children:(0,U.jsx)(h.gc,{type:"solid",icon:"trash-can"})}),null!==(m=null===q||void 0===q||null===(x=q.pop)||void 0===x?void 0:x.delete)&&void 0!==m?m:"Delete"]}),(0,U.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:l=>l.stopPropagation(),children:[(0,U.jsx)(r.A.Label,{htmlFor:"cont_a_u",className:"mb-0 fs-8",children:null!==(b=null===q||void 0===q||null===(j=q.pop)||void 0===j?void 0:j.auto_update)&&void 0!==b?b:"Auto update"}),(0,U.jsx)(r.A.Check,{type:"switch",id:"cont_a_u",checked:null===l||void 0===l?void 0:l.autoUpdate,onChange:()=>{var e,n;return null!==l&&void 0!==l&&l.autoUpdate?(0,f.zO)(null!==(e=null===q||void 0===q||null===(n=q.pop)||void 0===n?void 0:n.msg_auto_update_off)&&void 0!==e?e:"",ll,[l,"auto",Number(!(null!==l&&void 0!==l&&l.autoUpdate))]):ll([l,"auto",Number(!(null!==l&&void 0!==l&&l.autoUpdate))])}})]}),(0,U.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:l=>l.stopPropagation(),children:[(0,U.jsx)(r.A.Label,{htmlFor:"cont_s",className:"mb-0 fs-8",children:null!==(g=null===q||void 0===q||null===(y=q.pop)||void 0===y?void 0:y.status)&&void 0!==g?g:"Status"}),(0,U.jsx)(r.A.Check,{type:"switch",id:"cont_s",checked:null===l||void 0===l?void 0:l.status,onChange:()=>{var e,n;return null!==l&&void 0!==l&&l.status?(0,f.zO)(null!==(e=null===q||void 0===q||null===(n=q.pop)||void 0===n?void 0:n.msg_status_off)&&void 0!==e?e:"",ll,[l,"status",Number(!(null!==l&&void 0!==l&&l.status))]):ll([l,"status",Number(!(null!==l&&void 0!==l&&l.status))])}})]})]})]})}),(0,U.jsx)(t.A.Body,{className:"flex-column f-center px-3 py-0",children:(0,U.jsxs)("div",{className:"d-flex w-100 flex-wrap",children:[(0,U.jsxs)("div",{className:"d-flex align-items-center",children:[(0,U.jsx)(w.A,{imageSize:40,symbolClass:"symbol-label",className:"symbol symbol-54 fs-2 rounded-2 flex-shrink-0 me-2 overflow-hidden",name:l.name,profileUrl:l.thumbnail,networkId:28}),(0,U.jsxs)("div",{className:"publish-detail d-flex flex-column ms-2",children:[(0,U.jsx)("strong",{className:"h4 mb-0 pe-3 custom-truncate-1 text-capitalize",children:null===l||void 0===l?void 0:l.name}),(0,U.jsxs)("span",{className:"fs-9 text-capitalize",children:[null===l||void 0===l?void 0:l.totalPost," ",null===q||void 0===q||null===(A=q.card)||void 0===A?void 0:A.post," | ",(null===l||void 0===l?void 0:l.totalFeed)||0," ",null===q||void 0===q||null===(_=q.card)||void 0===_?void 0:_.feed]})]})]}),(0,U.jsxs)("div",{className:"content-foot mt-5 align-items-center d-flex justify-content-between w-100",children:[null!==l&&void 0!==l&&null!==(k=l.networkIds)&&void 0!==k&&k.length?(0,U.jsx)(C.A,{networkList:null===l||void 0===l?void 0:l.networkIds}):(0,U.jsx)("div",{children:(0,U.jsxs)("span",{className:"me-2 btn btn-sm bg-secondary border",children:[(0,U.jsx)(h.gc,{type:"regular",iconClass:"me-0",icon:"grid-2-plus"}),(0,U.jsx)("span",{className:"ms-2 ",children:null===q||void 0===q||null===(I=q.card)||void 0===I?void 0:I.add_feeds})]})}),(0,U.jsxs)("div",{children:[(0,U.jsx)(N.A,{cssClName:"light",overlayText:null!==(P=null===q||void 0===q||null===(T=q.card)||void 0===T?void 0:T.edit)&&void 0!==P?P:"Edit",children:(0,U.jsx)("span",{onClick:e=>el(null===l||void 0===l?void 0:l.id,null===l||void 0===l?void 0:l.totalFeed),className:"me-2 btn btn-sm bg-secondary border",children:(0,U.jsx)(h.gc,{type:"solid",iconClass:"me-0",icon:"edit"})})}),(0,U.jsx)(N.A,{cssClName:"light",overlayText:null!==(L=null===q||void 0===q||null===(S=q.card)||void 0===S?void 0:S.publish)&&void 0!==L?L:"Publish",children:(0,U.jsx)("span",{onClick:X(l),className:"me-2 btn btn-sm bg-secondary border",children:(0,U.jsx)(h.gc,{type:"solid",iconClass:"me-0",icon:"paper-plane"})})})]})]})]})})]})},e)})}):(0,U.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 240px)"},children:(0,U.jsx)(x.A,{title:null!==(L=null===q||void 0===q?void 0:q.empty_msg)&&void 0!==L?L:"",desc:null!==(S=null===q||void 0===q?void 0:q.empty_sub_msg)&&void 0!==S?S:"",icon:"media",button:{text:null!==(F=null===q||void 0===q?void 0:q.btn)&&void 0!==F?F:"",action:Q},isFullScreen:!1})})})]}),z&&(0,U.jsx)(j.A,{show:z,apiError:W,setApiError:H,title:"Gallery",onUpdate:(l,e,n,o,i)=>{e&&e.length>0&&(M(!0),Z((0,g.kg)({name:null===e||void 0===e?void 0:e.trim(),carouselPost:i||0,status:n,id:l,autoUpdate:o||0,deleted:0,action:2},null,V)))},editContent:G,handleClose:()=>{O([]),B(!1),H("")},deleteContent:$,spinner:D,setSpinner:M,statusKey:!0,callback:V,navigate:Y,content:null===q||void 0===q?void 0:q.pop})]})}}}]);