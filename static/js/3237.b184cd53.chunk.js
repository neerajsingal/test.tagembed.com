"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[3237],{36284:(e,l,t)=>{t.d(l,{A:()=>v});var i=t(9950),s=t(42074),o=t(45358),a=t(34483),n=t(1391),d=t(54810),r=t(52867),c=t(44414);class u extends i.Component{constructor(){super(...arguments),this.isShopify=(0,r.C2)()}isActive(e){return window.location.href.includes(e)?"active":""}render(){var e,l,t,i,n,u,v,h,p,m,g,x,_,b,y,j,f,N,w;const{websiteUrl:C,navigate:A}=this.props,S=((0,r.C2)(),null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t?void 0:t.publish)&&void 0!==e?e:{}),T=this.isShopify;return(0,c.jsx)("div",{className:"subheader",children:(0,c.jsxs)(o.A,{fluid:!0,children:[(0,c.jsxs)("div",{className:"nav nav-underline d-none d-lg-flex",children:[(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(s.N_,{to:"/website/".concat(C,"/").concat(localStorage.getItem("website_id")||""),className:"nav-link ".concat(this.isActive("website")),title:null!==(i=S.websiteLabel)&&void 0!==i?i:"",children:[(0,c.jsx)(d.gc,{icon:"browser",iconClass:"me-1"}),null!==(n=S.websiteLabel)&&void 0!==n?n:""]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(s.N_,{to:"/shopon-bio/preview/".concat(localStorage.getItem("shopOn_id")||""),className:"nav-link ".concat(this.isActive("shopon-bio")),title:null!==(u=S.shoponBioLabel)&&void 0!==u?u:"",children:[(0,c.jsx)(d.gc,{icon:"link",iconClass:"me-1"}),null!==(v=S.shoponBioLabel)&&void 0!==v?v:""]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(s.N_,{to:"/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")||""),className:"nav-link ".concat(this.isActive("email-campaign")),title:null!==(h=S.emailCampaignLabel)&&void 0!==h?h:"",children:[(0,c.jsx)(d.gc,{icon:"bullhorn",iconClass:"me-1"}),null!==(p=S.emailCampaignLabel)&&void 0!==p?p:""]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(s.N_,{to:"/more-publish/",className:"nav-link ".concat(this.isActive("more-publish")),title:null!==(m=S.moreLabel)&&void 0!==m?m:"",children:[(0,c.jsx)(d.gc,{icon:"ellipsis",iconClass:"me-1"}),null!==(g=S.moreLabel)&&void 0!==g?g:""]})})]}),(0,c.jsxs)(a.A,{className:"d-flex ".concat(T?"d-none":"d-lg-none"),style:{marginTop:"5px"},children:[(0,c.jsx)(a.A.Toggle,{variant:"secondary",id:"subheader-tabs",children:window.location.href.includes("website")?null!==(x=S.websiteLabel)&&void 0!==x?x:"":window.location.href.includes("shopon-bio")?null!==(_=S.shoponBioLabel)&&void 0!==_?_:"":window.location.href.includes("email-campaign")?null!==(b=S.emailCampaignLabel)&&void 0!==b?b:"":window.location.href.includes("more-publish")&&null!==(y=S.moreLabel)&&void 0!==y?y:""}),(0,c.jsxs)(a.A.Menu,{children:[(0,c.jsxs)(a.A.Item,{onClick:()=>A("/website/".concat(C,"/").concat(localStorage.getItem("website_id")||"")),className:this.isActive("website"),children:[(0,c.jsx)(d.gc,{icon:"browser",iconClass:"me-1"}),null!==(j=S.websiteLabel)&&void 0!==j?j:""]}),(0,c.jsxs)(a.A.Item,{onClick:()=>A("/shopon-bio/preview/".concat(localStorage.getItem("shopOn_id")||"")),className:this.isActive("shopon-bio"),children:[(0,c.jsx)(d.gc,{icon:"link",iconClass:"me-1"}),null!==(f=S.shoponBioLabel)&&void 0!==f?f:""]}),(0,c.jsxs)(a.A.Item,{onClick:()=>A("/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")||"")),className:this.isActive("email-campaign"),children:[(0,c.jsx)(d.gc,{icon:"bullhorn",iconClass:"me-1"}),null!==(N=S.emailCampaignLabel)&&void 0!==N?N:""]}),(0,c.jsxs)(a.A.Item,{onClick:()=>A("/more-publish/"),className:this.isActive("more-publish"),children:[(0,c.jsx)(d.gc,{icon:"ellipsis",iconClass:"me-1"}),null!==(w=S.moreLabel)&&void 0!==w?w:""]})]})]})]})})}}const v=(0,n.A)(u)},39610:(e,l,t)=>{t.d(l,{m:()=>a});var i=t(3162),s=t(54480),o=t(52867);const a=function(){var e,l,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,d=arguments.length>1?arguments[1]:void 0;const r=null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t?void 0:t.common)&&void 0!==e?e:{},c=i.A.getState().appData,u=i.A.getState().websiteList;var v,h,p;d&&a?a():(null!==c&&void 0!==c&&c.is_themes_change||null!==c&&void 0!==c&&c.is_backgroun_change||null!==c&&void 0!==c&&c.is_banner_IMG_change||null!==c&&void 0!==c&&c.is_banner_change||null!==c&&void 0!==c&&c.is_card_style_change||null!==c&&void 0!==c&&c.is_theme_setting_change||null!==c&&void 0!==c&&c.is_custome_css_change||null!==c&&void 0!==c&&c.is_magic_upload_change||null!==c&&void 0!==c&&c.is_cta_setting_change||null!==c&&void 0!==c&&c.is_utm_tracker_change||null!==c&&void 0!==c&&c.is_wall_change||null!==c&&void 0!==c&&c.isHeaderUpdate||null!==c&&void 0!==c&&c.is_hash_changed)&&(null===u||void 0===u?void 0:u.websiteList.length)>0?(0,o.l1)({title:null!==(v=null===r||void 0===r?void 0:r.changes_not_saved)&&void 0!==v?v:"",icon:"warning",showCancelButton:!0,confirmButtonText:null!==(h=null===r||void 0===r?void 0:r.save_continue)&&void 0!==h?h:"",confirmButtonColor:"var(--bs-success)",cancelButtonText:null!==(p=null===r||void 0===r?void 0:r.discard)&&void 0!==p?p:""}).then(e=>{if("backdrop"!=e.dismiss)if(e.isConfirmed){const e=document.querySelector("#saveSetting");e?e.click():i.A.dispatch({type:s.A_O,payload:!0})}else n(a||c.callBackAction)}):(null===u||void 0===u?void 0:u.websiteList.length)<=0?(i.A.dispatch({type:s.thS,payload:!1}),a?a():c.callBackAction()):a?a():c.callBackAction()},n=e=>{const l=document.querySelector("#discardSetting");l&&(l.setAttribute("data-nav","nav-click"),l.click()),e()}},52057:(e,l,t)=>{t.r(l),t.d(l,{default:()=>jt});var i=t(89379),s=t(9950),o=t(51960),a=t(97937),n=t(98361),d=t(45358),r=t(351),c=t(80409),u=t(54810),v=t(73878),h=t(34733),p=t(42074),m=t(86781),g=t(68459),x=t(75623),_=t(17595),b=t(5830),y=t(95942),j=t(30615),f=t(58101),N=t(52867),w=t(44414);const C=e=>{let{count:l}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-success text-gray-100 fs-9 flex-shrink-0",style:{lineHeight:"20px"},children:l})};class A extends s.Component{constructor(){super(...arguments),this.state={width:100,height:100,widthPr:"%",heightPr:"%",copied:!1,wUnit:{value:"percent",label:"%"},hUnit:{value:"percent",label:"%"},searchData:[],isLoading:!1,searchPost:null,openDropdwn:!1,isPreview:!1,copied:!1,activeEmbed:1},this.changeSizeUnit=(e,l,t,i)=>this.setState({[e]:l,[t]:"%"==l.label&&Number(i)>100?100:i}),this.changeSize=(e,l,t)=>{const i=Math.max(0,"%"===t.label?Math.min(100,e.target.value):e.target.value);this.setState({[l]:i})},this.setOpenPopup=()=>this.setState({openPopup:!1}),this.copyText=e=>{(0,N.x_)(e),this.setState({copied:!0}),setTimeout(()=>{this.setState({copied:!1})},1e3)}}render(){var e,l,t,i,s,o,n,d,r,c,v,h,p,A,S,T;const{width:k,height:I,wUnit:D,openPopup:L,copied:P,hUnit:E,activeEmbed:F}=this.state,{platform:B,galleryType:O,allTags:R,count:U,dataTag:H,source:M,content:z}=this.props;var G=U;const Y=[{value:"percent",label:"%"},{value:"pixel",label:"px"}],V=null===(e=window)||void 0===e?void 0:e.APP_CONTENT,{moderation:W,publish:K,emailCampaign:q}=V,{galleryTypeObj:$={}}=null!==K&&void 0!==K?K:{},{productPage:J,commonContent:X,plateform:Z,modal:Q,shopifyPublish:ee}=$;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(C,{count:G}),null!==(l=null===X||void 0===X?void 0:X.adjusted_size)&&void 0!==l?l:""]}),(0,w.jsxs)(m.A,{className:"embed_size_ mb-5",style:{maxWidth:991},children:[(0,w.jsx)(g.A,{sm:6,children:(0,w.jsxs)(x.A,{className:"mb-3",children:[(0,w.jsx)(x.A.Text,{id:"width_",children:"Width"}),(0,w.jsx)(_.A.Control,{type:"number",max:"%"==D.label?"100":"",min:0,value:k,onChange:e=>this.changeSize(e,"width",D)}),(0,w.jsx)(x.A.Text,{className:"p-0 ps-1 bg-transparent",children:(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",value:D,isSearchable:!1,options:Y,onChange:e=>this.changeSizeUnit("wUnit",e,"width",k)})})]})}),(0,w.jsx)(g.A,{sm:6,children:(0,w.jsxs)(x.A,{className:"mb-3",children:[(0,w.jsx)(x.A.Text,{id:"height_",children:"Height"}),(0,w.jsx)(_.A.Control,{type:"number",max:"%"==E.label?"100":"",min:0,value:I,onChange:e=>this.changeSize(e,"height",E)}),(0,w.jsx)(x.A.Text,{className:"p-0 ps-1 bg-transparent",children:(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",value:E,isSearchable:!1,options:Y,onChange:e=>this.changeSizeUnit("hUnit",e,"height",I)})})]})})]}),2==O?(0,w.jsxs)("div",{className:"mb-7",children:[(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(C,{count:G+1}),null!==(t=null===J||void 0===J?void 0:J.publishCodeId)&&void 0!==t?t:""]}),(0,w.jsx)("div",{className:"ps-8",children:(0,w.jsxs)("p",{children:[null!==(i=null===J||void 0===J?void 0:J.publishCodeIdExample)&&void 0!==i?i:""," "]})})]}):null,(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(C,{count:G+(2==O?2:1)}),null!==(s=null===(o=Z[B])||void 0===o?void 0:o.text)&&void 0!==s?s:""]}),(0,w.jsxs)("div",{className:"position-relative mb-".concat(1==F?7:0," embed_code embed_code_box iframe_embcode_box rounded-3"),children:[(0,w.jsx)("div",{className:"embed-border p-2",children:(0,w.jsxs)("div",{className:"embed_code_wrap",children:[(0,w.jsxs)("div",{className:"nav-ul mb-2",children:[(0,w.jsx)("button",{className:"btn btn-sm me-1 ".concat(1==F?"btn-primary":""),onClick:()=>this.setState({activeEmbed:1}),children:null!==(n=null===W||void 0===W?void 0:W.btn_litecode)&&void 0!==n?n:""}),(0,w.jsx)("button",{className:"btn btn-sm ".concat(2==F?"btn-primary":""),onClick:()=>this.setState({activeEmbed:2}),children:null!==(d=null===W||void 0===W?void 0:W.btn_iframe)&&void 0!==d?d:""})]}),(0,w.jsx)("code",{className:"form-control textarea-min-row-4 p-lg-4 fs-9",id:"embed_code_",onClick:()=>{this.copyText("embed_code_")},children:(0,N.dc)(O,F,k,I,D,E,H,R,M)})]})}),(0,w.jsxs)("div",{className:"position-absolute end-0 bottom-0 pe-5 pb-5",children:[(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:P?null!==(c=null===ee||void 0===ee?void 0:ee.copied_code)&&void 0!==c?c:"":null!==(r=null===ee||void 0===ee?void 0:ee.copy_code)&&void 0!==r?r:""}),children:(0,w.jsx)(a.A,{variant:"link",className:"text-gray-300 fs-6 p-0 me-2",onClick:()=>this.copyText("embed_code_"),children:(0,w.jsx)(u.gc,{type:"solid",icon:P?"check":"copy",iconClass:P?"text-success":""})})}),(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:null!==(v=null===q||void 0===q?void 0:q.shareCodeTooltip)&&void 0!==v?v:""}),children:(0,w.jsx)(a.A,{variant:"link",className:"text-gray-300 fs-6 GetShareCode",onClick:e=>this.setState({openPopup:!0}),children:(0,w.jsx)(u.gc,{type:"solid",icon:"envelope",iconClass:"me-0"})})})]})]}),2==F?(0,w.jsx)("p",{className:"text-muted fs-8 mb-6 ms-2",children:null!==(h=null===W||void 0===W?void 0:W.iframe_note)&&void 0!==h?h:""}):null,L?(0,w.jsx)(f.A,{type:4,text:null!==(p=null===Q||void 0===Q||null===(A=Q.ShareCodeModal)||void 0===A?void 0:A.text)&&void 0!==p?p:"",heading:null!==(S=null===Q||void 0===Q||null===(T=Q.ShareCodeModal)||void 0===T?void 0:T.heading)&&void 0!==S?S:"",onClose:e=>this.setState({openPopup:!1}),codeId:"#embed_code_"}):null]})}}const S=(0,v.Ng)(e=>{var l,t;return{userData:null===(l=e.authorized)||void 0===l||null===(t=l.userData)||void 0===t?void 0:t.user_data,appData:e.appData}})(A);var T=t(10274),k=t(66345);const I=e=>{let{count:l}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-primary text-gray-100 fs-9 flex-shrink-0",style:{lineHeight:"20px"},children:l})};class D extends s.Component{constructor(){var e,l,t;super(...arguments),this.state={searchData:[],isLoading:!1,searchPost:null,isPreview:!1,dataTag:!1,copied:!1},this.pageContent=null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t?void 0:t.publish)&&void 0!==e?e:{},this.copyText=e=>{var l=document.getElementById("wallembedareaLiteCode03").value;navigator.clipboard.writeText(l),this.setState({copied:!0}),setTimeout(()=>{this.setState({copied:!1})},1e3)},this.onLoad=(0,N.sg)(e=>{if(!e.length)return this.setState({searchData:[],isLoading:!1});this.setState({isLoading:!0}),(0,T.JT)(e).then(e=>{let{data:{responseData:l,responseStatus:t}}=e;this.setState({searchData:t?l.tags.map((e,l)=>({label:e,value:l})):[],isLoading:!1})})},500),this.onClickToAddTags=e=>{let{label:l}=e;this.props.allTags.includes(l)||this.props.ADD_SELECTED_TAGS(l)},this.removeTags=e=>{this.props.REMOVE_SELECTED_TAGS(e),setTimeout(()=>{this.onTagsEmbedSave(3)},500)},this.onTagsEmbedSave=e=>{const{allTags:l}=this.props,{galleryTypeObj:t={}}=this.pageContent;var i,s,o,a;1==e&&(this.setState({isPreview:!1}),l.length>0&&this.setState({dataTag:!0},()=>this.props.updateData(!0)),(0,N.k1)(null!==(i=null===t||void 0===t||null===(s=t.msg)||void 0===s?void 0:s.embedGenerated)&&void 0!==i?i:""));2==e&&(l.length>0?this.setState({isPreview:!0,dataTag:!0},()=>this.props.updateData(!0)):(0,N.r$)(null!==(o=null===t||void 0===t||null===(a=t.msg)||void 0===a?void 0:a.emptyTag)&&void 0!==o?o:""));3==e&&(l.length>0||this.setState({isPreview:!1,dataTag:!1},()=>this.props.updateData(!1))),(0,T.q4)(l).then(e=>{const{tags:l,status:t}=e.data;t?this.setState({searchData:l,isLoading:!1}):this.setState({searchData:[],isLoading:!0})})}}componentDidMount(){this.setState({dataTag:this.props.allTags.length>0})}render(){var e,l,t,i,s,o,n;const{searchData:d,isPreview:r,dataTag:c,isLoading:v}=this.state,{allTags:h,count:p}=this.props,{galleryTypeObj:m={}}=this.pageContent;return(0,w.jsxs)("div",{style:{maxWidth:991},children:[(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsxs)("p",{className:"h6 mb-4 d-flex",children:[(0,w.jsx)(I,{count:p}),null!==(e=null===m||void 0===m||null===(l=m.tagBased)||void 0===l?void 0:l.selectTag)&&void 0!==e?e:""]}),(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",options:d,onInputChange:(e,l)=>{let{action:t}=l;return this.onLoad(e,t)},onChange:e=>this.onClickToAddTags(e),isLoading:v,placeholder:null===m||void 0===m||null===(t=m.tagBased)||void 0===t?void 0:t.selectTagPlaceholder,noOptionsMessage:()=>{var e,l;return v?null!==(e=null===m||void 0===m?void 0:m.msg.loadingText)&&void 0!==e?e:"":null!==(l=null===m||void 0===m?void 0:m.msg.options_found)&&void 0!==l?l:""},value:""})}),(0,w.jsx)("div",{className:"mb-1",children:(0,w.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:h.length>0?h.map((e,l)=>(0,w.jsxs)("div",{"data-id":"tag",className:"badge bg-secondary px-3 py-2 border me-2 mb-2",children:[(0,w.jsx)("span",{className:"text-break",style:{whiteSpace:"normal"},children:e}),(0,w.jsx)(a.A,{variant:"link",size:"sm",className:"p-0 ms-1 text-gray-800",onClick:()=>this.removeTags(e),children:(0,w.jsx)(u.gc,{icon:"xmark",iconClass:"me-0"})})]},l)):null})})]}),(0,w.jsxs)("div",{className:"px-lg-3 mb-5",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-start mb-5",children:[(0,w.jsxs)(a.A,{id:"generate_code_",className:"me-2",disabled:!(h.length>0),onClick:()=>this.onTagsEmbedSave(1),children:[(0,w.jsx)(u.gc,{icon:"sparkles"}),null!==(i=null===m||void 0===m||null===(s=m.tagBased)||void 0===s?void 0:s.generatecode)&&void 0!==i?i:""]}),(0,w.jsx)(a.A,{id:"preview_btn_",variant:"secondary",disabled:!(h.length>0),onClick:()=>this.onTagsEmbedSave(2),children:null!==(o=null===m||void 0===m||null===(n=m.commonContent)||void 0===n?void 0:n.preview)&&void 0!==o?o:""})]}),r?(0,w.jsx)("div",{className:"tag_iframe_preview mb-5 border p-1 rounded-1",children:(0,w.jsx)("iframe",{id:"tag_preview",src:"".concat(k.gEI).concat(localStorage.getItem("website_id"),"/editor?tags=true&keywords=").concat(c&&h.length>0?h.join(","):"","&website=true")})}):""]})]})}}const L=(0,v.Ng)(e=>{const{allTags:l}=e;return{allTags:null===l||void 0===l?void 0:l.selectedTags}},e=>({ADD_SELECTED_TAGS:l=>e((0,T.wR)(l)),REMOVE_SELECTED_TAGS:l=>e((0,T.fX)(l))}))(D);var P=t(83045),E=t(59051),F=t.n(E),B=t(19360),O=t(1093);const R=e=>{let{toolTip:l,clickAction:t,iconImg:i}=e;return(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:l}),children:(0,w.jsx)(a.A,{id:"action-".concat(i),variant:"icon",className:"btn-active-primary ms-2","aria-label":l,onClick:e=>t(),children:(0,w.jsx)(u.gc,{icon:i})})})},U=e=>{var l,t,i,o,n,d,r,c,u,v,h,p,x,b,y;let{ShopifyData:f,themeoption:N,showSection:C,themepageoption:A,galleryoptions:S,positionoption:T,publishGallery:k,onChangePages:I,onThemeChange:D,onSectionChange:L,deleteGallery:P,publishOption:E,onPositionChange:U,requestShopify:H,galleryType:M,pageData:z,page:G,themeSection:Y,section:V,positions:W,position:K,loader:q}=e;const[$,J]=(0,s.useState)(!(f&&f.embedData&&f.embedData.length>0)),[X,Z]=(0,s.useState)(!1),Q=()=>{Z(!1),J(!1)};(0,s.useEffect)(()=>{var e;q||J(!(null!==f&&void 0!==f&&null!==(e=f.embedData)&&void 0!==e&&e.length))},[f,q]);const ee=null!==(l=null===(t=window)||void 0===t||null===(i=t.APP_CONTENT)||void 0===i||null===(o=i.publish)||void 0===o?void 0:o.galleryTypeObj)&&void 0!==l?l:{},{autopubTable:le,autoPublish:te}=ee,{form:ie}=te;return q?(0,w.jsxs)(m.A,{children:[(0,w.jsx)(g.A,{sm:8,children:(0,w.jsx)("div",{className:"sk_rect h-36px w-100 my-1"})}),(0,w.jsx)(g.A,{sm:4,children:(0,w.jsx)("div",{className:"sk_rect h-36px w-100 my-1"})})]}):(0,w.jsx)(w.Fragment,{children:$?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h5",{className:"",children:null!==(p=null===te||void 0===te?void 0:te.heading)&&void 0!==p?p:""}),(0,w.jsx)("p",{className:"fs-7 mb-5",children:null!==(x=null===te||void 0===te?void 0:te.info)&&void 0!==x?x:""}),(0,w.jsxs)(m.A,{className:"mb-3",children:[1==M?(0,w.jsx)(g.A,{sm:6,children:(0,w.jsxs)(_.A.Group,{className:"mb-3",children:[(0,w.jsxs)(_.A.Label,{children:[" ",null!==(b=null===ie||void 0===ie?void 0:ie.landing_page)&&void 0!==b?b:""," "]}),null!==f&&void 0!==f&&f.pages?(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",options:z,value:G,onChange:I},"".concat(M,"_").concat(E)):(0,w.jsx)("p",{className:"text-center fw-semibold text-muted mb-0 p-2",children:null===ie||void 0===ie?void 0:ie.error})]})}):"",(0,w.jsx)(g.A,{sm:6,children:(0,w.jsxs)(_.A.Group,{className:"mb-3",children:[(0,w.jsxs)(_.A.Label,{children:[null===ie||void 0===ie?void 0:ie.dawn_theme," ",2==M?null===ie||void 0===ie?void 0:ie.product_page:null===ie||void 0===ie?void 0:ie.home_page,"  ",null===ie||void 0===ie?void 0:ie.sections]}),H?(0,w.jsx)("p",{className:"sk_line sk_line_height_30 rounded sk_line_40 m-0 mb-3 sk_line_100"}):null!==Y&&void 0!==Y&&Y.length?(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",id:"themepageoption".concat(E),options:Y,defaultValue:V,onChange:L},"".concat(A,"_").concat(M)):(0,w.jsx)("p",{className:"text-center fw-semibold text-muted mb-0 p-2",children:null===ie||void 0===ie?void 0:ie.error})]})}),(0,w.jsx)(g.A,{sm:6,children:(0,w.jsxs)(_.A.Group,{className:"mb-3",children:[(0,w.jsxs)(_.A.Label,{children:[null===ie||void 0===ie?void 0:ie.position_on," ",2==M?null===ie||void 0===ie?void 0:ie.product:""," ",null===ie||void 0===ie?void 0:ie.page]}),(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",id:"Position".concat(M),options:W,onChange:U,defaultValue:K},"".concat(T,"_").concat(M))]})})]}),Object.keys(null!==f&&void 0!==f?f:{}).length>0&&(0,w.jsx)("div",{className:"d-flex justify-content-end",children:(0,w.jsx)(a.A,{className:X?"spinner":"",onClick:()=>{Z(!0),k(Q)},children:null!==(y=null===te||void 0===te?void 0:te.public_gallery)&&void 0!==y?y:""})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(m.A,{children:[(0,w.jsxs)(g.A,{sm:8,children:[(0,w.jsx)("h5",{className:"mb-3",children:null!==(n=null===te||void 0===te?void 0:te.heading2)&&void 0!==n?n:""}),(0,w.jsx)(B.A,{variant:"warning",style:{maxWidth:991},children:null!==(d=null===te||void 0===te?void 0:te.alt)&&void 0!==d?d:""})]}),(0,w.jsx)(g.A,{sm:4,children:(0,w.jsx)("div",{className:"d-flex justify-content-center justify-content-lg-end",children:(0,w.jsx)(a.A,{onClick:()=>J(!0),children:null!==(r=null===te||void 0===te?void 0:te.button)&&void 0!==r?r:""})})})]}),(0,w.jsxs)(O.A,{responsive:!0,children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsxs)("th",{children:[" ",null!==(c=null===le||void 0===le?void 0:le.page)&&void 0!==c?c:""]}),(0,w.jsxs)("th",{children:[" ",null!==(u=null===le||void 0===le?void 0:le.position)&&void 0!==u?u:""]}),(0,w.jsxs)("th",{children:[" ",null!==(v=null===le||void 0===le?void 0:le.dataInst)&&void 0!==v?v:""]})]})}),(0,w.jsx)("tbody",{children:f&&f.embedData&&f.embedData.length?f.embedData.map((e,l)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:e.pageTitle}),(0,w.jsx)("td",{children:e.position}),(0,w.jsxs)("td",{className:"text-nowrap",children:[F()(e.createdAt).format("MMMM DD, YYYY, hh:mm:ss A")," "]}),(0,w.jsx)("td",{className:"text-right",children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,w.jsx)(R,{toolTip:"View",clickAction:()=>window.open("//".concat(e.domain)),iconImg:"eye"}),(0,w.jsx)(R,{toolTip:"Remove",clickAction:()=>P(e.id),iconImg:"trash-can"})]})})]},l)):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colspan:"3",className:"text-center text-muted py-5 mt-4 border-bottom w-100",style:{display:"table-cell"},children:null!==(h=null===te||void 0===te?void 0:te.not_found)&&void 0!==h?h:""})})})]})]})})};var H=t(54480),M=t(14313);const z=e=>{const l=new FormData;return l.append("wallId",localStorage.getItem("active_wall")),e?l.append("type","product"):l.append("type","other"),e=>{e({type:H.Hfk,payload:!0}),(new M.A).post(k.Ag$,l).then(l=>{const{status:t,data:i}=l.data;e({type:H.tfS,payload:i}),setTimeout(()=>e({type:H.Hfk,payload:!1}),700)}).catch(e=>{console.log("ERROR",e)})}},G=e=>{let{count:l}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-primary text-gray-100 fs-9 flex-shrink-0 flex-shrink-0",style:{lineHeight:"20px"},children:l})};class Y extends s.Component{constructor(){super(...arguments),this.state={theme:"",page:"",section:"",position:{label:"Top",value:"0"},pageData:[],themeSection:!1,copied:!1,defaultActiveKey:"theme_ex",positions:[{label:"Top",value:"0"},{label:"Bottom",value:"1"}],dataTag:!1},this.copyText=e=>{(0,N.x_)(e),this.setState({copied:!0}),setTimeout(()=>{this.setState({copied:!1})},1e3)},this.setShopifyData=()=>{var e,l,t,i,s,o;const{ShopifyData:a}=this.props;let n=[],d=[],r=[];null===(e=Object.entries(a.storeThemes.length?a.storeThemes[0]:""))||void 0===e||e.map(e=>{let[l,t]=e;return n.push({label:l,value:"".concat(t.dawn,",").concat(t.id)})}),a.themeSection.length&&a.themeSection.map(e=>r.push({value:e.section,label:e.title})),null===(l=Object.entries(null===a||void 0===a?void 0:a.pages))||void 0===l||l.map(e=>{let[l,t]=e;return d.push({label:l,value:"".concat(l,",").concat(t)})}),this.setState({pageData:d,theme:null!==(t=null===n||void 0===n||null===(i=n[0])||void 0===i?void 0:i.value)&&void 0!==t?t:"",page:null!==(s=null===d||void 0===d?void 0:d[0])&&void 0!==s?s:"",section:null!==(o=null===r||void 0===r?void 0:r[0])&&void 0!==o?o:"",themeSection:r,position:this.state.positions[0]})},this.onThemeChange=e=>this.setState({theme:e.value}),this.onSectionChange=e=>this.setState({section:e}),this.onPositionChange=e=>this.setState({position:e}),this.onChangePages=e=>{e.value.includes("HomePage"),this.setState({page:e})},this.publishGallery=e=>{const{theme:l,page:t,section:i,position:s}=this.state,{galleryType:o,PUBLISH_SHOPIFY_GALLERY:a}=this.props;a({wallId:localStorage.getItem("website_id"),theme:l,page:t.value,section:i.value,position:String(s.label).toLowerCase()},e,2==o)},this.deleteGallery=e=>{var l,t,i,s;const{publishOption:o}=this.props,a=null!==(l=null===(t=window)||void 0===t||null===(i=t.APP_CONTENT)||void 0===i||null===(s=i.publish)||void 0===s?void 0:s.galleryTypeObj)&&void 0!==l?l:{},{shopifyPublish:n}=a;(0,N.l1)({title:null===n||void 0===n?void 0:n.are_you_sure,icon:"warning",showCancelButton:!0,confirmButtonText:null===n||void 0===n?void 0:n.yes,cancelButtonText:null===n||void 0===n?void 0:n.no}).then(l=>{l.value?((new FormData).append("id",e),this.props.DELETE_SHOPIFY_PUBLISHED(e,o)):l.dismiss})},this.gotoCustomize=()=>{var e;const{userData:l,ShopifyData:t}=this.props,i=null===t||void 0===t?void 0:t.storeThemes[0],s=i[Object.keys(i)[0]].id;if(this.copyText("web_id_"),null!==l&&void 0!==l&&null!==(e=l.shopifyShopDetails)&&void 0!==e&&e.shopUrl&&s){const e="https://".concat(l.shopifyShopDetails.shopUrl,"/admin/themes/").concat(s,"/editor");window.open(e,"_blank")}}}componentDidMount(){const{ShopifyData:e,galleryType:l}=this.props;e&&null!==e&&void 0!==e&&e.storeThemes&&null!==e&&void 0!==e&&e.pages?this.setShopifyData():this.props.GET_SHOPIFY_PUBLISH_DATA(2==l)}componentDidUpdate(e,l){if(this.props.ShopifyData!==e.ShopifyData){const{ShopifyData:e}=this.props;e&&null!==e&&void 0!==e&&e.storeThemes&&null!==e&&void 0!==e&&e.pages&&this.setShopifyData()}this.props.galleryType!=e.galleryType&&(this.setState({defaultActiveKey:"theme_ex"}),this.props.GET_SHOPIFY_PUBLISH_DATA(2==this.props.galleryType))}render(){var e,l,t,i;const{ShopifyData:s,galleryType:o,allTags:n,loader:d}=this.props,{pageData:r,themeSection:v,copied:h,page:p,section:x,positions:_,position:j,dataTag:f,defaultActiveKey:C}=this.state,A=null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t||null===(i=t.publish)||void 0===i?void 0:i.galleryTypeObj)&&void 0!==e?e:{},{shopifyPublish:T}=null!==A&&void 0!==A?A:{};return(0,w.jsxs)("div",{className:"afterPublish_screen",children:[3!=o?(0,w.jsxs)(P.A,{activeKey:C,onSelect:e=>this.setState({defaultActiveKey:e}),id:"justify-tab-example",className:"mb-3",children:[1==o?(0,w.jsx)(c.A,{eventKey:"theme_ex",title:null===T||void 0===T?void 0:T.tab_heading,children:(0,w.jsx)(m.A,{children:(0,w.jsxs)(g.A,{children:[(0,w.jsx)("h5",{className:"mb-3",children:null===T||void 0===T?void 0:T.tab_heading}),(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-start ps-8 mb-5",children:[(0,w.jsxs)("span",{className:"fw-bold",children:[null===T||void 0===T?void 0:T.websiteId," : "]}),(0,w.jsxs)("div",{className:"position-relative embed_code embed_code_box iframe_embcode_box rounded-3 ms-2",children:[(0,w.jsx)("code",{className:"form-control fs-9 pe-10 fw-bold",id:"web_id_",onClick:()=>{this.copyText("web_id_")},children:localStorage.getItem("website_id")}),(0,w.jsx)("div",{className:"position-absolute end-0 top-0 me-2 h-100 f-center",children:(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:h?null===T||void 0===T?void 0:T.copied_code:null===T||void 0===T?void 0:T.copy_code}),children:(0,w.jsx)(a.A,{variant:"link",className:"text-gray-300",onClick:()=>this.copyText("web_id_"),children:h?(0,w.jsx)(u.gc,{icon:"check",height:16,width:16,iconClass:"text-success"}):(0,w.jsx)(u.gc,{icon:"copy"})})})})]}),(0,w.jsxs)("button",{type:"button",className:"ms-3 btn btn-primary",onClick:()=>this.gotoCustomize(),children:[(0,w.jsx)("i",{className:"fas fa-external-link-alt"}),null===T||void 0===T?void 0:T.go_customize]})]}),Object.values(null===T||void 0===T?void 0:T.list).map((e,l)=>(0,w.jsxs)("p",{className:"h6 mb-4 ".concat([7,8].includes(l)?"":"d-flex"),children:[" ",8!=l?(0,w.jsx)(G,{count:l+1}):null," ",(0,N.dz)(e,{COMPANY_NAME:k.SxH})," "]}))]})]})})}):null,(0,w.jsx)(c.A,{eventKey:"automatic_publishing",title:null===T||void 0===T?void 0:T.auto_publish,children:(0,w.jsx)(U,{galleryType:o,ShopifyData:s,pageData:r,page:p,onChangePages:this.onChangePages,onSectionChange:this.onSectionChange,onPositionChange:this.onPositionChange,section:x,themeSection:v,positions:_,position:j,publishGallery:this.publishGallery,deleteGallery:this.deleteGallery,loader:d})}),(0,w.jsxs)(c.A,{eventKey:"manual_publish",title:null===T||void 0===T?void 0:T.menual_publishing,children:[3==o?(0,w.jsx)(L,{allTags:n,count:1,updateData:e=>this.setState({dataTag:e})}):null,(0,w.jsx)("div",{className:"px-lg-3",children:(0,w.jsx)(S,{platform:2,galleryType:o,dataTag:f,allTags:n,count:3==o?2:1})})]})]}):null,3==o?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(L,{allTags:n,count:1,updateData:e=>this.setState({dataTag:e})}),(0,w.jsx)("div",{className:"px-lg-3",children:(0,w.jsx)(S,{platform:2,galleryType:o,dataTag:f,allTags:n,count:3==o?2:1})})]}):null]})}}const V=(0,v.Ng)(e=>{var l,t,i,s,o,a;return{ShopifyData:null===(l=e.ShopifyData)||void 0===l?void 0:l.ShopifyData,activeWebsite:null===(t=e.websiteList)||void 0===t?void 0:t.activeWebsite_id,allTags:null===(i=e.allTags)||void 0===i?void 0:i.selectedTags,loader:null===(s=e.ShopifyData)||void 0===s?void 0:s.isRequesting,userData:null===(o=e.authorized)||void 0===o||null===(a=o.userData)||void 0===a?void 0:a.user_data}},e=>({PUBLISH_SHOPIFY_GALLERY:(l,t,i)=>e(function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},t=arguments.length>2?arguments[2]:void 0;return i=>{(new M.A).post(k.dG1,e).then(e=>{const{status:s,message:o}=e.data;s?(i(z(t)),(0,N.l1)({title:"Publish successfully",icon:"success",timer:2e3,showCancelButton:!1,showConfirmButton:!1}),l()):((0,N.r$)("Something went wrong!"),l())}).catch(e=>{console.log("ERROR",e)})}}(l,t,i)),DELETE_SHOPIFY_PUBLISHED:l=>{return e((t=l,e=>{(new M.A).post(k.l68,{id:t}).then(l=>{const{status:t,data:i}=l.data;t?(e(z()),(0,N.l1)({title:"Deleted!",icon:"success",timer:2e3,showCancelButton:!1,showConfirmButton:!1})):(0,N.r$)("Something went wrong!")}).catch(e=>{console.log("ERROR",e)})}));var t},GET_SHOPIFY_PUBLISH_DATA:l=>e(z(l))}))(Y);var W=t(18633);const K=()=>((new FormData).append("wallId",localStorage.getItem("wallId")),e=>{(new M.A).get("".concat(k.HfW,"/").concat(localStorage.getItem("wallId"))).then(l=>{const{status:t,data:i}=l.data;e({type:H.MC5,payload:i})}).catch(e=>{console.log("ERROR",e)})}),q=e=>{let{toolTip:l,clickAction:t,iconImg:i}=e;return(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:l}),children:(0,w.jsx)(a.A,{id:"action-".concat(i),variant:"icon",className:"btn-active-primary ms-2","aria-label":l,onClick:e=>t(),children:(0,w.jsx)(u.gc,{icon:i})})})},$=()=>(0,w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"95",height:"62",viewBox:"0 0 95 62",children:(0,w.jsxs)("g",{id:"Group_7039","data-name":"Group 7039",transform:"translate(-20 -290)",children:[(0,w.jsx)("rect",{id:"Rectangle_2449","data-name":"Rectangle 2449",width:"95",height:"10",rx:"3",transform:"translate(20 342)",fill:"currentColor",opacity:"0.15"}),(0,w.jsx)("rect",{id:"Rectangle_2452","data-name":"Rectangle 2452",width:"95",height:"30",rx:"3",transform:"translate(20 290)",fill:"currentColor",opacity:"0.299"}),(0,w.jsx)("rect",{id:"Rectangle_2450","data-name":"Rectangle 2450",width:"95",height:"10",rx:"3",transform:"translate(20 326)",fill:"currentColor",opacity:"0.15"})]})}),J=()=>(0,w.jsxs)("svg",{id:"Group_7040","data-name":"Group 7040",xmlns:"http://www.w3.org/2000/svg",width:"95",height:"62",viewBox:"0 0 95 62",children:[(0,w.jsx)("rect",{id:"Rectangle_2449","data-name":"Rectangle 2449",width:"95",height:"10",rx:"3",fill:"currentColor",opacity:"0.15"}),(0,w.jsx)("rect",{id:"Rectangle_2452","data-name":"Rectangle 2452",width:"95",height:"30",rx:"3",transform:"translate(0 32)",fill:"currentColor",opacity:"0.299"}),(0,w.jsx)("rect",{id:"Rectangle_2450","data-name":"Rectangle 2450",width:"95",height:"10",rx:"3",transform:"translate(0 16)",fill:"currentColor",opacity:"0.15"})]});class X extends s.Component{constructor(){super(...arguments),this.state={showPage:!0,showSectionBrand:!1,showSectionCategory:!1,theme:"",page:"",sectionBrand:"",sectionCategory:"",position:"top",wallId:localStorage.getItem("wallId"),themeData:!1,pageData:!1,sectionData:!1,error:!1,galleryName:"",defaultActiveKey:"automatic_publishing",listView:!1,categoryOptions:[],brands:[]},this.onLoad=()=>{const{BigcommerceData:e}=this.props;var l=[],t=[];e&&e.pagesArr&&(Object.entries(e.pagesArr).map(e=>{let[l,i]=e;return t.push({key:i,value:"".concat(l)})}),this.setState({themeData:l,pageData:t,theme:l&&l.length?l[0].value:"",page:t&&t.length?t[0].value:"",section:e.themeSection&&e.themeSection.length?e.themeSection[0].section:""}),this.setState({listView:!0}))},this.onChangePages=e=>{const l=e.value;l.includes("category_page")?this.setState({page:l,showSectionCategory:!0}):this.setState({page:l,showSectionCategory:!1}),l.includes("brand_page")?this.setState({page:l,showSectionBrand:!0}):this.setState({page:l,showSectionBrand:!1})},this.publishGallery=()=>{const{page:e,position:l,showSectionBrand:t,showSectionCategory:i,sectionCategory:s,sectionBrand:o}=this.state,{BigcommerceData:a}=this.props;var n={page:e,wallId:localStorage.getItem("website_id"),gallery_name:this.getWebsiteName(),brand_id:t?o||Object.keys(a.brands)[0]:"",category_id:i?s||Object.keys(a.categories)[0]:"",position:l};this.props.PUBLISH_BIGCOMMERCE_GALLERY(n)},this.deleteGallery=e=>{(0,N.l1)({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(l=>{l.value?((new FormData).append("id",e),this.props.DELETE_BIGCOMMERCE_PUBLISHED(e)):l.dismiss})},this.getWebsiteName=()=>{const{websiteList:e}=this.props,l=localStorage.getItem("website_id");if(null!==e&&void 0!==e&&e.length){return e.find(e=>e.wall.ThemeInfo.webId==l).wall.ThemeInfo.wallName}return""}}componentDidUpdate(e){const{BigcommerceData:l}=e;l!=this.props.BigcommerceData&&(this.onLoad(),this.categoryFun())}categoryFun(){const{BigcommerceData:e}=this.props;e&&e.categories&&Object.keys(e.categories).length>0&&this.setState({categoryOptions:Object.keys(e.categories).map(l=>({value:l,label:e.categories[l]}))}),e&&e.brands&&Object.keys(e.brands).length>0&&this.setState({brands:Object.keys(e.brands).map(l=>({value:l,label:e.brands[l]}))})}render(){var e,l,t,i,s,o,n;const{BigcommerceData:d}=this.props,{position:r,showSectionCategory:v,showSectionBrand:h,pageData:x,defaultActiveKey:b,listView:y,categoryOptions:f,brands:N}=this.state,C=null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t?void 0:t.publish)&&void 0!==e?e:{},{autopubTable:A}=C;return d?(0,w.jsx)("div",{className:"afterPublish_screen",children:(0,w.jsxs)(P.A,{activeKey:b,onSelect:e=>this.setState({defaultActiveKey:e}),id:"justify-tab-example",className:"mb-3",children:[(0,w.jsx)(c.A,{eventKey:"automatic_publishing",title:"Automatic Publishing",children:d&&d.embedData&&d.embedData.length>0&&y?(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"f-between flex-wrap",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"mb-1",children:"Manage Published Galleries"}),(0,w.jsx)("p",{className:"mb-2",children:"Please Note: Manually installed plugins will not appear in this list"})]}),(0,w.jsx)(a.A,{className:"mb-2",onClick:()=>this.setState({listView:!1}),children:"Add Automatic Publish"})]}),(0,w.jsxs)(O.A,{responsive:!0,children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{children:null!==(i=null===A||void 0===A?void 0:A.page)&&void 0!==i?i:""}),(0,w.jsx)("th",{children:null!==(s=null===A||void 0===A?void 0:A.position)&&void 0!==s?s:""}),(0,w.jsx)("th",{children:null!==(o=null===A||void 0===A?void 0:A.dataInst)&&void 0!==o?o:""}),(0,w.jsx)("th",{children:null!==(n=null===A||void 0===A?void 0:A.Preview)&&void 0!==n?n:""}),(0,w.jsx)("th",{className:"text-end",children:"Action"})]})}),(0,w.jsx)("tbody",{children:d&&d.embedData&&d.embedData.length?d.embedData.map((e,l)=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:e.pageTitle}),(0,w.jsx)("td",{children:e.position}),(0,w.jsxs)("td",{className:"text-nowrap",children:[F()(e.createdAt).format("MMMM DD, YYYY, hh:mm:ss A")," "]}),(0,w.jsxs)("td",{children:[" ",(0,w.jsxs)(p.N_,{to:"//".concat(e.domain),className:"btn btn-link",target:"_blank",title:"Link",children:["View",(0,w.jsx)(u.gc,{icon:"external-link",iconClass:"ms-1"})]})]}),(0,w.jsx)("td",{className:"text-end",children:(0,w.jsx)("div",{className:"d-flex align-items-center justify-content-end",children:(0,w.jsx)(q,{toolTip:"Remove",clickAction:()=>this.deleteGallery(e.id),iconImg:"trash-can"})})})]},l)):(0,w.jsx)("tr",{children:(0,w.jsx)("td",{colspan:"5",className:"text-center text-muted py-5 mt-4 border-bottom w-100",children:"Data Not Found"})})})]})]}):(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"mb-1 h4",children:"Automatic Publishing "}),(0,w.jsx)("p",{children:"From here you can publish your gallery directly onto your BigCommerce store."}),(0,w.jsxs)(m.A,{className:"mb-5",children:[(0,w.jsxs)(_.A.Group,{as:g.A,sm:"6",className:"mb-5",children:[(0,w.jsx)(_.A.Label,{children:"Website Name"}),(0,w.jsx)(_.A.Control,{size:"lg",defaultValue:this.getWebsiteName(),readOnly:!0})]}),(0,w.jsxs)(_.A.Group,{as:g.A,sm:"6",className:"mb-5",children:[(0,w.jsx)(_.A.Label,{children:"Select Your Landing Page (Loaction)"}),(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",options:x,getOptionLabel:e=>e.key,onChange:this.onChangePages})]}),v?(0,w.jsxs)(_.A.Group,{as:g.A,sm:"6",className:"mb-5",children:[(0,w.jsx)(_.A.Label,{children:"Choose The Category"}),(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",options:f,onChange:e=>this.setState({sectionCategory:e.value})})]}):"",h?(0,w.jsxs)(_.A.Group,{as:g.A,sm:"6",className:"mb-5",children:[(0,w.jsx)(_.A.Label,{children:"Choose The Brand"}),(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-lg",classNamePrefix:"selectpicker",options:N,onChange:e=>this.setState({sectionBrand:e.value})})]}):"",(0,w.jsxs)(_.A.Group,{as:g.A,sm:"12",className:"mb-5",children:[(0,w.jsx)("h3",{className:"mb-4 h4",children:"Select The Position of Gallery on Page"}),(0,w.jsxs)(m.A,{style:{maxWidth:300},children:[(0,w.jsx)(g.A,{children:(0,w.jsx)(a.A,{variant:"secondary",className:"".concat("top"==r?"active":""),onClick:()=>this.setState({position:"top"}),children:(0,w.jsxs)("div",{className:"f-center flex-column py-2",children:[(0,w.jsx)("span",{className:"pb-3",children:(0,w.jsx)($,{})}),(0,w.jsx)("p",{className:"text-center fw-bold text-gray-500 mb-0",children:"Top"})]})})}),(0,w.jsx)(g.A,{children:(0,w.jsx)(a.A,{variant:"secondary",className:"".concat("bottom"==r?"active":""),onClick:()=>this.setState({position:"bottom"}),children:(0,w.jsxs)("div",{className:"f-center flex-column py-2",children:[(0,w.jsx)("span",{className:"pb-3",children:(0,w.jsx)(J,{})}),(0,w.jsx)("p",{className:"text-center fw-bold text-gray-500 mb-0",children:"Bottom"})]})})})]})]})]}),(0,w.jsxs)("div",{className:"border-top py-5 d-flex justify-content-end",children:[(0,w.jsx)(a.A,{variant:"secondary",className:"me-2",onClick:()=>this.setState({listView:!0}),children:"Cancel"}),(0,w.jsx)(a.A,{onClick:()=>this.publishGallery(),children:"Publish Gallery"})]})]})}),(0,w.jsx)(c.A,{eventKey:"manual_publishing",title:"Manual Publishing",children:(0,w.jsx)(S,{platform:2,galleryType:1,dataTag:1,allTags:1,count:1})})]})}):(0,w.jsx)(W.a,{})}}const Z=(0,v.Ng)(e=>({BigcommerceData:e.BigcommerceData.BigcommerceData,websiteList:e.websiteList.websiteList}),e=>({PUBLISH_BIGCOMMERCE_GALLERY:l=>e((e=>l=>{(new M.A).post(k.s$N,e).then(e=>{const{status:t}=e.data;t?(l(K()),(0,N.l1)({title:"Publish successfully",icon:"success",timer:2e3,showCancelButton:!1,showConfirmButton:!1})):(0,N.l1)({title:e.data.message,icon:"error",timer:2e3,showCancelButton:!1,showConfirmButton:!1})}).catch(e=>{console.log("ERROR",e)})})(l)),DELETE_BIGCOMMERCE_PUBLISHED:l=>{return e((t=l,e=>{(new M.A).post(k.yhe,{id:t}).then(l=>{const{status:t,data:i}=l.data;t&&(e(K()),(0,N.l1)({title:"Deleted!",icon:"success",timer:2e3,showCancelButton:!1,showConfirmButton:!1}))}).catch(e=>{console.log("ERROR",e)})}));var t},GET_BIGCOMMERCE_PUBLISH_DATA:l=>e(K())}))(X),Q=e=>{let{count:l}=e;return(0,w.jsx)("span",{className:"d-inline-block text-center h-20px w-20px rounded-circle me-2 bg-success text-gray-100 fs-9 flex-shrink-0",style:{lineHeight:"20px"},children:l})};class ee extends s.Component{constructor(){super(...arguments),this.state={searchData:[],isLoading:!1,searchPost:null,openDropdwn:!1,isPreview:!1,dataTag:!1,copied:!1}}componentDidMount(){const{isBigCommerce:e}=this.props;e&&this.props.GET_BIGCOMMERCE_PUBLISH_DATA()}render(){var e,l,t,i,s,a,n,d,r,c,u,v,h,m,g,x,_,b;const{platform:y,galleryType:j,allTags:f,isShopify:C,isBigCommerce:A,isShoppable:T,content:I}=this.props,{dataTag:D}=this.state,{commonContent:P,plateform:E,steps:F}=I,B=3==j?null===F||void 0===F?void 0:F.usingtag:"";return(0,w.jsx)("div",{className:"mb-10 pb-10",children:(0,N.C2)()?(0,w.jsx)(V,{galleryType:j,allTags:f}):(0,w.jsxs)("div",{children:[1==y?(0,w.jsxs)("h5",{className:"mb-5",children:[" ",null!==(e=null===P||void 0===P?void 0:P.heading)&&void 0!==e?e:"","  ",B]}):2==y?(0,w.jsxs)("h5",{className:"mb-5",children:["".concat(null===F||void 0===F?void 0:F.Publish," ").concat(T?null===F||void 0===F?void 0:F.shoppable:""," ").concat(null===(l=E[y])||void 0===l?void 0:l.steps," ")," ",B]}):3==y?(0,w.jsxs)("h5",{className:"mb-5",children:[" ",null===(t=E[y])||void 0===t?void 0:t.steps," ",B]}):4==y?(0,w.jsxs)("h5",{className:"mb-5",children:[" ",null===(i=E[y])||void 0===i?void 0:i.steps," ",B]}):5!=y||A?6==y?(0,w.jsxs)("h5",{className:"mb-5",children:[" ",null===(a=E[y])||void 0===a?void 0:a.steps," ",B]}):7==y?(0,w.jsxs)("h5",{className:"mb-5",children:[" ",null===(n=E[y])||void 0===n?void 0:n.steps," ",B]}):8==y?(0,w.jsxs)("h5",{className:"mb-5",children:[" ",null===(d=E[y])||void 0===d?void 0:d.steps,"  ",B]}):9==y?(0,w.jsxs)("h5",{className:"mb-5",children:[" ",null===(r=E[y])||void 0===r?void 0:r.steps," ",B]}):null:(0,w.jsxs)("h5",{className:"mb-5",children:["".concat(null===F||void 0===F?void 0:F.Publish," ").concat(T?null===F||void 0===F?void 0:F.shoppable:""," ").concat(null===(s=E[y])||void 0===s?void 0:s.steps)," ",B]}),2==y||5==y&&!A||3==y?(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsxs)("div",{className:"rounded-1 border d-flex p-lg-5 p-4 align-items-center mb-5",children:[(0,w.jsxs)("div",{className:"d-flex flex-grow-1 align-items-center",children:[(0,w.jsx)(o.A,{className:"me-2",loading:"lazy",src:k.tBl,alt:k.ffP,title:k.ffP,height:50,width:50,fluid:!0}),(0,w.jsxs)("div",{className:"d-flex flex-column",children:[(0,w.jsxs)("p",{className:"h3 mb-1",children:[k.SxH," App"]}),(0,w.jsx)("p",{className:"mb-0",children:(0,w.jsx)(p.N_,{id:"instruction_link",target:"_blank",to:2==y?"https://tagshop.ai/support/taggbox-shopify-app/":"https://tagshop.ai/support/how-to-use-tagshop-bigcommerce-app/",className:"fw-medium",title:F.instructions,children:F.instructions})})]})]}),(0,w.jsx)("div",{children:(0,w.jsx)(p.N_,{id:"install_app",target:"_blank",to:2==y?"https://apps.shopify.com/instagram-shop?utm_source=Commerce&utm_medium=Editor&utm_campaign=Shopify-app":3==y?"https://wordpress.org/plugins/".concat(k.ffP,"-widget/"):"https://www.bigcommerce.com/apps/taggshop/",className:"btn btn-primary",title:F.installApp,children:F.installApp})})]}),(0,w.jsx)("div",{className:"f-center border-top my-10",children:(0,w.jsx)("span",{className:"h-40px w-40px fs-8 f-center fw-semibold rounded-circle border bg-body",style:{marginTop:-20},children:"OR"})})]}):null,2==y?(0,w.jsx)("h5",{className:"mb-5",children:null===(c=E[y])||void 0===c?void 0:c.publish_heading}):5==y?A?(0,w.jsx)(Z,{galleryType:j,allTags:f}):(0,w.jsx)("h5",{className:"mb-5",children:null===(u=E[y])||void 0===u?void 0:u.publish_heading}):null,3==j?(0,w.jsx)(L,{allTags:f,count:1,updateData:e=>this.setState({dataTag:e})}):null,A&&5==y?null:(0,w.jsxs)("div",{className:"px-lg-3",children:[(0,w.jsx)(S,{platform:y,galleryType:j,allTags:f,count:0+j==3?2:1,dataTag:D}),1==y?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",null!==(v=null===P||void 0===P?void 0:P.publishDesc)&&void 0!==v?v:""]}),(0,w.jsx)("div",{className:"ps-8",children:Object.values(E[1].dics).map((e,l)=>(0,w.jsxs)("p",{children:[2===l?(0,N.dz)(e,{replace_text:T?null===F||void 0===F?void 0:F.Shoppable:""}):e,0===l?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("strong",{children:[" ",E[1][l][1]," "]})," ",E[1][l][2],"  "]}):null]},l))})]}):2==y?(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",E[2].publishDesc," "]}):3==y?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",null!==(h=null===P||void 0===P?void 0:P.publishDesc)&&void 0!==h?h:""]}),(0,w.jsx)("div",{className:"ps-8",children:Object.values(E[3].dics).map((e,l)=>(0,w.jsx)("p",{children:e}))})]}):4==y?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",null!==(m=null===P||void 0===P?void 0:P.publishDesc)&&void 0!==m?m:""]}),(0,w.jsx)("div",{className:"ps-8",children:Object.values(E[1].dics).map((e,l)=>(0,w.jsxs)("p",{children:[2===l?(0,N.dz)(e,{replace_text:T?null===F||void 0===F?void 0:F.Shoppable:""}):e,0===l?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("strong",{children:[" ",E[1][l][1]," "]})," ",E[1][l][2],"  "]}):null]},l))})]}):5==y?(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",E[5].publishDesc," "]}):6==y?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",null!==(g=null===P||void 0===P?void 0:P.publishDesc)&&void 0!==g?g:""]}),(0,w.jsx)("div",{className:"ps-8",children:Object.values(E[6].dics).map((e,l)=>(0,w.jsxs)("p",{children:[[1,3].includes(l)?(0,N.dz)(e,{replace_text:T?null===F||void 0===F?void 0:F.Shoppable:""}):e,0===l?(0,w.jsxs)("strong",{children:[" ",E[y][1]," "]}):null]},l))})]}):7==y?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",null!==(x=null===P||void 0===P?void 0:P.publishDesc)&&void 0!==x?x:""]}),(0,w.jsx)("div",{className:"ps-8",children:Object.values(E[7].dics).map((e,l)=>{const t={1:{value:E[7].dics[2],vars:{replace_text:k.SxH}},2:{value:E[7].dics[3],vars:{replace_text:T?null===F||void 0===F?void 0:F.Shoppable:""}}};if(t[l]){const{value:e,vars:i}=t[l];return(0,w.jsx)("p",{children:(0,N.dz)(null!==e&&void 0!==e?e:"",i)},l)}return(0,w.jsx)("p",{children:e},l)})})]}):8==y?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",null!==(_=null===P||void 0===P?void 0:P.publishDesc)&&void 0!==_?_:""]}),(0,w.jsx)("div",{className:"ps-8",children:Object.values(E[8].dics).map((e,l)=>(0,w.jsx)("p",{children:e}))})]}):9==y?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("p",{className:"h6 mb-4",children:[(0,w.jsx)(Q,{count:0+j!=1?4:3})," ",null!==(b=null===P||void 0===P?void 0:P.publishDesc)&&void 0!==b?b:""]}),(0,w.jsx)("div",{className:"ps-8",children:Object.values(E[9].dics).map((e,l)=>(0,w.jsx)("p",{children:e}))})]}):null]})]})})}}const le=(0,v.Ng)(e=>{var l;return{BigcommerceData:null===e||void 0===e||null===(l=e.BigcommerceData)||void 0===l?void 0:l.BigcommerceData}},e=>({GET_BIGCOMMERCE_PUBLISH_DATA:()=>e(K())}))(ee);var te=t(34483),ie=t(70804),se=t(29038),oe=t(91600),ae=t(26806),ne=t(28429);function de(e){var l,t,i,o,n,d,r,c,v,h,p,m,g,x,_,j,C,A,S,T,I;let{wallData:D}=e;const[L,P]=(0,s.useState)([]),[E,F]=(0,s.useState)([]),[B,O]=(0,s.useState)(!1),[R,U]=(0,s.useState)(!1),[H,M]=(0,s.useState)(""),[z,G]=(0,s.useState)(""),[Y,V]=(0,s.useState)(!1),[W,K]=(0,s.useState)(!1),[q,$]=(0,s.useState)(!1),J=(0,ne.Zp)();(0,s.useEffect)(()=>{var e;K(!0),U(!0),(0,se.HW)((null===D||void 0===D||null===(e=D.ThemeInfo)||void 0===e?void 0:e.wallId)||localStorage.getItem("active_wall")).then(e=>{var l;K(!1);const{responsedata:t}=e.data,i=(null===t||void 0===t||null===(l=t.feeds)||void 0===l?void 0:l.filter(e=>1==(null===e||void 0===e?void 0:e.isReview)))||[];null!==i&&void 0!==i&&i.length||$(!0),P(i),F(i)}).catch(()=>{K(!1),U(!1)})},[]),(0,s.useEffect)(()=>{null!==E&&void 0!==E&&E.length&&X()},[E]);const X=()=>{if(null!==E&&void 0!==E&&E.length){var e;const l=null===(e=E[0])||void 0===e?void 0:e.wallEncrytedId,t=E.map(e=>e.feedEncrytedId).join(",");U(!0),(0,oe.xJ)(l,t).then(e=>{var i,s,o,a;const{data:n,response_code:d}=e.data;U(!1),M(200===d?'<script type="application/ld+json" class="'.concat(k.ffP,'-schema-code" data-ref="').concat(l,'" data-feed-ref="').concat(t,'" > { "@context": "https://schema.org", "@type": "Product", "name": "').concat(null===n||void 0===n?void 0:n.name,'", "aggregateRating": { "@type": "AggregateRating", "ratingValue": ').concat(null===n||void 0===n||null===(i=n.rating)||void 0===i?void 0:i.rating,', "reviewCount": ').concat(null===n||void 0===n||null===(s=n.rating)||void 0===s?void 0:s.count,' } } <\/script> <script src="https://widget').concat(k.onz?"":k.PWx?"-test":"-lite").concat(k.Evk,'/js/schema.js"><\/script>'):""),G('<pre style=\'background-color:#333; color:#fff; padding:10px; border-radius:5px; font-family:monospace; overflow-x:auto; white-space:pre-wrap;\'><code>&lt;script type="application/ld+json" class="'.concat(k.ffP,'-schema-code" data-ref="').concat(l,'" data-feed-ref="').concat(t,'"&gt; { "@context": "https://schema.org", "@type": "Product", "name": "').concat(null===n||void 0===n?void 0:n.name,'", "aggregateRating": { "@type": "AggregateRating", "ratingValue": ').concat(null===n||void 0===n||null===(o=n.rating)||void 0===o?void 0:o.rating,', "reviewCount": ').concat(null===n||void 0===n||null===(a=n.rating)||void 0===a?void 0:a.count,' } } &lt;/script&gt;\n&lt;script src="https://widget').concat(k.onz?"":k.PWx?"-test":"-lite").concat(k.Evk,'/js/schema.js"&gt;&lt;/script&gt;</code></pre>'))}).catch(()=>{M(""),G(""),U(!1)})}},Z=e=>{(0,N.x_)(e),O(!0),setTimeout(()=>{O(!1)},1e3)},Q=null!==(l=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==l?l:{},{galleryTypeObj:ee={}}=null===Q||void 0===Q?void 0:Q.publish,{commonContent:le,rattingSchema:de,modal:re,shopifyPublish:ce}=ee,{ratingEmptyIcon:ue}=re;return(0,w.jsxs)("div",{className:"mb-10 pb-10",children:[(0,w.jsx)("h5",{className:"mb-5",children:null!==(i=null===le||void 0===le?void 0:le.heading)&&void 0!==i?i:""}),q?(0,w.jsx)("div",{className:"bg-gray-100",children:(0,w.jsx)(ae.A,{title:null!==(A=null===ue||void 0===ue?void 0:ue.title)&&void 0!==A?A:"",desc:null!==(S=null===ue||void 0===ue?void 0:ue.desc)&&void 0!==S?S:"",button:{text:null!==(T=null===ue||void 0===ue?void 0:ue.text)&&void 0!==T?T:"",action:()=>{return e=localStorage.getItem("active_wall"),localStorage.setItem("wallId",e),void J("/content/addfeed/".concat(e));var e}},isFullScreen:!1})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("p",{className:"h5 mb-2 mt-6",children:null!==(o=null===de||void 0===de?void 0:de.selectFeed)&&void 0!==o?o:""}),W?(0,w.jsxs)("div",{className:"py-4",children:[(0,w.jsx)("p",{className:"mb-3 sk_line sk_line_20 sk_line_height_16"}),(0,w.jsx)("p",{className:"sk_rect h-40px mb-0"})]}):(0,w.jsxs)(te.A,{className:"w-100",autoClose:"outside",children:[(0,w.jsx)(te.A.Toggle,{variant:"outline-secondary",className:"border-gray w-100 d-flex align-items-center",children:(0,w.jsx)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:"filter_".concat(E&&E.length>0?(0,N.Oi)(E[0].networkId):""),children:(0,w.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium ps-0",children:E.length>0?1===E.length?(0,ie.Ay)(E[0].name):"".concat(E.length," selected"):null!==(n=null===de||void 0===de?void 0:de.selectfeed)&&void 0!==n?n:""})})}),(0,w.jsxs)(te.A.Menu,{className:"w-100 overflow-auto",style:{maxHeight:400},children:[(0,w.jsxs)("div",{className:"d-flex align-items-center px-3 cursor-pointer mb-2",children:[(0,w.jsx)("label",{className:"form-check flex-grow-1 fw-normal fs-8",htmlFor:"tri-searchFeeds",children:null!==(d=null===Q||void 0===Q||null===(r=Q.common)||void 0===r?void 0:r.lbl_select_all)&&void 0!==d?d:""}),(0,w.jsx)("input",{className:"form-check-input",type:"checkbox",name:"",value:"",id:"tri-searchFeeds",onChange:e=>(e=>{F(e.target.checked?L:[])})(e),checked:L.length===E.length&&0!==L.length})]}),L&&L.length>0?L.map(e=>(0,w.jsxs)("div",{className:"dropdown-item",children:[(0,w.jsxs)("label",{className:"form-check flex-grow-1 overflow-hidden align-items-center",htmlFor:"tri-conn-".concat(e.feedId),children:[(0,w.jsx)("span",{className:"symbol symbol-20",children:(0,w.jsx)("img",{className:"img-fluid h-100",src:(0,u.pc)("media/icons/social-icons-square/".concat((0,N.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,N.Oi)(e.networkId)})}),(0,w.jsx)("span",{className:"form-check-label text-gray-800 text-ellipsis fw-medium",children:(0,ie.Ay)(e.name)})]}),(0,w.jsx)("input",{className:"form-check-input flex-shrink-0",type:"checkbox",name:"",id:"tri-conn-".concat(e.id),checked:E?E.some(l=>l.id===e.id):"",onChange:()=>(e=>{E.includes(e)?F(E.filter(l=>l!==e)):F([...E,e])})(e)})]},e.feedId)):(0,w.jsx)("div",{className:"py-4",children:(0,w.jsx)("h6",{className:"text-center fs-9 mb-0 text-gray-700",children:null!==(c=null===de||void 0===de?void 0:de.nofeed)&&void 0!==c?c:""})})]})]}),null!==E&&void 0!==E&&E.length||R?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h5",{className:"h5 mb-2 mt-6",children:null!==(v=null===de||void 0===de?void 0:de.copyCode)&&void 0!==v?v:""}),R?(0,w.jsx)("div",{className:"py-4",children:(0,w.jsx)("p",{className:"sk_rect h-100px mb-0"})}):(0,w.jsxs)("div",{className:"position-relative embed_code embed_code_box iframe_embcode_box rounded-3",children:[(0,w.jsx)("div",{className:"embed-border",children:(0,w.jsx)("code",{className:"form-control textarea-min-row-4 p-lg-4 fs-9",id:"embed_code_",onClick:()=>Z("embed_code_"),children:H})}),(0,w.jsxs)("div",{className:"position-absolute end-0 bottom-0 pe-5 pb-5",children:[(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:B?null!==(p=null===ce||void 0===ce?void 0:ce.copied_code)&&void 0!==p?p:"":null!==(h=null===ce||void 0===ce?void 0:ce.copy_code)&&void 0!==h?h:""}),children:(0,w.jsx)(a.A,{variant:"link",className:"text-gray-300 fs-6 p-0 me-2",onClick:()=>Z("embed_code_"),children:(0,w.jsx)(u.gc,{type:"solid",icon:B?"check":"copy",iconClass:B?"text-success":""})})}),(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:null!==(m=null===Q||void 0===Q||null===(g=Q.emailCampaign)||void 0===g?void 0:g.shareCodeTooltip)&&void 0!==m?m:""}),children:(0,w.jsx)(a.A,{variant:"link",className:"text-gray-300 fs-6 GetShareCode",onClick:()=>V(!0),children:(0,w.jsx)(u.gc,{type:"solid",icon:"envelope",iconClass:"me-0"})})})]})]})]}):null,Y?(0,w.jsx)(f.A,{type:5,text:null!==(x=null===de||void 0===de||null===(_=de.popup)||void 0===_?void 0:_.text)&&void 0!==x?x:"",heading:null!==(j=null===de||void 0===de||null===(C=de.popup)||void 0===C?void 0:C.heading)&&void 0!==j?j:"",onClose:e=>V(!1),codeId:"#embed_code_",schema:!0,mailCode:z}):null]}),(0,w.jsxs)("div",{className:"rs-serp-section mt-6",children:[(0,w.jsxs)("h4",{className:"h5 mb-2",children:[null!==(I=null===de||void 0===de?void 0:de.rattingInfo)&&void 0!==I?I:""," "]}),(0,w.jsx)("img",{src:"https://cloud.tagbox.com/react-app/media/images/serp-1.5x.png",alt:"serp",className:"img-fluid"})]})]})}class re extends s.Component{constructor(){super(...arguments),this.state={homePopup:!1,productPopup:!1,tagPopup:!1,mainContainer:!0,emailPopup:!1}}render(){var e,l,t,i,s,o,n;const{allTags:d,platform:c,closePopup:v,isShopify:h,isBigCommerce:p,galleryType:m,wallData:g,isShoppable:x}=this.props,_=null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t?void 0:t.publish)&&void 0!==e?e:{},{galleryTypeObj:b={}}=_;return(0,w.jsxs)(w.Fragment,{children:[4!=m?(0,w.jsx)(le,{content:b,platform:c,galleryType:m,allTags:d,closePopup:v,isShopify:h,isBigCommerce:p,isShoppable:x}):(0,w.jsx)(de,{wallData:g}),(0,w.jsx)(r.A.Footer,{className:"f-center justify-content-start position-absolute bottom-0 start-0 w-100 bg-body",style:{height:66},children:(0,w.jsxs)("div",{className:"py-1 px-3 rounded-pill badge-light-primary text-nowrap d-flex flex-wrap align-items-center",children:[(0,w.jsx)("p",{className:"my-1 text-muted d-md-inline d-none",children:null!==(i=null===b||void 0===b||null===(s=b.commonContent)||void 0===s?void 0:s.connectSupport)&&void 0!==i?i:""}),(0,w.jsx)("p",{className:"my-1 text-muted d-md-none d-inline",children:"Help"}),(0,w.jsx)(u.gc,{icon:"angle-right",iconClass:"mx-2"}),(0,w.jsxs)(a.A,{variant:"link",className:"f-center d-flex",onClick:N.tk,children:[(0,w.jsx)(u.gc,{type:"solid",icon:"comments",iconClass:"me-1"}),null!==(o=null===b||void 0===b||null===(n=b.commonContent)||void 0===n?void 0:n.connectSupportLink)&&void 0!==o?o:""]})]})})]})}}const ce=(0,v.Ng)(e=>{const{allTags:l}=e;return{allTags:null===l||void 0===l?void 0:l.selectedTags}})(re);class ue extends s.Component{render(){return(0,w.jsx)("div",{className:"position-absolute start-0 bottom-0 w-100 bg-light",style:{zIndex:99},children:(0,w.jsxs)("div",{className:"d-flex fade mb-0 border-top rounded-0 border-warning  alert alert-warning show w-100",children:[(0,w.jsx)(u.gc,{icon:"info",iconClass:"fa-solid fa-circle-info fs-6 lh-sm text-warning me-2"}),"This is Demo Data For Your Reference."]})})}}class ve extends s.Component{constructor(){super(...arguments),this.embedCode=()=>{const{ownerId:e}=this.props;window.isTagShop=window.preview=!0;const l=document.querySelector(".tagshop-socialwall");null!==l&&void 0!==l&&l.getAttribute("data-is-load")&&"0"!=l.getAttribute("data-is-load")||fetch("".concat(k.gEI).concat(139294==e?"khaadi/":"","embed.json")).then(e=>e.json()).then(e=>{let{css:l,script:t}=e;document.head.appendChild(Object.assign(document.createElement("link"),{type:"text/css",rel:"stylesheet",href:l})),document.body.appendChild(Object.assign(document.createElement("script"),{src:t}))})},this.removeElementById=(e,l)=>{try{var t;null===(t=document.querySelector("".concat(e,"#").concat(l)))||void 0===t||t.remove()}catch(i){}},this.onLoadRemoveCss=()=>this.removeElementById("link[type='text/css']","preview_embed_css"),this.onLoadRemoveScript=()=>this.removeElementById("script[type='text/javascript']","preview_embed_js")}componentWillUnmount(){this.onLoadRemoveScript(),this.onLoadRemoveCss()}render(){var e,l,t,i;const{webId:s,isDemo:o,themeId:a,appData:n}=this.props,d=null!==(e=null===n||void 0===n?void 0:n.activeBanner)&&void 0!==e&&e,r=null===n||void 0===n||null===(l=n.wall)||void 0===l||null===(t=l.SnapUp)||void 0===t||null===(i=t.QrCode)||void 0===i?void 0:i.status,c=localStorage.getItem("website_id")||s;return(0,w.jsxs)(w.Fragment,{children:[1==o&&(0,w.jsx)(ue,{}),(0,w.jsx)("div",{className:"theme_preview ".concat((0,N.C2)()?"shopify-theme-preview":""),"data-theme-id":a,"data-banner-status":d,"data-review-status":r,children:(0,w.jsx)("iframe",{title:"theme_live_preview",src:"".concat(k.gEI).concat(c,"?website=1&editor=1"),id:"websiteLivePreview"},c)})]})}}const he=(0,s.memo)(ve);var pe=t(79163),me=t(22281),ge=t(61075);function xe(){var e,l,t,i,s,o,a,n,d,r,c,u,v,h,p,m,g,x,_,b,y,j,f,N,C,A,S,T,k,I,D,L,P,E,F,B;const O=null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t?void 0:t.publish)&&void 0!==e?e:{},{galleryTypeObj:R={}}=O;return(0,w.jsxs)("div",{className:"rating-schema-step px-5 py-2",children:[(0,w.jsx)("h5",{className:"d-flex fs-8 mb-1",children:null!==(i=null===R||void 0===R||null===(s=R.rattingSchema)||void 0===s||null===(o=s.sideBar)||void 0===o?void 0:o[1])&&void 0!==i?i:""}),(0,w.jsxs)("ul",{className:"m-0 mb-3 p-0 list-unstyled",children:[(0,w.jsxs)("li",{className:"fs-8 mb-2",children:[(0,w.jsx)("span",{className:"list-item-circle"}),null!==(a=null===R||void 0===R||null===(n=R.rattingSchema)||void 0===n||null===(d=n.sideBar)||void 0===d?void 0:d[2])&&void 0!==a?a:""]}),(0,w.jsxs)("li",{className:"fs-8 mb-2",children:[(0,w.jsx)("span",{className:"list-item-circle"}),null!==(r=null===R||void 0===R||null===(c=R.rattingSchema)||void 0===c||null===(u=c.sideBar)||void 0===u?void 0:u[3])&&void 0!==r?r:""]})]}),(0,w.jsx)("h5",{className:"d-flex fs-8 mb-1",children:null!==(v=null===R||void 0===R||null===(h=R.rattingSchema)||void 0===h||null===(p=h.sideBar)||void 0===p?void 0:p[4])&&void 0!==v?v:""}),(0,w.jsx)("p",{className:"fs-8 mb-3",children:null!==(m=null===R||void 0===R||null===(g=R.rattingSchema)||void 0===g||null===(x=g.sideBar)||void 0===x?void 0:x[5])&&void 0!==m?m:""}),(0,w.jsxs)("ul",{className:"m-0 mb-3 p-0 list-unstyled",children:[(0,w.jsxs)("li",{className:"fs-8 mb-2",children:[" ",(0,w.jsxs)("strong",{children:[" ",null!==(_=null===R||void 0===R||null===(b=R.rattingSchema)||void 0===b||null===(y=b.boldText)||void 0===y?void 0:y[1])&&void 0!==_?_:""]}),"  ",null!==(j=null===R||void 0===R||null===(f=R.rattingSchema)||void 0===f||null===(N=f.sideBar)||void 0===N?void 0:N[6])&&void 0!==j?j:""]}),(0,w.jsxs)("li",{className:"fs-8 mb-2",children:["  ",(0,w.jsx)("strong",{children:null!==(C=null===R||void 0===R||null===(A=R.rattingSchema)||void 0===A||null===(S=A.boldText)||void 0===S?void 0:S[2])&&void 0!==C?C:""})," ",null!==(T=null===R||void 0===R||null===(k=R.rattingSchema)||void 0===k||null===(I=k.sideBar)||void 0===I?void 0:I[7])&&void 0!==T?T:""]}),(0,w.jsxs)("li",{className:"fs-8 mb-2",children:["  ",(0,w.jsx)("strong",{children:null!==(D=null===R||void 0===R||null===(L=R.rattingSchema)||void 0===L||null===(P=L.boldText)||void 0===P?void 0:P[3])&&void 0!==D?D:""})," ",null!==(E=null===R||void 0===R||null===(F=R.rattingSchema)||void 0===F||null===(B=F.sideBar)||void 0===B?void 0:B[8])&&void 0!==E?E:""]})]})]})}const _e=[{name:"html",value:1},{name:"shopify",value:2},{name:"wordpress",value:3},{name:"square-space",value:9},{name:"wix",value:8},{name:"prestashop",value:4},{name:"big-commerce",value:5},{name:"magento",value:6},{name:"other",value:7}];class be extends s.Component{render(){var e,l,t,i,s,n,d,r,c,v,h,p,m,g,x,_,b,y,j,f,N,C,A,S,T,k,I,D,L,P,E,F,B;const{galleryType:O,changeGalleryType:R,changePlatform:U,platform:H,isShopify:M,wallData:z,isShoppable:G}=this.props,Y=null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t?void 0:t.publish)&&void 0!==e?e:{},{galleryTypeObj:V={}}=Y,W=[{title:null!==(i=null===V||void 0===V||null===(s=V.landingPage)||void 0===s?void 0:s.dropDownTitle)&&void 0!==i?i:"",desc:G?null!==(n=null===V||void 0===V||null===(d=V.landingPage)||void 0===d?void 0:d.dropDownDescShoppable)&&void 0!==n?n:"":null!==(r=null===V||void 0===V||null===(c=V.landingPage)||void 0===c?void 0:c.dropDownDesc)&&void 0!==r?r:"",icon:"browser",color:"#9496C8",value:1},{title:null!==(v=null===V||void 0===V||null===(h=V.productPage)||void 0===h?void 0:h.dropDownTitle)&&void 0!==v?v:"",desc:null!==(p=null===V||void 0===V||null===(m=V.productPage)||void 0===m?void 0:m.dropDownDesc)&&void 0!==p?p:"",icon:"box",color:"#7DC0AE",value:2},{title:null!==(g=null===V||void 0===V||null===(x=V.tagBased)||void 0===x?void 0:x.dropDownTitle)&&void 0!==g?g:"",desc:G?null!==(_=null===V||void 0===V||null===(b=V.tagBased)||void 0===b?void 0:b.dropDownDescShoppable)&&void 0!==_?_:"":null!==(y=null===V||void 0===V||null===(j=V.tagBased)||void 0===j?void 0:j.dropDownDesc)&&void 0!==y?y:"",icon:"image",color:"#FF9E9E",value:3},{title:null!==(f=null===V||void 0===V||null===(N=V.rattingSchema)||void 0===N?void 0:N.dropDownTitle)&&void 0!==f?f:"",desc:null!==(C=null===V||void 0===V||null===(A=V.rattingSchema)||void 0===A?void 0:A.dropDownDesc)&&void 0!==C?C:"",icon:"star",color:"#FDB023",value:4}];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"p-4",id:"scrollTab",children:[(0,w.jsx)("h5",{children:null!==(S=null===V||void 0===V||null===(T=V.commonContent)||void 0===T?void 0:T.sideBardTitle)&&void 0!==S?S:""}),(0,w.jsxs)(te.A,{className:"w-100",onSelect:R,children:[(0,w.jsx)(te.A.Toggle,{variant:"secondary",className:"w-100 d-flex justify-content-between align-items-center  p-2",children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("span",{className:"f-center me-2 p-1 rounded-1 text-light w-28px",style:{backgroundColor:W[O-1].color},children:(0,w.jsx)(u.gc,{type:"light",icon:W[O-1].icon,iconClass:"fs-5 me-0"})}),W[O-1].title]})}),(0,w.jsx)(te.A.Menu,{children:W.map((e,l)=>G||1!=l?(0,w.jsxs)(te.A.Item,{eventKey:e.value,className:"flex-column align-items-start w-100 mb-1 ".concat(e.value==O?"active":""),children:[(0,w.jsxs)("div",{className:"d-flex align-items-center mb-2 text-body",children:[(0,w.jsx)("span",{className:"f-center me-2",style:{color:e.color},children:(0,w.jsx)(u.gc,{type:"light",icon:e.icon,iconClass:"fs-4 me-0"})}),e.title]}),(0,w.jsx)("p",{className:"mb-0 fs-10 text-wrap text-gray-700",children:e.desc})]},l):null)})]})]}),M||4==O?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("hr",{className:"my-2"}),(0,w.jsxs)("div",{className:"p-4",children:[(0,w.jsx)("h5",{children:null!==(k=null===V||void 0===V||null===(I=V.commonContent)||void 0===I?void 0:I.sideBarPlateform)&&void 0!==k?k:""}),(0,w.jsx)("div",{className:"mb-3",children:(0,w.jsxs)(pe.A,{className:"flex-wrap justify-content-between d-flex platform-selection",type:"radio",name:"platform",value:H,defaultValue:H,onChange:U,children:[_e.map((e,l)=>(0,w.jsxs)(me.A,{id:"s_platform-".concat(e.value),value:e.value,variant:"secondary",className:"mb-3 py-3 me-0 ".concat(e.value==H?"bg-body":""),children:[(0,w.jsx)(o.A,{loading:"lazy","data-mode":"light",src:(0,u.pc)("media/icons/cms-platform/".concat(e.name,".svg")),alt:e.name,title:e.name,width:180,fluid:!0}),(0,w.jsx)(o.A,{loading:"lazy","data-mode":"dark",src:(0,u.pc)("media/icons/cms-platform/".concat(e.name,"-light.svg")),alt:e.name,title:e.name,width:280,fluid:!0})]},l)),(0,w.jsx)(ge.A,{title:null!==(D=null===V||void 0===V||null===(L=V.modal)||void 0===L||null===(P=L.req_platform)||void 0===P?void 0:P.title)&&void 0!==D?D:"",children:(0,w.jsxs)(a.A,{variant:"secondary",size:"lg",className:"w-100 p-3 flex-column",children:[(0,w.jsx)(u.gc,{icon:"plus",marginRight:0}),null!==(E=null===V||void 0===V||null===(F=V.modal)||void 0===F||null===(B=F.req_platform)||void 0===B?void 0:B.title)&&void 0!==E?E:""]})})]})})]})]}),4==O?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("hr",{className:"my-2"}),(0,w.jsx)(xe,{})]}):null]})}}var ye=t(8966),je=t(40143),fe=t(66261);class Ne extends s.Component{render(){const{inheritStyle:e,content:l}=this.props;return(0,w.jsxs)("div",{className:"f-between w-100",children:[(0,w.jsxs)(_.A.Label,{className:"",htmlFor:"inherit_",children:[(0,w.jsx)("span",{className:"me-2 fs-9",children:null===l||void 0===l?void 0:l.recommended}),(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:null===l||void 0===l?void 0:l.recommended_tooltip}),children:(0,w.jsx)("span",{children:(0,w.jsx)(u.gc,{type:"solid",icon:"circle-info",iconClass:"fs-7"})})})]}),(0,w.jsx)(_.A.Check,{type:"switch",id:"inherit_",className:"",defaultValue:e,checked:1===e,onChange:e=>{this.props.CARD_STYLE_INHERIT(Number(e.target.checked))}})]})}}const we=(0,v.Ng)(e=>{var l,t,i;return{inheritStyle:null===(l=e.appData)||void 0===l||null===(t=l.wall)||void 0===t||null===(i=t.CardStyle)||void 0===i?void 0:i.inheritStyles}},e=>({CARD_STYLE_INHERIT:l=>{e({type:H.rL7,payload:l}),e({type:H.F7A,payload:!0})}}))(Ne);var Ce=t(68849);const Ae=(e,l)=>{var t=[];return e&&e.map((e,i)=>{t.push({label:(0,w.jsxs)("span",{style:{fontFamily:"".concat(l||e.family)},className:"sGFfonte-".concat(l?e:e.family),children:[" ",l?e:e.family," "]},l?e:e.family),value:l?i:e.id})}),t};class Se extends s.Component{constructor(e){super(e),this.handleVarient=()=>{let{fontval:e,vrntVal:l,allFont:t}=this.props,i=[];if(e&&""!=e&&"0"!=e){if(e.includes("+")&&(e=e.replace("+"," ")),i=t.find(l=>l.family==e),i){i=Ae(JSON.parse(i.variants),e);const t=i.find(e=>e.label.key==l);this.setState({variantList:i,selectedVariant:t||i[0]})}}else i=Ae(JSON.parse(t[0].variants),"Default"),this.setState({variantList:i,selectedVariant:i[0]})},this.handleFont=()=>{let{fontval:e}=this.props;const{fontList:l}=this.state;if(e&&""!=e&&"0"!=e){e.includes("+")&&(e=e.replace("+"," "));let t=l.find(l=>l.label.key==e);this.setState({selectedFont:t})}else this.setState({selectedFont:l[0]})},this.state={selectedFont:{},selectedVariant:{},variantList:[],fontList:Ae(this.props.allFont)}}componentDidMount(){this.handleVarient(),this.handleFont()}componentDidUpdate(e){e.vrntVal==this.props.vrntVal&&e.fontval==this.props.fontval||(e.fontval!=this.props.fontval&&this.handleFont(),this.handleVarient())}render(){const{inheritStyle:e,fontChange:l,variantChange:t,styles:i,content:s}=this.props,{selectedFont:o,selectedVariant:a,variantList:n,fontList:d}=this.state;return(0,w.jsxs)(m.A,{className:"gx-2",children:[(0,w.jsxs)(g.A,{xs:7,children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"font_family",children:null===s||void 0===s?void 0:s.font_family}),(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-sm ".concat(e?"disabled":""),classNamePrefix:"selectpicker",isDisabled:e,onChange:l,options:d,isSearchable:!1,value:o,styles:i||""})]}),(0,w.jsxs)(g.A,{xs:5,children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"font_weight",children:null===s||void 0===s?void 0:s.weight}),(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-sm ".concat(e?"disabled":""),classNamePrefix:"selectpicker",isDisabled:e,value:a,options:n,onChange:t,isSearchable:!1,styles:i||""})]})]})}}const Te=(0,v.Ng)(e=>{var l;return{allFont:null===(l=e.allFont)||void 0===l?void 0:l.allFonts}})(Se);class ke extends s.Component{render(){const{CatalogueTitle:e,onChangeCatelogFont:l,onChangeCatelogVeriant:t,onChangeFeature_font_size:i,onChangeFeature_text:s,inheritStyle:o,is_cta_setting_change:a,content:n}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(je.A,{children:(0,w.jsx)(we,{content:n})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"cta_title",children:null===n||void 0===n?void 0:n.text}),(0,w.jsx)(_.A.Control,{size:"sm",placeholder:"Featured Product",id:"cta_title",defaultValue:null===e||void 0===e?void 0:e.text,onChange:s})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{inheritStyle:o,fontChange:l,fontval:null===e||void 0===e?void 0:e.font,variantChange:t,vrntVal:null===e||void 0===e?void 0:e.varient,content:n})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"cate_font_color",children:null===n||void 0===n?void 0:n.font_color}),(0,w.jsx)(Ce.A,{id:"cate_font_color",defaultColor:null===e||void 0===e?void 0:e.color,changeColor:this.props.ChangeFeature_text_color,isDisabled:o,colorChanged:a})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"radius_range",children:null===n||void 0===n?void 0:n.font_size}),(0,w.jsx)(fe.A,{id:"radius_range",min:10,max:25,step:1,value:null===e||void 0===e?void 0:e.size,onChange:i})]})]})}}const Ie=ke;class De extends s.Component{render(){const{onChangeProduct_font:e,onChangeProduct_verient:l,onChangeProduct_fontSize:t,onChangePrice_font:i,onChangePrice_verient:s,onChangePrice_fontSize:o,inheritStyle:a,onChangeProduct_color:n,onChangePrice_color:d,ProductTitle:r,is_cta_setting_change:c,Price:u,content:v}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(je.A,{children:(0,w.jsx)(we,{content:v})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"h5",children:null===v||void 0===v?void 0:v.title}),(0,w.jsx)(Te,{inheritStyle:a,fontChange:e,fontval:null===r||void 0===r?void 0:r.font,variantChange:l,vrntVal:null===r||void 0===r?void 0:r.varient})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"pro_title_col",children:null===v||void 0===v?void 0:v.color}),(0,w.jsx)(Ce.A,{id:"pro_title_col",defaultColor:null===r||void 0===r?void 0:r.color,isDisabled:a,changeColor:n,colorChanged:c})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"radius_range",children:null===v||void 0===v?void 0:v.font_size}),(0,w.jsx)(fe.A,{id:"radius_range",min:10,max:25,step:1,value:null===r||void 0===r?void 0:r.size,onChange:t})]}),(0,w.jsx)("hr",{className:""}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"h5",children:null===v||void 0===v?void 0:v.price}),(0,w.jsx)(Te,{inheritStyle:a,fontChange:i,fontval:null===u||void 0===u?void 0:u.font,variantChange:s,vrntVal:null===u||void 0===u?void 0:u.varient,content:v})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"price_color",children:null===v||void 0===v?void 0:v.color}),(0,w.jsx)(Ce.A,{id:"price_color",defaultColor:null===u||void 0===u?void 0:u.color,isDisabled:a,changeColor:d,colorChanged:c})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"radius_range",children:null===v||void 0===v?void 0:v.font_size}),(0,w.jsx)(fe.A,{id:"radius_range",min:10,max:25,step:1,value:null===u||void 0===u?void 0:u.size,onChange:o,isDisabled:a})]})]})}}const Le=De;class Pe extends s.Component{constructor(){super(...arguments),this.styles={option:(e,l)=>(0,i.A)((0,i.A)({},e),{},{fontFamily:l.data.font}),singleValue:(e,l)=>(0,i.A)((0,i.A)({},e),{},{fontFamily:l.data.font})}}render(){var e,l;const{onChangeButton_text:t,onChangeButton_font:i,onChangeButton_verient:s,onChangeButton_fontSize:o,onChange_tab_target:a,onChange_pdp_target:n,inheritStyle:d,onChangeButton_color:r,onChangeButton_background:c,ProdButton:u,is_cta_setting_change:v,content:h}=this.props,p=null===h||void 0===h||null===(e=h.product_cta)||void 0===e?void 0:e.click_redirect;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(je.A,{children:(0,w.jsx)(we,{content:h})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"btn_text",children:null===h||void 0===h?void 0:h.text}),(0,w.jsx)(_.A.Control,{size:"sm",placeholder:"Featured Product",id:"btn_text",defaultValue:null===u||void 0===u?void 0:u.text,onChange:t})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{inheritStyle:d,fontChange:i,fontval:null===u||void 0===u?void 0:u.font,variantChange:s,vrntVal:null===u||void 0===u?void 0:u.varient,content:h})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"shop_btn_color",children:null===h||void 0===h?void 0:h.font_color}),(0,w.jsx)(Ce.A,{id:"shop_btn_color",defaultColor:null===u||void 0===u?void 0:u.color,changeColor:r,colorChanged:v})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"shop_btn_bg",children:null===h||void 0===h?void 0:h.background_color}),(0,w.jsx)(Ce.A,{id:"shop_btn_bg",defaultColor:null===u||void 0===u?void 0:u.background,changeColor:c,colorChanged:v})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"shop_btn_size",children:null===h||void 0===h?void 0:h.font_size}),(0,w.jsx)(fe.A,{id:"shop_btn_size",min:10,max:25,step:1,value:null===u||void 0===u?void 0:u.size,onChange:o})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"on_btn_click",children:null===h||void 0===h||null===(l=h.more_actions)||void 0===l?void 0:l.on_click}),(0,w.jsx)(j.Ay,{className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:p,onChange:a,value:p.find(e=>parseInt(e.value)==parseInt(null===u||void 0===u?void 0:u.newTab))})]}),(0,N.C2)()?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"redirect_pdp",className:"f-between",label:"Redirect to PDP(Product Page)",defaultValue:null===u||void 0===u?void 0:u.pdp_target,checked:null===u||void 0===u?void 0:u.pdp_target,onChange:n,reverse:!0})}):null]})}}const Ee=Pe;class Fe extends s.Component{render(){const{onChangeHotspotStatus:e,onChangeHotspotType:l,onChange_Hotspot_type_color:t,onChange_Hotspot_color:i,Hotspot:s,is_cta_setting_change:o,content:a}=this.props;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"hotspot_",className:"f-between",label:null===a||void 0===a?void 0:a.hotspot,defaultValue:null===s||void 0===s?void 0:s.status,checked:null===s||void 0===s?void 0:s.status,onChange:e,reverse:!0})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"hotspot_icon",children:null===a||void 0===a?void 0:a.hotspot_icon}),(0,w.jsxs)(m.A,{children:[(0,w.jsx)(g.A,{children:(0,w.jsx)("div",{className:"border border-2 p-1 rounded-1 cursor-pointer overlfow-hidden ".concat(0==(null===s||void 0===s?void 0:s.type)?"border-primary":""),onClick:()=>l(0),children:(0,w.jsxs)("div",{className:"w-100 h-100 py-3 f-center flex-column rounded-1 icon-bg-gradient",children:[(0,w.jsx)("div",{className:"rounded-circle h-20px w-20px border-white mb-1",style:{border:"5px solid"}}),(0,w.jsx)("div",{className:"fw-medium fs-9 text-white",children:null===a||void 0===a?void 0:a.dot})]})})}),(0,w.jsx)(g.A,{children:(0,w.jsx)("div",{className:"border border-2 p-1 rounded-1 cursor-pointer overlfow-hidden ".concat(1==(null===s||void 0===s?void 0:s.type)?"border-primary":""),onClick:()=>l(1),children:(0,w.jsxs)("div",{className:"w-100 h-100 py-3 f-center flex-column rounded-1 icon-bg-gradient",children:[(0,w.jsx)("div",{className:"rounded-circle h-20px w-20px mb-1 fw-bold f-center fs-9 bg-white text-black-alt",children:"1"}),(0,w.jsx)("div",{className:"fw-medium fs-9 text-white",children:null===a||void 0===a?void 0:a.number})]})})})]})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"hotspot_bg",children:null===a||void 0===a?void 0:a.background_color}),(0,w.jsx)(Ce.A,{id:"hotspot_bg",defaultColor:null===s||void 0===s?void 0:s.background,changeColor:i,colorChanged:o})]}),null!==s&&void 0!==s&&s.type?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"hotspot_text_color",children:null===a||void 0===a?void 0:a.font_color}),(0,w.jsx)(Ce.A,{id:"hotspot_text_color",defaultColor:null===s||void 0===s?void 0:s.color,changeColor:t,colorChanged:o})]}):null]})}}const Be=Fe;class Oe extends s.Component{constructor(){super(...arguments),this.onChangeCatelogFont=e=>{const{allFont:l,productSettings:t}=this.props,i=l.find(l=>l.family==e.label.key);let s=JSON.parse(i.variants).find(e=>e==(null===t||void 0===t?void 0:t.CatalogueTitle.varient));this.props.FEATURE_CSS_FONT(i.family),this.onChangeCatelogVeriant("change",s||JSON.parse(i.variants)[0])},this.onChangeCatelogVeriant=(e,l)=>{this.props.FEATURE_FONT_VARIENT("change"==e?l:e.label.key)},this.onChangeFeature_text=e=>{this.props.FEATURE_TEXT(e.target.value)},this.onChangeFeature_font_size=e=>{this.props.FEATURE_FONT_SIZE(parseInt(e))},this.onChangeStatus=()=>{this.setState({status:1==this.state.status?0:1}),this.props.STATUS(1==this.state.status?0:1)},this.onChangeButton_text=e=>{this.props.BUY_NOW_TEXT(e.target.value)},this.onChangeButton_font=e=>{const{allFont:l,productSettings:t}=this.props,i=l.find(l=>l.family==e.label.key);let s=JSON.parse(i.variants).find(e=>e==(null===t||void 0===t?void 0:t.Button.varient));this.props.BUTTON_CSS_FONT(i.family),this.onChangeButton_verient("change",s||JSON.parse(i.variants)[0])},this.onChangeButton_verient=(e,l)=>{this.props.BUTTON_FONT_VARIENT("change"==e?l:e.label.key)},this.onChangeButton_fontSize=e=>{this.props.BUY_FONT_SIZE(parseInt(e))},this.onChangeProduct_font=e=>{const{allFont:l,productSettings:t}=this.props,i=l.find(l=>l.family==e.label.key);let s=JSON.parse(i.variants).find(e=>e==(null===t||void 0===t?void 0:t.ProductTitle.varient));this.props.TITLE_CSS_FONT(i.family),this.onChangeProduct_verient("change",s||JSON.parse(i.variants)[0])},this.onChangeProduct_verient=(e,l)=>{this.props.TITLE_FONT_VARIENT("change"==e?l:e.label.key)},this.onChangeProduct_fontSize=e=>{this.setState({product_title_font_size:parseInt(e)}),this.props.PRODUCT_TITLE_FONT_SIZE(parseInt(e))},this.onChangePrice_font=e=>{const{allFont:l,productSettings:t}=this.props,i=l.find(l=>l.family==e.label.key);let s=JSON.parse(i.variants).find(e=>e==(null===t||void 0===t?void 0:t.Price.varient));this.props.PRICE_CSS_FONT(i.family),this.onChangePrice_verient("change",s||JSON.parse(i.variants)[0])},this.onChangePrice_verient=(e,l)=>{this.props.PRICE_FONT_VARIENT("change"==e?l:e.label.key)},this.onChangePrice_fontSize=e=>{this.props.ORIGINAL_PRICE_FONT_SIZE(parseInt(e))},this.onChangeHotspotStatus=()=>{var e,l;this.props.HOTSPOT(1==(null===(e=this.props.productSettings)||void 0===e||null===(l=e.Hotspot)||void 0===l?void 0:l.status)?0:1)},this.onChangeHotspotType=()=>{var e,l;this.props.HOTSPOT_TYPE(1==(null===(e=this.props.productSettings)||void 0===e||null===(l=e.Hotspot)||void 0===l?void 0:l.type)?0:1)},this.onChange_tab_target=e=>{this.props.TAB_TARGET(e.value)},this.onChange_pdp_target=e=>{var l;this.props.PDP_TARGET(1==(null===(l=this.props.productSettings)||void 0===l?void 0:l.Button.pdp_target)?0:1)},this.onSubmitCTA=()=>{var e,l;this.props.UPDATE_CTA_ACTION(this.props.productSettings,null===(e=this.props.wall)||void 0===e||null===(l=e.ThemeInfo)||void 0===l?void 0:l.webId,()=>{})},this.ChangeFeature_text_color=(e,l)=>{e&&this.props.FEATURE_TEXT_COLOR(e)},this.onChangeButton_color=(e,l)=>{e&&this.props.BUY_NOW_COLOR(e)},this.onChangeButton_background=(e,l)=>{e&&this.props.BUY_NOW_BACKGROUND(e)},this.onChangeProduct_color=(e,l)=>{e&&this.props.PRODUCT_TITLE_COLOR(e)},this.onChangePrice_color=(e,l)=>{e&&this.props.ORIGINAL_PRICE_COLOR(e)},this.onChange_Hotspot_color=(e,l)=>{e&&this.props.HOTSPOT_COLOR(e)},this.onChange_Hotspot_type_color=(e,l)=>{e&&this.props.HOTSPOT_TYPE_COLOR(e)}}componentDidUpdate(e){!0===this.props.save_and_publish&&!0!==e.save_and_publish&&this.props.is_cta_setting_change&&this.onSubmitCTA()}render(){const{inheritStyle:e,productSettings:l,is_cta_setting_change:t,allFont:i,content:s}=this.props;return(0,w.jsxs)(ye.A,{className:"border-top",defaultActiveKey:"catalog_name",flush:!0,children:[(0,w.jsxs)(ye.A.Item,{eventKey:"catalog_name",children:[(0,w.jsx)(ye.A.Header,{children:null===s||void 0===s?void 0:s.catalog_name}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:i&&i.length>0&&(0,w.jsx)(Ie,{inheritStyle:e,onChangeCatelogFont:this.onChangeCatelogFont,CatalogueTitle:null===l||void 0===l?void 0:l.CatalogueTitle,onChangeCatelogVeriant:this.onChangeCatelogVeriant,onChangeFeature_font_size:this.onChangeFeature_font_size,onChangeFeature_text:this.onChangeFeature_text,ChangeFeature_text_color:this.ChangeFeature_text_color,is_cta_setting_change:t,content:s})})]}),(0,w.jsxs)(ye.A.Item,{eventKey:"Products_",children:[(0,w.jsx)(ye.A.Header,{children:null===s||void 0===s?void 0:s.products}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(Le,{inheritStyle:e,ProductTitle:null===l||void 0===l?void 0:l.ProductTitle,Price:null===l||void 0===l?void 0:l.Price,onChangeProduct_font:this.onChangeProduct_font,onChangeProduct_verient:this.onChangeProduct_verient,onChangeProduct_fontSize:this.onChangeProduct_fontSize,onChangePrice_font:this.onChangePrice_font,onChangePrice_verient:this.onChangePrice_verient,onChangePrice_fontSize:this.onChangePrice_fontSize,onChangeProduct_color:this.onChangeProduct_color,onChangePrice_color:this.onChangePrice_color,is_cta_setting_change:t,content:s})})]}),(0,w.jsxs)(ye.A.Item,{eventKey:"button_",children:[(0,w.jsx)(ye.A.Header,{children:null===s||void 0===s?void 0:s.button}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(Ee,{inheritStyle:e,ProdButton:null===l||void 0===l?void 0:l.Button,onChangeButton_text:this.onChangeButton_text,onChangeButton_font:this.onChangeButton_font,onChangeButton_verient:this.onChangeButton_verient,onChangeButton_fontSize:this.onChangeButton_fontSize,onChange_tab_target:this.onChange_tab_target,onChange_pdp_target:this.onChange_pdp_target,onChangeButton_color:this.onChangeButton_color,onChangeButton_background:this.onChangeButton_background,is_cta_setting_change:t,content:s})})]}),(0,w.jsxs)(ye.A.Item,{eventKey:"hotspot_",children:[(0,w.jsx)(ye.A.Header,{children:null===s||void 0===s?void 0:s.hotspot}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(Be,{Hotspot:null===l||void 0===l?void 0:l.Hotspot,onChangeHotspotStatus:this.onChangeHotspotStatus,onChangeHotspotType:this.onChangeHotspotType,onChange_Hotspot_color:this.onChange_Hotspot_color,onChange_Hotspot_type_color:this.onChange_Hotspot_type_color,is_cta_setting_change:t,content:s})})]})]})}}const Re=(0,v.Ng)(e=>{var l,t,i,s,o,a,n,d,r;return{moderation:e.moderation,is_cta_setting_change:null===(l=e.appData)||void 0===l?void 0:l.is_cta_setting_change,save_and_publish:null===(t=e.appData)||void 0===t?void 0:t.save_and_publish,inheritStyle:null===(i=e.appData)||void 0===i||null===(s=i.wall)||void 0===s||null===(o=s.CardStyle)||void 0===o?void 0:o.inheritStyles,allFont:null===(a=e.allFont)||void 0===a?void 0:a.allFonts,ctaData:e.ctaData.data,productSettings:null===(n=e.appData)||void 0===n||null===(d=n.wall)||void 0===d?void 0:d.ProductSetting,wall:null===(r=e.appData)||void 0===r?void 0:r.wall}},e=>({UPDATE_CTA_ACTION:(l,t,i)=>e((0,T.S4)(l,t,i)),FEATURE_TEXT:l=>e({type:H.VOU,payload:l}),FEATURE_TEXT_COLOR:l=>e({type:H.TXO,payload:l}),FEATURE_CSS_FONT:l=>e({type:H.xPf,payload:l}),FEATURE_FONT_VARIENT:l=>e({type:H.DdZ,payload:l}),FEATURE_FONT_SIZE:l=>e({type:H.Zug,payload:l}),BUY_NOW_TEXT:l=>e({type:H.Gz_,payload:l}),BUTTON_CSS_FONT:l=>e({type:H.Z10,payload:l}),BUTTON_FONT_VARIENT:l=>e({type:H.Bmd,payload:l}),BUY_NOW_COLOR:l=>e({type:H.i_B,payload:l}),BUY_NOW_BACKGROUND:l=>e({type:H.v1T,payload:l}),BUY_FONT_SIZE:l=>e({type:H.noS,payload:l}),PRODUCT_TITLE_COLOR:l=>e({type:H.rZF,payload:l}),PRODUCT_TITLE_FONT_SIZE:l=>e({type:H.jxf,payload:l}),TITLE_CSS_FONT:l=>e({type:H.XCX,payload:l}),TITLE_FONT_VARIENT:l=>e({type:H.ztI,payload:l}),ORIGINAL_PRICE_COLOR:l=>e({type:H._sM,payload:l}),PRICE_CSS_FONT:l=>e({type:H.EI6,payload:l}),PRICE_FONT_VARIENT:l=>e({type:H.sXy,payload:l}),ORIGINAL_PRICE_FONT_SIZE:l=>e({type:H.e4G,payload:l}),DISCOUNT_PRICE_COLOR:l=>e({type:H.qUf,payload:l}),DISCOUNT_CSS_FONT:l=>e({type:H.a9o,payload:l}),DISCOUNT_FONT_VARIENT:l=>e({type:H.wbM,payload:l}),DISCOUNT_PRICE_FONT_SIZE:l=>e({type:H.qi,payload:l}),HOTSPOT:l=>e({type:H.qUp,payload:l}),HOTSPOT_COLOR:l=>e({type:H.Ylx,payload:l}),HOTSPOT_TYPE:l=>e({type:H.TPD,payload:l}),HOTSPOT_TYPE_COLOR:l=>e({type:H.$J1,payload:l}),STATUS:l=>e({type:H.XQv,payload:l}),TAB_TARGET:l=>e({type:H.aw8,payload:l}),PDP_TARGET:l=>e({type:H.vRv,payload:l})}))(Oe);var Ue=t(3162),He=t(22662);var Me=t(74163),ze=t(74488),Ge=t(90393),Ye=t(72228),Ve=t(76955);var We=t(49332),Ke=t(85608);const qe=new We.A,$e=e=>{var l,t,n,d,r;let{backgroundDetails:c,PersonalizationID:h,save_and_publish:p,is_backgroun_change:m,content:g}=e;const x=(0,v.wA)(),b=null!==c&&void 0!==c&&null!==(l=c.Background)&&void 0!==l&&l.status?0:1,y=null!==(t=null===c||void 0===c||null===(n=c.Background)||void 0===n?void 0:n.url)&&void 0!==t?t:"",j=null!==(d=null===c||void 0===c||null===(r=c.Background)||void 0===r?void 0:r.color)&&void 0!==d?d:"#ffffff";(0,s.useEffect)(()=>{qe.uppy.on("transloadit:result",(e,l)=>{x({type:H.Ann,payload:"".concat(Ke.$r).concat(l.id,".").concat(l.ext)}),setTimeout(()=>{qe.uppy.cancelAll()},300)})},[]),(0,s.useEffect)(()=>{1==p&&1==m&&f()},[p]);const f=()=>{var e,l;const t={id:h,transparent:b?1:0,backgroundColor:j,backgroundRemove:y.length?0:1,themeId:null===c||void 0===c||null===(e=c.ThemeInfo)||void 0===e?void 0:e.id,ownerId:null===c||void 0===c||null===(l=c.ThemeInfo)||void 0===l?void 0:l.ownerId,picture:y||"",isPictureChanged:1};var s;(s=t,(new M.A).post("".concat(k.lmr,"/").concat(localStorage.getItem("active_wall"),"/").concat(s.themeId,"/").concat(s.id,"/").concat(localStorage.getItem("website_id")),(0,i.A)({},s))).then(()=>{})};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"background",children:null===g||void 0===g?void 0:g.transparent_background}),(0,w.jsx)(_.A.Check,{type:"switch",id:"background",className:"w-100",defaultValue:b,checked:b,onChange:e=>{x({type:H.huw,payload:Number(e.target.checked)}),x({type:H.HYM,payload:!0})}}),b?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"bgColor",children:null===g||void 0===g?void 0:g.color}),(0,w.jsx)(Ce.A,{id:"bgColor",defaultColor:j,changeColor:e=>{x({type:H.kY6,payload:e}),x({type:H.HYM,payload:!0})},colorChanged:m})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",children:null===g||void 0===g?void 0:g.background_image}),y?(0,w.jsxs)("div",{className:"position-relative",children:[(0,w.jsx)(o.A,{id:"bg_image",loading:"lazy",className:"object-fit-contain",src:y,height:300,width:300,alt:"background",style:{maxHeight:250},fulid:!0}),(0,w.jsx)("div",{className:"position-absolute",style:{top:-10,right:-10},children:(0,w.jsx)(a.A,{variant:"icon",size:"sm",className:"rounded-circle btn-active-primary",onClick:()=>{x({type:H.Ann,payload:""}),x({type:H.HYM,payload:!0})},children:(0,w.jsx)(u.gc,{icon:"xmark"})})})]}):(0,w.jsx)("div",{className:"uppy_scale",children:(0,w.jsx)(Ve.xh,{proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0,showProgressDetails:!0,disableThumbnailGenerator:!1,height:360,showRemoveButtonAfterComplete:!1,uppy:qe.uppy,plugins:["Instagram","GoogleDrive","Url","Webcam"]})})]})]}),b?null:(0,w.jsx)(B.A,{className:"mt-2 mb-0 rounded-0 fs-9 p-3",variant:"info",children:null===g||void 0===g?void 0:g.recommended_size})]})};var Je=t(19902),Xe=t.n(Je);t(10673);class Ze extends s.Component{render(){const{toggleValue:e,callbackFn:l,tooltipTxt:t,toggleName:i,callbackFn2:s,dispatchfn:o}=this.props;return(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"".concat(null===i||void 0===i?void 0:i.replace(" ",""),"_"),children:[(0,w.jsx)("span",{className:"me-2",children:i}),t?(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:t}),children:(0,w.jsx)("span",{children:(0,w.jsx)(u.gc,{type:"solid",icon:"circle-info",iconClass:"fs-8 text-gray-700"})})}):null]}),(0,w.jsx)(_.A.Check,{type:"switch",id:"".concat(null===i||void 0===i?void 0:i.replace(" ",""),"_"),defaultValue:e,checked:0!=e,onChange:e=>{l(e.target.checked),o(e.target.checked),s(!e.target.checked&&e.target.checked)}})]})}}const Qe=e=>{var l,t,i;const{ThemeInfo:o,ThemeStyle:n,CardStyle:d}=e.wallData,r=null===o||void 0===o?void 0:o.id,c=e.content.more_actions,h=(0,v.wA)(),{hidePostRange:p,rowSelect:m,popupList:g,AiSummary:x,TickerSlider:f,columnOptions:C,mobColumnOptns:A,showMoreList:S,autoLoadList:T}=(0,s.useMemo)(()=>{var e,l,t,i,s;return{hidePostRange:null!==(e=null===c||void 0===c?void 0:c.hide_post_range)&&void 0!==e?e:[],rowSelect:null!==(l=null===c||void 0===c?void 0:c.rows_options)&&void 0!==l?l:[],popupList:null!==(t=null===c||void 0===c?void 0:c.pop_up_actions)&&void 0!==t?t:[],AiSummary:null!==(i=null===c||void 0===c?void 0:c.ai_summary_styles)&&void 0!==i?i:[],TickerSlider:null!==(s=null===c||void 0===c?void 0:c.ticker_slider_speed)&&void 0!==s?s:[],columnOptions:(0,N.xb)(r,!1),mobColumnOptns:(0,N.xb)(r,!0),showMoreList:[50,4,19,47,3,85,5,83,20,49,84,79],autoLoadList:[61,62,16,86,60,52,81,80]}},[c,r]),[k,I]=(0,s.useState)(!1),[D,L]=(0,s.useState)(!1),[P,E]=(0,s.useState)(0),B=(0,s.useRef)(null),O=(0,s.useMemo)(()=>{var e,l;const t=null!==(e=null===n||void 0===n||null===(l=n.oldPost)||void 0===l?void 0:l.showHideOldPost)&&void 0!==e?e:0;return(F()(t,F().ISO_8601,!0).isValid()?F()(t):F()()).format("MM DD YYYY hh:mm")},[null===n||void 0===n?void 0:n.oldPost]);(0,s.useEffect)(()=>{null!==n&&void 0!==n&&n.filterStatus&&E(null===n||void 0===n?void 0:n.filterStatus)},[null===n||void 0===n?void 0:n.filterStatus]),(0,s.useEffect)(()=>{1==e.save_and_publish&&1==e.is_theme_setting_change&&setTimeout(()=>{R()},500)},[e.save_and_publish]);const R=()=>{var e,l;let t={websiteId:localStorage.getItem("website_id"),wallId:localStorage.getItem("active_wall"),p_id:null===n||void 0===n?void 0:n.id,carouselPost:null!==(e=Number(null===n||void 0===n?void 0:n.carouselPost))&&void 0!==e?e:1,cssStatus:null===n||void 0===n?void 0:n.css.status,randomizePost:null===n||void 0===n?void 0:n.randomizePost,loadMoreStatus:Number(null===n||void 0===n?void 0:n.loadMoreStatus),autoScrollStatus:Number(null===n||void 0===n?void 0:n.autoScrollStatus),postText:Number(null===n||void 0===n?void 0:n.textPostStatus),mobilePopup:Number(null===n||void 0===n?void 0:n.modal.mobile),trimcontent:Number(null===d||void 0===d?void 0:d.content.trimcontent)||0,popupSlideShow:1,textDecorate:Number(null===d||void 0===d?void 0:d.style.textDecoration),customUrl:"".concat(null===n||void 0===n?void 0:n.modal.redirect),numberOfPosts:null===n||void 0===n?void 0:n.totalPosts,hidePosts:null===n||void 0===n?void 0:n.oldPost.status,showHideOlderPost:null===n||void 0===n?void 0:n.oldPost.showFrom,showHideOldPost:null===n||void 0===n?void 0:n.oldPost.showHideOldPost,minimumPostWidth:null===d||void 0===d?void 0:d.minimumWidth,padding:null===d||void 0===d?void 0:d.style.margin,theme_id:null===o||void 0===o?void 0:o.id,numberOfColumn:null===n||void 0===n?void 0:n.column.desktop,mobileColumn:null===n||void 0===n?void 0:n.column.mobile,multiRow:null===n||void 0===n?void 0:n.row,fitRow:Number(null===n||void 0===n?void 0:n.bestFit),autoPlay:Number(null===n||void 0===n?void 0:n.autoPlay),slidePost:Number(null===n||void 0===n?void 0:n.slide.autoSlide),slideDuration:null===n||void 0===n?void 0:n.slide.slideDuration,postFeatured:Number(null===n||void 0===n||null===(l=n.modal)||void 0===l?void 0:l.action),duplicatePost:null===n||void 0===n?void 0:n.duplicatePost,filterStatus:P||0,ai_summary:null===n||void 0===n?void 0:n.aiSummaryStatus};(3==(null===n||void 0===n?void 0:n.modal.action)&&(0,N.m$)(null===n||void 0===n?void 0:n.modal.redirect)||3!=(null===n||void 0===n?void 0:n.modal.action))&&(0,se.D8)(t).then(e=>{}).catch(e=>console.warn(e))};return(0,w.jsxs)(w.Fragment,{children:[[87,82].includes(r)?null:(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.carousel_post,callbackFn2:()=>{},toggleValue:null===n||void 0===n?void 0:n.carouselPost,callbackFn:()=>{},dispatchfn:e=>h({type:H.$ZA,payload:Number(e)}),tooltipTxt:c.carousel_post_tooltip})}),[62,82].includes(r)?null:(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.shuffle_post,callbackFn2:()=>{},toggleValue:null===n||void 0===n?void 0:n.randomizePost,callbackFn:()=>{},dispatchfn:e=>h({type:H.uAJ,payload:Number(e)}),tooltipTxt:c.shuffle_post_tooltip})}),[62,85,82].includes(r)?null:(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.hide_duplicate_post,callbackFn2:()=>{},toggleValue:null===n||void 0===n?void 0:n.duplicatePost,callbackFn:()=>{},dispatchfn:e=>h({type:H.glG,payload:Number(e)}),tooltipTxt:c.hide_duplicate_post_tooltip})}),[50,4,19,3,85,5,83,20,49,47,79].includes(r)&&null!==n&&void 0!==n&&n.filterStatus?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.web_embed_filter,callbackFn2:()=>{},toggleValue:P,callbackFn:e=>{E(Number(e))},dispatchfn:e=>h({type:H.vvL,payload:!0}),tooltipTxt:c.web_embed_filter_tooltip})}):null,[16,61,62,86,60,52,81,80,47,88].includes(r)?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.auto_slide,callbackFn2:()=>{},toggleValue:null===n||void 0===n?void 0:n.slide.autoSlide,callbackFn:()=>{},dispatchfn:e=>h({type:H.Vkv,payload:Number(e)}),tooltipTxt:c.auto_slide_tooltip})}):"",[63,64,85,87,80,82,84,79].includes(r)?null:(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.video_autoplay,callbackFn2:()=>{},toggleValue:null===n||void 0===n?void 0:n.autoPlay,callbackFn:()=>{},dispatchfn:e=>h({type:H.OPq,payload:Number(e)}),tooltipTxt:c.video_autoplay_tooltip})}),S.includes(r)?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.show_more_button,toggleValue:null===n||void 0===n?void 0:n.loadMoreStatus,callbackFn:()=>{},callbackFn2:()=>{},dispatchfn:e=>h({type:H.MtG,loadMore:Number(e),autoLoad:Number((null===n||void 0===n||!n.autoScrollStatus)&&(null===n||void 0===n?void 0:n.autoScrollStatus))}),tooltipTxt:c.show_more_button_tooltip})}):null,S.includes(r)||T.includes(r)?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.auto_load,toggleValue:null===n||void 0===n?void 0:n.autoScrollStatus,callbackFn:()=>{},callbackFn2:()=>{},dispatchfn:e=>h({type:H.MtG,autoLoad:Number(e),loadMore:S.includes(r)?Number((null===n||void 0===n||!n.loadMoreStatus)&&(null===n||void 0===n?void 0:n.loadMoreStatus)):0}),tooltipTxt:c.auto_load_tooltip})}):null,[62,86,61,16,4,50,52,60,81,88].includes(r)?"":(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.hide_posts,callbackFn2:()=>{},toggleValue:null===n||void 0===n?void 0:n.textPostStatus,callbackFn:()=>{},dispatchfn:e=>h({type:H.E57,payload:e}),tooltipTxt:c.hide_posts_tooltip})}),[0].includes(r)?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.trim_content,callbackFn2:()=>{},toggleValue:null===d||void 0===d?void 0:d.content.trimcontent,callbackFn:()=>{},dispatchfn:e=>h({type:H.kAV,payload:Number(e)}),tooltipTxt:c.trim_content_tooltip})}):"",[52,84].includes(r)?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.mobile_popup,callbackFn2:()=>{},toggleValue:null===n||void 0===n||null===(l=n.modal)||void 0===l?void 0:l.mobile,callbackFn:()=>{},dispatchfn:e=>h({type:H.r0m,payload:Number(e)}),tooltipTxt:c.mobile_popup_tooltip})}):"",4==r?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:c.best_fit,callbackFn2:()=>{},toggleValue:null===n||void 0===n?void 0:n.bestFit,callbackFn:()=>{},dispatchfn:e=>h({type:H.OFR,payload:Number(e)}),tooltipTxt:c.best_fit_tooltip})}):"",[82].includes(r)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"onclick_post",children:c.on_click}),(0,w.jsx)(j.Ay,{id:"onclick_post",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:g,value:g[g.findIndex(e=>{var l;return e.value==(null===n||void 0===n||null===(l=n.modal)||void 0===l?void 0:l.action)})],onChange:e=>h({type:H.pf9,payload:e.value?e.value:0})})]}),3==(null===n||void 0===n?void 0:n.modal.action)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"url_text",children:c.custom_url}),(0,w.jsx)(_.A.Control,{id:"url_text",className:k?"is-invalid":"",value:null===n||void 0===n?void 0:n.modal.redirect,onChange:e=>{h({type:H.PRj,payload:e.target.value}),I(!(0,N.m$)(e.target.value))},placeholder:"https://www.google.com/"}),k&&(0,w.jsx)("span",{className:"invalid-feedback",children:"Please enter valid url."})]}):null,[80,79,85,84,20,5,19,47,49,83].includes(r)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"aiSummary",children:[(0,w.jsx)("span",{className:"me-2",children:c.ai_summarizer}),(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:c.ai_summarizer_tooltip}),children:(0,w.jsx)("span",{children:(0,w.jsx)(u.gc,{type:"solid",icon:"circle-info",iconClass:"fs-8 text-muted me-2"})})}),1==(null===n||void 0===n?void 0:n.aiSummaryStatus)||2==(null===n||void 0===n?void 0:n.aiSummaryStatus)?(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:"Refresh"}),children:(0,w.jsx)(a.A,{variant:"icon",size:"sm",className:"btn-active-primary","aria-label":"refresh",onClick:()=>{L(!0),(0,se.Cv)(null===o||void 0===o?void 0:o.wallId).then(e=>{(0,N.k1)("Ai summary refreshed successfully!"),L(!1)}).catch(e=>{(0,N.r$)("Failed to summarize media.Please try again."),L(!1)})},children:(0,w.jsx)("span",{className:"d-inline-block ".concat(D?"rotate-animation":""," "),children:(0,w.jsx)(u.gc,{icon:"arrows-rotate"})})})}):null]}),(0,w.jsx)(j.Ay,{id:"aiSummary",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:x,value:x[x.findIndex(e=>e.value==(null===n||void 0===n?void 0:n.aiSummaryStatus))],onChange:e=>h({type:H.pcP,payload:e.value?e.value:0})})]}):null,[82].includes(r)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"total_post",children:[(0,w.jsx)("span",{className:"me-2",children:c.number_of_posts}),(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:c.number_of_posts_tooltip}),children:(0,w.jsx)("span",{children:(0,w.jsx)(u.gc,{type:"solid",icon:"circle-info",iconClass:"fs-8 text-muted"})})})]}),(0,w.jsx)(_.A.Control,{type:"number",id:"total_post",min:"1",max:"100",value:null===n||void 0===n?void 0:n.totalPosts,onChange:e=>{h({type:H.ccC,payload:e.target.value>100?100:e.target.value<=0?1:e.target.value})}})]}),[87].includes(r)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"ticker_slide",children:[c.slider_speed," "]}),(0,w.jsx)(j.Ay,{id:"ticker_slide",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:f,value:f[f.findIndex(e=>e.value==(null===n||void 0===n?void 0:n.slide.slideDuration))],onChange:e=>{h({type:H.tbg,payload:e.value})}})]}):null,[61,16,60,52,81,80,47,62,86,88].includes(r)&(null===n||void 0===n?void 0:n.slide.autoSlide)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"time_slide",children:[c.time_per_slide," (",null===n||void 0===n?void 0:n.slide.slideDuration," second)"]}),(0,w.jsx)(fe.A,{id:"time_slide",min:1,max:15,step:1,value:null===n||void 0===n?void 0:n.slide.slideDuration,onChange:e=>{h({type:H.tbg,payload:e})}})]}):null,[19,85,87,52,49,82,84].includes(r)?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"desktop_col",children:[c.column_desktop," "]}),(0,w.jsx)(j.Ay,{id:"desktop_col",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:C,value:C[C.findIndex(e=>e.value==(null===n||void 0===n?void 0:n.column.desktop))],onChange:e=>{h({type:H.DeG,payload:e.value?e.value:0}),h((0,He.Ux)(localStorage.getItem("active_wall"),null===n||void 0===n?void 0:n.totalPosts))}})]}),[50].includes(r)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"mobile_col",children:[c.column_mobile," "]}),(0,w.jsx)(j.Ay,{id:"mobile_col",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:A,value:A[A.findIndex(e=>e.value==(null===n||void 0===n?void 0:n.column.mobile))],onChange:e=>{h({type:H.Spw,payload:e.value})}})]})]}),null!==n&&void 0!==n&&n.row&&16==r?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"no_of_row",children:[c.no_of_row," (",null===n||void 0===n?void 0:n.row,")"]}),(0,w.jsx)(j.Ay,{id:"mobile_col",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:m,defaultValue:m[(null===n||void 0===n?void 0:n.row)-1],onChange:e=>{h({type:H.O5k,payload:e.value})}})]}):null,[62,82].includes(r)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("div",{className:"mb-2",children:(0,w.jsx)(Ze,{toggleName:c.hide_old_posts,dispatchfn:e=>h({type:H.h$H,payload:e}),toggleValue:null===n||void 0===n?void 0:n.oldPost.status,callbackFn:()=>{},callbackFn2:()=>{},tooltipTxt:c.hide_old_posts_tooltip})}),(0,w.jsx)("div",{className:"mb-2",children:null!==n&&void 0!==n&&n.oldPost.status?(0,w.jsx)(j.Ay,{id:"hide_post_range",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",menuPlacement:"top",options:p,defaultValue:p[30==(null===n||void 0===n?void 0:n.oldPost.showFrom)?7:8==(null===n||void 0===n?void 0:n.oldPost.showFrom)?8:(null===n||void 0===n?void 0:n.oldPost.showFrom)-1],onChange:e=>h({type:H.WuZ,payload:e.value})}):null}),8==(null===n||void 0===n?void 0:n.oldPost.showFrom)&&null!==n&&void 0!==n&&n.oldPost.status?(0,w.jsx)(Xe(),{language:"en",dateTime:O,inputFormat:"MM/DD/YYYY HH:mm A",onChange:e=>h({type:H.ohv,payload:1e3*F()(e).unix()}),viewMode:"date",className:"form-control form-control-sm",startOfWeek:"week",ref:B,defaultText:"Select date & time",id:"hide_post_date"}):null]}),![16,19,60,85,5,80,79].includes(r)||null!==n&&void 0!==n&&null!==(t=n.column)&&void 0!==t&&t.desktop&&0!=(null===n||void 0===n||null===(i=n.column)||void 0===i?void 0:i.desktop)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"min_post_w",children:[c.min_post_w," (",null===d||void 0===d?void 0:d.minimumWidth,"px)"]}),(0,w.jsx)(fe.A,{id:"time_slide",min:150,max:500,step:1,value:null===d||void 0===d?void 0:d.minimumWidth,onChange:e=>{h({type:H.$Xr,payload:e})}})]}),[87,52,49,82,84,88].includes(r)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"min_post_w",children:[c.post_spacing," (",null===d||void 0===d?void 0:d.style.margin,"px)"]}),(0,w.jsx)(fe.A,{id:"time_slide",min:0,max:50,step:1,value:null===d||void 0===d?void 0:d.style.margin,onChange:e=>{h({type:H.Oeg,payload:e})}})]})]})},el=e=>{var l,t,o,a,n;let{SnapUp:d,PersonalizationID:r,save_and_publish:c,is_magic_upload_change:u,content:h}=e;const p=(0,v.wA)(),m=h.review_hub,g=(0,v.d4)(e=>{var l;return null===(l=e.allFont)||void 0===l?void 0:l.allFonts}),{QrCode:x}=d;(0,s.useEffect)(()=>{1==c&&1==u&&b()},[c]);const b=()=>{var e,l,t,s,o,a,n,d,c,u,v={wallId:localStorage.getItem("active_wall"),websiteId:localStorage.getItem("website_id"),ownerId:localStorage.getItem("ownerId"),id:r,onsite_qr_code_btn_text:x.text?x.text:"",onsite_btn_color:null!==x&&void 0!==x&&null!==(e=x.style)&&void 0!==e&&e.background?null===x||void 0===x||null===(l=x.style)||void 0===l?void 0:l.background:"#000000",onsite_btn_txt_color:null!==x&&void 0!==x&&null!==(t=x.style)&&void 0!==t&&t.color?null===x||void 0===x||null===(s=x.style)||void 0===s?void 0:s.color:"#ffffff",onsite_link_font_btn:null!==x&&void 0!==x&&null!==(o=x.style)&&void 0!==o&&o.fontLink?null===x||void 0===x||null===(a=x.style)||void 0===a?void 0:a.fontLink.replace(/\s+/g,"+"):"Default",onsite_css_font_btn:null!==x&&void 0!==x&&null!==(n=x.style)&&void 0!==n&&n.font?null===x||void 0===x||null===(d=x.style)||void 0===d?void 0:d.font.replace(/\s+/g,"+"):"Default",onsite_font_varient_btn:x.style.varient?x.style.varient:"",btn_fontSize:x.style.size?x.style.size:16,onsite_qr_code_status:x.status?1:0};c=v,(new M.A).post("".concat(k.AuB),u?(0,i.A)({},c):(0,i.A)((0,i.A)({},c),{},{onsite_status:1}))},y=(e,l)=>{p({type:H.yW9,payload:"change"==e?l:e.label.key})};return(0,w.jsxs)("div",{className:"",children:[(0,w.jsx)("div",{className:"form-group mb-2",children:(0,w.jsx)("h6",{className:"titleMagicUpload mt-3 mb-4",children:null===m||void 0===m?void 0:m.btn_content})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"ugc_title",children:null===m||void 0===m?void 0:m.btn_text}),(0,w.jsx)(_.A.Control,{size:"sm",placeholder:"Snap Up Text",id:"ugc_title",value:null===x||void 0===x?void 0:x.text,onChange:e=>{p({type:H.kfA,payload:e.target.value})}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"ugc_bg_color",children:null===m||void 0===m?void 0:m.bg_color}),(0,w.jsx)(Ce.A,{id:"ugc_bg_color",isDisabled:"",defaultColor:null!==x&&void 0!==x&&null!==(l=x.style)&&void 0!==l&&l.background?null===x||void 0===x||null===(t=x.style)||void 0===t?void 0:t.background:"#000000",changeColor:e=>{p({type:H.UjQ,payload:e})},colorChanged:u})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{fontChange:e=>{const l=g.find(l=>l.family==e.label.key);let t=JSON.parse(l.variants).find(e=>{var l;return e==(null===x||void 0===x||null===(l=x.style)||void 0===l?void 0:l.font)});p({type:H.KvV,payload:l.family}),y("change",t||JSON.parse(l.variants)[0])},variantChange:y,fontval:null===x||void 0===x||null===(o=x.style)||void 0===o?void 0:o.font,vrntVal:x.style.varient,content:h})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"ugc_fnt_color",children:null===h||void 0===h?void 0:h.font_color}),(0,w.jsx)(Ce.A,{id:"ugc_fnt_color",isDisabled:"",defaultColor:null!==x&&void 0!==x&&null!==(a=x.style)&&void 0!==a&&a.color?null===x||void 0===x||null===(n=x.style)||void 0===n?void 0:n.color:"#ffffff",changeColor:e=>{p({type:H.j43,payload:e})},colorChanged:u})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"radius_range",children:null===h||void 0===h?void 0:h.font_size}),(0,w.jsx)(fe.A,{id:"radius_range",min:10,max:30,step:1,value:x.style.size,onChange:e=>{p({type:H.Yls,payload:e})}})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Ze,{toggleName:null===m||void 0===m?void 0:m.qr,toggleValue:String(x.status)?parseInt(x.status):1,callbackFn:()=>{},callbackFn2:()=>{},dispatchfn:e=>p({type:H.QPE,payload:Number(e)})})})]})};class ll extends s.Component{constructor(){super(...arguments),this.state={spinner:!1},this.onChangeVariant=e=>{this.props.CARD_STYLE_FONT_VARIENT(e.label.key)},this.onChangeHighlightPosition=e=>{this.props.CARD_STYLE_POSITION(e.value)},this.onFontChange=e=>{const l=this.props.allFont.find(l=>l.family==e.label.key);let t=JSON.parse(l.variants).find(e=>e==this.props.wallData.CardStyle.variant);this.props.CARD_STYLE_FONT_LINK(l.family,t||JSON.parse(l.variants)[0])},this.onSubmitData=e=>{var l,t,i,s,o,a,n,d,r,c,u,v,h,p,m,g,x,_,b,y,j,f,N,w,C,A;const{wallData:S}=this.props,{CardStyle:T,ThemeInfo:k,ThemeStyle:I}=S,D={link_font:(null===T||void 0===T||null===(l=T.style)||void 0===l||null===(t=l.font)||void 0===t?void 0:t.split(" ").join("+"))||"",css_font:(null===T||void 0===T||null===(i=T.style)||void 0===i?void 0:i.font)||"",font_varient:(null===T||void 0===T||null===(s=T.style)||void 0===s?void 0:s.variant)||"",cardColor:null===T||void 0===T||null===(o=T.style)||void 0===o?void 0:o.background,fontColor:null===T||void 0===T||null===(a=T.style)||void 0===a?void 0:a.color,fontSize:null===T||void 0===T||null===(n=T.style)||void 0===n?void 0:n.size,roundEdge:null===T||void 0===T||null===(d=T.style)||void 0===d?void 0:d.radius,authorColor:null===T||void 0===T||null===(r=T.author)||void 0===r?void 0:r.color,iconType:null===T||void 0===T||null===(c=T.icon)||void 0===c?void 0:c.default,iconColor:null===T||void 0===T||null===(u=T.icon)||void 0===u?void 0:u.color,postTime:Number(null===T||void 0===T?void 0:T.timeStatus),inheritStyles:Number(null===T||void 0===T?void 0:T.inheritStyles),postAuthor:Number(null===T||void 0===T||null===(v=T.author)||void 0===v?void 0:v.status),ctaStatus:Number(null===T||void 0===T||null===(h=T.globalCTA)||void 0===h?void 0:h.status),shareOption:Number(null===T||void 0===T?void 0:T.shareStatus),socialAction:Number(null===T||void 0===T?void 0:T.actionStatus),hideContent:Number(!(null!==T&&void 0!==T&&null!==(p=T.content)&&void 0!==p&&p.status)),popupContent:1,themeRuleId:null===k||void 0===k?void 0:k.id,highlightPosition:null===I||void 0===I?void 0:I.direction,postHover:1,shoppingText:"",showReelsView:null!==T&&void 0!==T&&T.reelViewStatus?1:0,textAlignment:null===T||void 0===T||null===(m=T.style)||void 0===m?void 0:m.textAlign,lineTrim:null===T||void 0===T||null===(g=T.content)||void 0===g?void 0:g.lines,aspectImageRatio:null===T||void 0===T||null===(x=T.style)||void 0===x?void 0:x.ratio,labelText:null===T||void 0===T||null===(_=T.label)||void 0===_?void 0:_.text,labelBgColor:null===T||void 0===T||null===(b=T.label)||void 0===b||null===(y=b.style)||void 0===y?void 0:y.background,labelFontColor:null===T||void 0===T||null===(j=T.label)||void 0===j||null===(f=j.style)||void 0===f?void 0:f.color,cardSize:null===T||void 0===T||null===(N=T.style)||void 0===N?void 0:N.cardSize,cardPosition:null===T||void 0===T||null===(w=T.style)||void 0===w?void 0:w.cardPosition,iconStatus:null===T||void 0===T||null===(C=T.icon)||void 0===C?void 0:C.status};(0,se.Vf)({data:D,wallId:null!==(A=null===k||void 0===k?void 0:k.wallId)&&void 0!==A?A:localStorage.getItem("active_wall"),themeId:null===k||void 0===k?void 0:k.id,personalizationId:null===I||void 0===I?void 0:I.id}).then(e=>{this.setState({spinner:!1})}).catch(e=>console.warn(e))},this.onHoverColorChange=e=>{this.props.CARD_STYLE_HOVER_COLOR(e),this.props.CARD_STYLE_SOCIAL_ICON_COLOR(e?"#ffffff":"#000000"),window.$("#ThemeRuleIconColor").minicolors("value",e?"#ffffff":"#000000"),this.props.CARD_STYLE_FONT_COLOR(e?"#ffffff":"#000000"),window.$("#ThemeRuleFontColor1").minicolors("value",e?"#ffffff":"#000000")},this.scrollDiv=e=>{e&&setTimeout(()=>{const e=document.querySelector(".cta_header");e&&e.scrollIntoView({behavior:"smooth"})},500)}}componentDidUpdate(e){!0===this.props.save_and_publish&&!0!==e.save_and_publish&&this.props.is_card_style_change&&setTimeout(()=>{this.onSubmitData()},500)}render(){var e,l,t,i,s,o,a,n,d,r,c;const{inheritStyle:v,wallData:h,is_card_style_change:p,isShoppable:m,content:g}=this.props,x=null===h||void 0===h||null===(e=h.CardStyle)||void 0===e?void 0:e.style,b=null===h||void 0===h||null===(l=h.CardStyle)||void 0===l?void 0:l.author,y=null===h||void 0===h||null===(t=h.CardStyle)||void 0===t?void 0:t.icon,f=null===h||void 0===h||null===(i=h.CardStyle)||void 0===i?void 0:i.content,N=null===h||void 0===h||null===(s=h.CardStyle)||void 0===s?void 0:s.label,C=function(){for(var e,l=arguments.length,t=new Array(l),i=0;i<l;i++)t[i]=arguments[i];return t.includes(null===h||void 0===h||null===(e=h.ThemeInfo)||void 0===e?void 0:e.id)},A=null!==(o=null===g||void 0===g?void 0:g.card_style)&&void 0!==o?o:{},{image_ratios:S=[],trim_options:T=[],card_positions:k=[],card_sizes:I=[],post_highlight_position:D=[]}=A;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(je.A,{children:(0,w.jsx)(we,{content:g})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)("p",{className:"h5",children:null===A||void 0===A?void 0:A.general_style}),(0,w.jsx)(Te,{inheritStyle:v,fontChange:this.onFontChange,variantChange:this.onChangeVariant,fontval:null===x||void 0===x?void 0:x.font,vrntVal:null===x||void 0===x?void 0:x.variant,content:g})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"font_color",children:null===g||void 0===g?void 0:g.font_color}),(0,w.jsx)(Ce.A,{id:"font_color",isDisabled:v?"disabled":"",defaultColor:x.color,changeColor:e=>this.props.CARD_STYLE_FONT_COLOR(e),colorChanged:p,inheritStyle:v})]}),C(82)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"font_size",children:null===A||void 0===A?void 0:A.font_size}),(0,w.jsx)(fe.A,{inheritStyle:v,id:"font_size",min:10,max:50,step:1,defaultValue:x.size,value:x.size,onChange:e=>{this.props.CARD_STYLE_FONT_SIZE(e)}})]}),C(60,52,87)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"radius_range",children:null===A||void 0===A?void 0:A.card_radius}),(0,w.jsx)(fe.A,{id:"radius_range",min:0,max:50,step:1,defaultValue:x.radius,value:x.radius,onChange:e=>{this.props.CARD_STYLE_CORNER_RADIUS(e)}})]}),C(81,84)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"card_color",children:null===A||void 0===A?void 0:A.card_color}),(0,w.jsx)(Ce.A,{id:"card_color",defaultColor:null===h||void 0===h?void 0:h.CardStyle.style.background,changeColor:e=>{this.props.CARD_STYLE_CARD_COLOR(e)},colorChanged:p})]}),C(82)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"card_position",children:null===A||void 0===A?void 0:A.card_position}),(0,w.jsx)(j.Ay,{id:"card_position",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:k,value:k[k.findIndex(e=>e.value==(null===x||void 0===x?void 0:x.cardPosition))],onChange:e=>this.props.CARD_STYLE_CARD_POS(e.value)})]}):null,C(82)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"card_size",children:null===A||void 0===A?void 0:A.card_size}),(0,w.jsx)(j.Ay,{id:"card_size",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:I,value:I[I.findIndex(e=>e.value==(null===x||void 0===x?void 0:x.cardSize))],onChange:e=>this.props.CARD_STYLE_CARD_SIZE(e.value)})]}):null,C(53)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"post_position",children:null===A||void 0===A?void 0:A.post_position}),(0,w.jsx)(j.Ay,{id:"post_position",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:D,value:D.find(e=>{var l;return e.value==(null===(l=h.ThemeStyle)||void 0===l?void 0:l.direction)}),onChange:e=>this.onChangeHighlightPosition(e)})]}):null,C(87)?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"label_text",children:null===A||void 0===A?void 0:A.label_text}),(0,w.jsx)(_.A.Control,{id:"label_text",value:null===N||void 0===N?void 0:N.text,maxLength:"30",onChange:e=>{this.props.CARD_STYLE_LABEL_TEXT(e.target.value)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"label_color",children:null===A||void 0===A?void 0:A.label_color}),(0,w.jsx)(Ce.A,{id:"label_color",defaultColor:null===N||void 0===N||null===(a=N.style)||void 0===a?void 0:a.background,changeColor:e=>{this.props.CARD_STYLE_LABEL_COLOR(e)},colorChanged:p})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"label_font_color",children:null===A||void 0===A?void 0:A.label_font_color}),(0,w.jsx)(Ce.A,{id:"label_font_color",defaultColor:null===N||void 0===N||null===(n=N.style)||void 0===n?void 0:n.color,changeColor:e=>this.props.CARD_STYLE_LABEL_FONT_COLOR(e),colorChanged:p})]})]}):null,C(16,50,19,47,85,5,83,20,49,80,84,79,46,47)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"text_align",children:null===A||void 0===A?void 0:A.text_alignment}),(0,w.jsxs)(pe.A,{className:"w-100 mb-3",type:"radio",name:"options",value:x.textAlign,onChange:e=>{this.props.CARD_STYLE_TEXT_ALIGN(e)},children:[(0,w.jsx)(me.A,{variant:"secondary",id:"t_a_left",value:"left",children:(0,w.jsx)(u.gc,{type:"solid",icon:"align-left"})}),(0,w.jsx)(me.A,{variant:"secondary",id:"t_a_ctr",value:"center",children:(0,w.jsx)(u.gc,{type:"solid",icon:"align-center"})}),(0,w.jsx)(me.A,{variant:"secondary",id:"t_a_right",value:"right",children:(0,w.jsx)(u.gc,{type:"solid",icon:"align-right"})})]})]}):null,C(16,50,19,47,85,5,83,20,52,49,80,84,79,86)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"line_trim",children:null===A||void 0===A?void 0:A.line_trim}),(0,w.jsx)(j.Ay,{id:"line_trim",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:T,value:T[T.findIndex(e=>e.value==(null===f||void 0===f?void 0:f.lines))],onChange:e=>this.props.CARD_STYLE_TRIM_LINE(e.value)})]}):null,C(16,19,47,3,5,83,20,49,81)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"image_ratio",children:null===A||void 0===A?void 0:A.aspect_ratio}),(0,w.jsx)(j.Ay,{id:"image_ratio",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:S,value:S[S.findIndex(e=>e.value==(null===x||void 0===x?void 0:x.ratio))],onChange:e=>this.props.CARD_STYLE_IMAGE_RATIO(e.value)})]}):null,(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(Ze,{toggleName:null===A||void 0===A?void 0:A.social_status,callbackFn2:()=>{},toggleValue:y.status,callbackFn:()=>{},dispatchfn:e=>this.props.CARD_STYLE_SOCIAL_ICON_STATUS(Number(e)),tooltipTxt:null===A||void 0===A?void 0:A.social_status_tooltip})}),C(62,83,87)?null:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(Ze,{toggleName:null===A||void 0===A?void 0:A.default_color,callbackFn2:()=>{},toggleValue:505==y.default,callbackFn:()=>{},dispatchfn:e=>this.props.CARD_STYLE_SOCIAL_ICON_COLOR_TYPE(e?505:1),tooltipTxt:null===A||void 0===A?void 0:A.default_color_tooltip})}),(0,w.jsx)("div",{style:{display:1==y.default?"block":"none"},children:(0,w.jsx)(Ce.A,{id:"icon_color",defaultColor:y.color,changeColor:e=>{this.props.CARD_STYLE_SOCIAL_ICON_COLOR(e)},colorChanged:p})})]}),C(87,81,82)?null:(0,w.jsx)("hr",{className:""}),(0,w.jsxs)("div",{children:[C(62,87,81,82)?null:(0,w.jsx)("p",{className:"h5",children:null===A||void 0===A?void 0:A.author_style}),C(83,87,81,82)?null:(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mt-2",htmlFor:"author_color",children:null===A||void 0===A?void 0:A.author_color}),(0,w.jsx)(Ce.A,{id:"author_color",defaultColor:b.color,changeColor:e=>{this.props.CARD_STYLE_AUTHOR_COLOR(e)},inheritStyle:v,colorChanged:p})]}),C(87,81,82)?null:(0,w.jsxs)(w.Fragment,{children:[C(87,81,82)?null:(0,w.jsxs)(w.Fragment,{children:[C(60)?null:(0,w.jsxs)(w.Fragment,{children:[" ",(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"time_",className:"f-between",label:null===A||void 0===A?void 0:A.time,checked:null===h||void 0===h?void 0:h.CardStyle.timeStatus,onChange:e=>{this.props.CARD_STYLE_TIME(Number(e.target.checked))},reverse:!0})}),(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"author_details",className:"f-between",label:null===A||void 0===A?void 0:A.author_detail,checked:b.status,onChange:e=>{this.props.CARD_STYLE_ATHOR_DETAIL(Number(e.target.checked))},reverse:!0})})," "]}),C(50,4,86,19,47,60,3,85,5,83,20,52,49,84,79)?(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"share_option",className:"f-between",label:null===A||void 0===A?void 0:A.share_options,checked:null===h||void 0===h?void 0:h.CardStyle.shareStatus,onChange:e=>{this.props.CARD_STYLE_SHARE_OPTION(Number(e.target.checked))},reverse:!0})}):null]}),C(50,16,4,86,19,47,5,83,20,52,49,84)?(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(Ze,{toggleName:null===A||void 0===A?void 0:A.hide_text,callbackFn2:()=>{},toggleValue:!(null!==f&&void 0!==f&&f.status),callbackFn:()=>{},dispatchfn:e=>this.props.CARD_STYLE_HIDE_CONTENT(Number(!(null!==f&&void 0!==f&&f.status))),tooltipTxt:null===A||void 0===A?void 0:A.hide_text_tooltip})}):null]}),C(62,19,47,3,5,83,20,52,49,84)?(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"social_actions",className:"f-between",label:null===A||void 0===A?void 0:A.social_actions,checked:null===h||void 0===h||null===(d=h.CardStyle)||void 0===d?void 0:d.actionStatus,onChange:e=>{this.props.CARD_STYLE_SHARE_ACTION(Number(e.target.checked))},reverse:!0})}):null,!m&&C(61,19,47,83,20,5,52,49,3,85)?(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"cta",className:"f-between",label:null===g||void 0===g?void 0:g.cta_heading,checked:null===h||void 0===h||null===(r=h.CardStyle)||void 0===r||null===(c=r.globalCTA)||void 0===c?void 0:c.status,onChange:e=>{this.props.CARD_STYLE_CTA_STATUS(Number(e.target.checked)),this.scrollDiv(Number(e.target.checked))},reverse:!0})}):null,C(62,61)?(0,w.jsx)("div",{className:"mt-5",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"reel_count",className:"f-between",label:"Reel view count",checked:null===h||void 0===h?void 0:h.CardStyle.reelViewStatus,onChange:e=>{this.props.CARD_STYLE_REELS_VIEW(Number(e.target.checked))},reverse:!0})}):null]})]})}}const tl=(0,v.Ng)(e=>{var l,t,i,s,o,a,n;return{showCTAButton:null===(l=e.appsMore)||void 0===l||null===(t=l.CardStyle)||void 0===t?void 0:t.globalCTA,videoPopup:e.appsMore.video_popup,is_card_style_change:null===(i=e.appData)||void 0===i?void 0:i.is_card_style_change,inheritStyle:null===(s=e.appData)||void 0===s||null===(o=s.wall)||void 0===o||null===(a=o.CardStyle)||void 0===a?void 0:a.inheritStyles,allFont:null===(n=e.allFont)||void 0===n?void 0:n.allFonts,appData:e.appData}},e=>({updateCtastatus:l=>e((0,se.An)(l)),CARD_STYLE_FONT_LINK:(l,t)=>{e({type:H.cvj,font:l,varient:t}),e({type:H.F7A,payload:!0})},CARD_STYLE_FONT_VARIENT:l=>{e({type:H.pKK,varient:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_FONT_SIZE:l=>{e({type:H.Fgt,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_CARD_COLOR:l=>{e({type:H.O67,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_FONT_COLOR:l=>{e({type:H.pPn,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_HOVER_COLOR:l=>{e({type:H.WqP,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_HOVER_TEXT:l=>{e({type:H.sG1,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_CORNER_RADIUS:l=>{e({type:H.C99,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_POSITION:l=>{e({type:H.tmE,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_AUTHOR_COLOR:l=>{e({type:H.R2I,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_SOCIAL_ICON_COLOR_TYPE:l=>{e({type:H.Ki1,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_SOCIAL_ICON_STATUS:l=>{e({type:H.mj,payload:l})},CARD_STYLE_SOCIAL_ICON_COLOR:l=>{e({type:H.DA4,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_TIME:l=>{e({type:H.bUA,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_ATHOR_DETAIL:l=>{e({type:H.WgG,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_SHARE_OPTION:l=>{e({type:H.tXX,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_SHARE_ACTION:l=>{e({type:H.C4x,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_HIDE_CONTENT:l=>{e({type:H.IxM,payload:l})},CARD_STYLE_POPUP_CONTENT:l=>{e({type:H.Q6j,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_REELS_VIEW:l=>{e({type:H.Rg2,payload:l}),e({type:H.F7A,payload:!0})},CARD_STYLE_TEXT_ALIGN:l=>e({type:H.NDW,payload:l}),CARD_STYLE_TRIM_LINE:l=>e({type:H.dSW,payload:l}),CARD_STYLE_IMAGE_RATIO:l=>e({type:H.RRQ,payload:l}),CARD_STYLE_LABEL_TEXT:l=>e({type:H.kA,payload:l}),CARD_STYLE_LABEL_COLOR:l=>e({type:H.Ix1,payload:l}),CARD_STYLE_LABEL_FONT_COLOR:l=>e({type:H.Mvc,payload:l}),CARD_STYLE_CARD_POS:l=>e({type:H.peU,payload:l}),CARD_STYLE_CARD_SIZE:l=>e({type:H.KgV,payload:l}),CARD_STYLE_CTA_STATUS:l=>e({type:H.fuv,payload:l})}))(ll),il=e=>{var l,t,i,o;let{wallData:a,save_and_publish:n,is_utm_tracker_change:d,content:r}=e;const c=(0,v.wA)(),h=r.google_analytics,[p,m]=(0,s.useState)(!1),g=null===a||void 0===a||null===(l=a.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.gtStatus,x=null===a||void 0===a||null===(i=a.wall)||void 0===i||null===(o=i.ThemeInfo)||void 0===o?void 0:o.gtCode;return(0,s.useEffect)(()=>{1==n&&1==d&&(()=>{if(0==x.trim().length&&1==g)return m(!0),!1;c((0,He.mK)(x,g))})()},[n]),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"google_anly",children:[(0,w.jsx)("span",{className:"me-2",children:null===r||void 0===r?void 0:r.google_analytics_heading}),(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:null===h||void 0===h?void 0:h.google_analytics_tooltip}),children:(0,w.jsx)("span",{children:(0,w.jsx)(u.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsx)(_.A.Check,{type:"switch",id:"google_anly",checked:g,onChange:e=>{m(!1),c({type:H._ft,payload:e.target.checked})}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Control,{placeholder:"e.g. UA-123456-1 A",className:"".concat(p?"is-invalid":""),value:x,maxLength:"100",type:"text",onChange:e=>{m(!1),c({type:H.CNo,payload:e.target.value})},disabled:!g}),p?(0,w.jsxs)("span",{className:"invalid-feedback",children:[" ",null===h||void 0===h?void 0:h.error_msg," "]}):""]})]})};class sl extends s.Component{render(){const{CssStatus:e,content:l}=this.props;return(0,w.jsxs)("div",{className:"f-between",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2 d-flex flex-wrap",htmlFor:"custom_css_status",children:[(0,w.jsx)("span",{className:"me-2",children:null===l||void 0===l?void 0:l.custom_css_status}),(0,w.jsx)(b.A,{placement:"top",overlay:(0,w.jsx)(y.A,{children:null===l||void 0===l?void 0:l.custom_css_tooltip}),children:(0,w.jsx)("span",{children:(0,w.jsx)(u.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsx)(_.A.Check,{type:"switch",id:"custom_css_status",defaultValue:e,checked:1===e,onChange:e=>{this.props.CARD_STYLE_INHERIT(Number(e.target.checked))}})]})}}const ol=(0,v.Ng)(e=>{var l,t,i;return{CssStatus:null===(l=e.appData)||void 0===l||null===(t=l.wall)||void 0===t||null===(i=t.ThemeStyle)||void 0===i?void 0:i.css.status}},e=>({CARD_STYLE_INHERIT:l=>{e({type:H.bAF,payload:Number(l)})}}))(sl);class al extends s.Component{constructor(){var e;super(...arguments),e=this,this.updateBanner=function(l,t,s,o){var a,n,d,r,c;let u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{wallData:v,changeBanner:h,changeBannerHeader:p}=e.props,m=null===v||void 0===v||null===(a=v.Banner)||void 0===a?void 0:a[0];if(!u&&(null===(n=String(o))||void 0===n?void 0:n.trim())==(s?null===(d=String(m[l][t][s]))||void 0===d?void 0:d.trim():null===(r=String(m[l][t]))||void 0===r?void 0:r.trim()))return!1;h({updatedData:null===v||void 0===v||null===(c=v.Banner)||void 0===c?void 0:c.map(e=>(0,i.A)((0,i.A)({},e),{},{[l]:(0,i.A)((0,i.A)({},e[l]),{},{[t]:s?(0,i.A)((0,i.A)({},e[l][t]),{},{[s]:o,["font"==s&&"fontLink"]:"font"==s&&(null===o||void 0===o?void 0:o.replace(/ /g,"+"))}):o}),userUpdated:1,wallId:localStorage.getItem("active_wall"),website_id:localStorage.getItem("website_id")}))}),p(!0)}}render(){var e,l,t,i,s,o,a,n,d,r,c,u,v,h,p;const{inheritStyle:m,wallData:g,content:x}=this.props,{Banner:b}=g,y=null===b||void 0===b?void 0:b[0],j=x.banner_style;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(je.A,{children:(0,w.jsx)(we,{content:x})}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:null===j||void 0===j?void 0:j.heading})}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{inheritStyle:m,fontChange:e=>{this.updateBanner("title","style","font",e.label.key)},variantChange:e=>{this.updateBanner("title","style","variant",e.label.key)},fontval:null===y||void 0===y?void 0:y.title.style.font,vrntVal:null===y||void 0===y?void 0:y.title.style.variant,content:x})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"h_c",children:null===x||void 0===x?void 0:x.font_color}),(0,w.jsx)(Ce.A,{id:"h_c",isDisabled:m?"disabled":"",defaultColor:null===y||void 0===y?void 0:y.title.style.color,changeColor:e=>{this.updateBanner("title","style","color",e)},inheritStyle:m})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"h_s",children:null===j||void 0===j?void 0:j.font_size}),(0,w.jsx)(fe.A,{inheritStyle:m,id:"h_s",min:10,max:50,step:1,defaultValue:null===y||void 0===y?void 0:y.title.style.size,value:null===y||void 0===y?void 0:y.title.style.size,onChange:e=>{this.updateBanner("title","style","size",Number(e))}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"bg_c",children:null===j||void 0===j?void 0:j.background_color}),(0,w.jsx)(Ce.A,{id:"bg_c",isDisabled:"",defaultColor:null===y||void 0===y||null===(e=y.background)||void 0===e?void 0:e.primaryColor,changeColor:e=>{this.updateBanner("background","primaryColor",null,e)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_c",children:null===j||void 0===j?void 0:j.star_color}),(0,w.jsx)(Ce.A,{id:"s_c",isDisabled:m?"disabled":"",defaultColor:null===y||void 0===y||null===(l=y.star)||void 0===l?void 0:l.color,changeColor:e=>{this.updateBanner("star","color",null,e)},inheritStyle:m})]}),(0,w.jsx)("hr",{className:""}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:null===j||void 0===j?void 0:j.review_button})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"b_t",children:null===j||void 0===j?void 0:j.button_text}),(0,w.jsx)(_.A.Control,{id:"b_t",value:null===y||void 0===y||null===(t=y.button)||void 0===t?void 0:t.text,maxLength:"30",onChange:e=>{this.updateBanner("button","text",null,e.target.value,!0)}})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{inheritStyle:m,fontChange:e=>{this.updateBanner("button","style","font",e.label.key)},variantChange:e=>{this.updateBanner("button","style","variant",e.label.key)},fontval:null===y||void 0===y||null===(i=y.button)||void 0===i||null===(s=i.style)||void 0===s?void 0:s.font,vrntVal:null===y||void 0===y||null===(o=y.button)||void 0===o||null===(a=o.style)||void 0===a?void 0:a.variant,content:x})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"b_c",children:null===x||void 0===x?void 0:x.font_color}),(0,w.jsx)(Ce.A,{id:"b_c",isDisabled:m?"disabled":"",defaultColor:null===y||void 0===y||null===(n=y.button)||void 0===n||null===(d=n.style)||void 0===d?void 0:d.color,changeColor:e=>{this.updateBanner("button","style","color",e)},inheritStyle:m})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"b_bgc",children:null===j||void 0===j?void 0:j.background_color}),(0,w.jsx)(Ce.A,{id:"b_bgc",isDisabled:m?"disabled":"",defaultColor:null===y||void 0===y||null===(r=y.button)||void 0===r||null===(c=r.style)||void 0===c?void 0:c.background,changeColor:e=>{this.updateBanner("button","style","background",e)},inheritStyle:m})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"b_s",children:null===j||void 0===j?void 0:j.font_size}),(0,w.jsx)(fe.A,{inheritStyle:m,id:"b_s",min:10,max:50,step:1,defaultValue:null===y||void 0===y||null===(u=y.button)||void 0===u||null===(v=u.style)||void 0===v?void 0:v.size,value:null===y||void 0===y||null===(h=y.button)||void 0===h||null===(p=h.style)||void 0===p?void 0:p.size,onChange:e=>{this.updateBanner("button","style","size",Number(e))}})]})]})}}const nl=(0,v.Ng)(e=>{var l,t,i,s,o;return{allFont:null===(l=e.allFont)||void 0===l?void 0:l.allFonts,isHeaderUpdate:null===(t=e.appData)||void 0===t?void 0:t.isHeaderUpdate,inheritStyle:null===(i=e.appData)||void 0===i||null===(s=i.wall)||void 0===s||null===(o=s.CardStyle)||void 0===o?void 0:o.inheritStyles}},e=>({changeBanner:l=>e({type:H.QRl,payload:l}),changeBannerHeader:l=>e({type:H.EG6,payload:l})}))(al);class dl extends s.Component{constructor(){super(...arguments),this.state={feedList:[],selectedFeed:[],urlError:!1},this.onSubmitData=()=>{var e,l,t;const{wallData:i}=this.props,s=null===i||void 0===i||null===(e=i.CardStyle)||void 0===e?void 0:e.globalCTA,o=this.state.selectedFeed.map(e=>e.value).join(","),a={ctaTextColor:s.color,ctaButtonColor:s.background,buttonText:s.text,buttonUrl:s.url,ctaStatus:s.status,feeds:o};(0,se.un)(null===i||void 0===i||null===(l=i.ThemeStyle)||void 0===l?void 0:l.id,a,null===i||void 0===i||null===(t=i.ThemeInfo)||void 0===t?void 0:t.wallId)}}componentWillMount(){var e;const{wallData:l}=this.props;(0,se.HW)((null===l||void 0===l||null===(e=l.ThemeInfo)||void 0===e?void 0:e.wallId)||localStorage.getItem("active_wall")).then(e=>{var t,i,s,o;const{responsedata:a}=e.data,n=null===a||void 0===a||null===(t=a.feeds)||void 0===t?void 0:t.map(e=>({label:(0,N.Xo)(e.name),value:e.id})),d=null!==l&&void 0!==l&&null!==(i=l.CardStyle)&&void 0!==i&&null!==(s=i.globalCTA)&&void 0!==s&&s.feeds?null===a||void 0===a||null===(o=a.feeds)||void 0===o?void 0:o.filter(e=>{var t,i;return null===l||void 0===l||null===(t=l.CardStyle)||void 0===t||null===(i=t.globalCTA)||void 0===i?void 0:i.feeds.includes(e.id)}).map(e=>({label:e.name,value:e.id})):[];this.setState({feedList:n,selectedFeed:d})})}componentDidUpdate(e){!0===this.props.save_and_publish&&!0!==e.save_and_publish&&this.props.is_cta_change&&!this.state.urlError&&setTimeout(()=>{this.onSubmitData()},500)}render(){var e;const{wallData:l,is_cta_change:t,changeCta:i,changeText:s,changeBtnClr:o,changeTextClr:a,changeBtnUrl:n,content:d}=this.props,{feedList:r,selectedFeed:c,urlError:u}=this.state,v=null===l||void 0===l||null===(e=l.CardStyle)||void 0===e?void 0:e.globalCTA,h=d.cta;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"label_text",children:null===h||void 0===h?void 0:h.btn_text}),(0,w.jsx)(_.A.Control,{id:"label_text",value:null===v||void 0===v?void 0:v.text,maxLength:"25",onChange:e=>s(e.target.value)})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"text_color",children:null===h||void 0===h?void 0:h.text_color}),(0,w.jsx)(Ce.A,{id:"text_color",isDisabled:"",defaultColor:null===v||void 0===v?void 0:v.color,changeColor:e=>a(e),colorChanged:t})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"btn_color",children:null===h||void 0===h?void 0:h.btn_color}),(0,w.jsx)(Ce.A,{id:"btn_color",isDisabled:"",defaultColor:null===v||void 0===v?void 0:v.background,changeColor:e=>o(e),colorChanged:t})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"btn_url",children:null===h||void 0===h?void 0:h.btn_url}),(0,w.jsx)(_.A.Control,{id:"btn_url",className:u?"is-invalid":"",value:null===v||void 0===v?void 0:v.url,onChange:e=>{n(e.target.value),this.setState({urlError:!(0,N.m$)(e.target.value)})},placeholder:"https://www.google.com/"}),u&&(0,w.jsx)("span",{className:"invalid-feedback",children:null===h||void 0===h?void 0:h.btn_url_error})]})]})}}const rl=(0,v.Ng)(e=>({}),e=>({changeCta:()=>e({type:H.y9i,payload:!0}),changeText:l=>e({type:H.pqh,payload:l}),changeTextClr:l=>e({type:H.wxu,payload:l}),changeBtnClr:l=>e({type:H.vnj,payload:l}),changeBtnUrl:l=>e({type:H.PI_,payload:l})}))(dl);class cl extends s.Component{constructor(){super(...arguments),this.onSubmitData=()=>{const{wall:e}=this.props,{hashtag:l}=null===e||void 0===e?void 0:e.CardStyle,t={hashtag_color:(null===l||void 0===l?void 0:l.color)||"#000000",hashtag_feed:(null===l||void 0===l?void 0:l.feedHashtag)||0,hashtag_all:(null===l||void 0===l?void 0:l.allHashtag)||0,hashtag_highlight:(null===l||void 0===l?void 0:l.colorStatus)||0,website_id:localStorage.getItem("website_id"),wallId:localStorage.getItem("active_wall")};(0,se.TM)(t)}}componentDidUpdate(e){!0===this.props.save_and_publish&&!0!==e.save_and_publish&&this.props.is_hash_changed&&setTimeout(()=>{this.onSubmitData()},500)}render(){const{wall:e,is_hash_changed:l,hashColor:t,hashAll:i,hashFeed:s,hashStatus:o,content:a}=this.props,{hashtag:n}=null===e||void 0===e?void 0:e.CardStyle;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"hash_color",children:null===a||void 0===a?void 0:a.color}),(0,w.jsx)(Ce.A,{id:"hash_color",defaultColor:null===n||void 0===n?void 0:n.color,changeColor:e=>t(e),colorChanged:l})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"hash_feed",className:"f-between",label:null===a||void 0===a?void 0:a.feed_hashtag,checked:null===n||void 0===n?void 0:n.feedHashtag,onChange:e=>s(Number(e.target.checked)),reverse:!0})}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"hash_tag",className:"f-between",label:null===a||void 0===a?void 0:a.all_hashtag,checked:null===n||void 0===n?void 0:n.allHashtag,onChange:e=>i(Number(e.target.checked)),reverse:!0})}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"hash_status",className:"f-between",label:null===a||void 0===a?void 0:a.custom_css_status,checked:null===n||void 0===n?void 0:n.colorStatus,onChange:e=>o(Number(e.target.checked)),reverse:!0})})]})}}const ul=(0,v.Ng)(e=>{var l;return{is_hash_changed:null===(l=e.appData)||void 0===l?void 0:l.is_hash_changed}},e=>({hashColor:l=>e({type:H.dUK,payload:l}),hashStatus:l=>e({type:H.Km,payload:l}),hashAll:l=>e({type:H.rZ1,payload:l}),hashFeed:l=>e({type:H.G55,payload:l})}))(cl);var vl=t(68047);class hl extends s.Component{constructor(){var e;super(...arguments),e=this,this.state={networkList:[],selectedNetwork:{lable:"All",value:0}},this.updateSocialBanner=function(l,t,s,o){var a,n,d;let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{wallData:c,changeBanner:u,changeBannerHeader:v}=e.props,{selectedNetwork:h}=e.state,p=null===c||void 0===c||null===(a=c.Banner)||void 0===a?void 0:a.find(e=>e.network.id==h.value);if(!r&&(null===o||void 0===o?void 0:o.trim())==(null===(n=s?p[l][t][s]:p[l][t])||void 0===n?void 0:n.trim()))return!1;const m=[0,"font","color"].includes(s);u({updatedData:null===c||void 0===c||null===(d=c.Banner)||void 0===d?void 0:d.map(e=>{var a;return m?(0,i.A)((0,i.A)({},e),{},{[l]:(0,i.A)((0,i.A)({},e[l]),{},{[t]:s?(0,i.A)((0,i.A)({},e[l][t]),{},{[s]:o,["font"==s&&"fontLink"]:"font"==s&&(null===o||void 0===o?void 0:o.replace(/ /g,"+"))}):o})}):(null===e||void 0===e||null===(a=e.network)||void 0===a?void 0:a.id)===h.value?(0,i.A)((0,i.A)({},e),{},{[l]:(0,i.A)((0,i.A)({},e[l]),{},{[t]:s?(0,i.A)((0,i.A)({},e[l][t]),{},{[s]:o}):o}),userUpdated:1,wallId:localStorage.getItem("active_wall"),website_id:localStorage.getItem("website_id")}):(0,i.A)((0,i.A)({},e),{},{wallId:localStorage.getItem("active_wall"),website_id:localStorage.getItem("website_id")})}),activeBanner:h.value}),v(!0)}}componentDidMount(){const{wallData:e}=this.props,{Banner:l}=e;if((null===l||void 0===l?void 0:l.length)>0){const e=(null===l||void 0===l?void 0:l.map(e=>({label:0==e.network.id?"All":e.network.name,value:e.network.id})))||[],t=(null===e||void 0===e?void 0:e.length)>1?[...this.state.networkList,...e]:e;this.setState({networkList:t,selectedNetwork:(null===e||void 0===e?void 0:e.length)>1?{label:"All",value:0}:null===e||void 0===e?void 0:e[0]})}}componentDidUpdate(e){var l,t,i;const{wallData:s}=this.props;if((null===e||void 0===e||null===(l=e.wallData)||void 0===l||null===(t=l.Banner)||void 0===t?void 0:t.length)!==(null===s||void 0===s||null===(i=s.Banner)||void 0===i?void 0:i.length)){var o;const e=(null===s||void 0===s||null===(o=s.Banner)||void 0===o?void 0:o.map(e=>({label:0==e.network.id?"All":e.network.name,value:e.network.id})))||[],l=(null===e||void 0===e?void 0:e.length)>1?[...this.state.networkList,...e]:e;this.setState({networkList:l,selectedNetwork:(null===e||void 0===e?void 0:e.length)>1?{label:"All",value:0}:null===e||void 0===e?void 0:e[0]})}}render(){var e,l,t,i,s,o,a,n,d,r;const{inheritStyle:c,wallData:u,content:v}=this.props,{Banner:h}=u,{networkList:p,selectedNetwork:m}=this.state,g=null===h||void 0===h?void 0:h.find(e=>e.network.id==(null===m||void 0===m?void 0:m.value)),x=null===v||void 0===v?void 0:v.banner_style;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(je.A,{children:(0,w.jsx)(we,{content:v})}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:null===x||void 0===x?void 0:x.overall_settings})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_bg_c",children:null===x||void 0===x?void 0:x.background_color}),(0,w.jsx)(Ce.A,{id:"primaryColor",isDisabled:"",defaultColor:null===g||void 0===g||null===(e=g.background)||void 0===e?void 0:e.primaryColor,changeColor:e=>{this.updateSocialBanner("background","primaryColor",0,e)}})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{inheritStyle:c,fontChange:e=>{this.updateSocialBanner("title","style","font",e.label.key)},variantChange:this.onChangeVariant,fontval:null===g||void 0===g?void 0:g.title.style.font,vrntVal:null===g||void 0===g?void 0:g.title.style.font,content:v})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_f_c",children:null===v||void 0===v?void 0:v.font_color}),(0,w.jsx)(Ce.A,{id:"color",isDisabled:c?"disabled":"",defaultColor:null===g||void 0===g?void 0:g.title.style.color,changeColor:e=>{this.updateSocialBanner("title","style","color",e)},inheritStyle:c})]}),(0,w.jsx)("hr",{className:""}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:null===x||void 0===x?void 0:x.other_settings})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_ntwrk",children:null===x||void 0===x?void 0:x.select_network}),(0,w.jsx)(j.Ay,{id:"s_ntwrk",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:p,value:null!==p&&void 0!==p&&p.length&&m?p[null===p||void 0===p?void 0:p.findIndex(e=>e.value==m.value)]:null,onChange:e=>this.setState({selectedNetwork:e})})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_t",children:null===x||void 0===x?void 0:x.title}),(0,w.jsx)(_.A.Control,{id:"s_t",value:null===g||void 0===g||null===(l=g.title)||void 0===l?void 0:l.text,maxLength:"30",onChange:e=>{this.updateSocialBanner("title","text",null,e.target.value,!0)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_st",children:null===x||void 0===x?void 0:x.subtitle}),(0,w.jsx)(_.A.Control,{id:"s_st",value:null===g||void 0===g||null===(t=g.subTitle)||void 0===t?void 0:t.text,maxLength:"30",onChange:e=>{this.updateSocialBanner("subTitle","text",null,e.target.value,!0)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_pi",children:null===x||void 0===x?void 0:x.profile_image}),(0,w.jsx)(vl.A,{id:"s_pi",imageStyle:{paddingBottom:"66%"},backgroundImage:null===g||void 0===g||null===(i=g.logo)||void 0===i?void 0:i.url,onClickTouploadImage:e=>{this.updateSocialBanner("logo","url",null,e)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_bt",children:null===x||void 0===x?void 0:x.button_text}),(0,w.jsx)(_.A.Control,{id:"s_bt",value:null===g||void 0===g||null===(s=g.button)||void 0===s?void 0:s.text,maxLength:"30",onChange:e=>{this.updateSocialBanner("button","text",null,e.target.value,!0)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_bt_txt_c",children:null===x||void 0===x?void 0:x.button_text_color}),(0,w.jsx)(Ce.A,{id:"social",isDisabled:"",defaultColor:null===g||void 0===g||null===(o=g.button)||void 0===o||null===(a=o.style)||void 0===a?void 0:a.color,changeColor:e=>{this.updateSocialBanner("button","style","color",e)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_bt_c",children:null===x||void 0===x?void 0:x.button_color}),(0,w.jsx)(Ce.A,{id:"secondaryColor",isDisabled:"",defaultColor:null===g||void 0===g||null===(n=g.button)||void 0===n||null===(d=n.style)||void 0===d?void 0:d.background,changeColor:e=>{this.updateSocialBanner("button","style","background",e)}})]}),null!==m&&void 0!==m&&m.value?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_t",children:null===x||void 0===x?void 0:x.follow_us}),(0,w.jsx)(_.A.Control,{id:"s_t",value:null===g||void 0===g||null===(r=g.button)||void 0===r?void 0:r.followLink,onChange:e=>{this.updateSocialBanner("button","followLink",null,e.target.value)}})]}):null]})}}const pl=(0,v.Ng)(e=>{var l,t,i,s,o;return{allFont:null===(l=e.allFont)||void 0===l?void 0:l.allFonts,isHeaderUpdate:null===(t=e.appData)||void 0===t?void 0:t.isHeaderUpdate,inheritStyle:null===(i=e.appData)||void 0===i||null===(s=i.wall)||void 0===s||null===(o=s.CardStyle)||void 0===o?void 0:o.inheritStyles}},e=>({changeBanner:l=>e({type:H.QRl,payload:l}),changeBannerHeader:l=>e({type:H.EG6,payload:l})}))(hl),ml=[{label:"Default Colors",value:1},{label:"Choose Colors",value:2}],gl=[{label:"At top with full width",value:1},{label:"At bottom with full width",value:2}],xl=[{label:"facebook",value:1},{label:"instagram",value:2},{label:"twitter",value:3}];class _l extends s.Component{constructor(){super(...arguments),this.updateBanner=(e,l,t,s)=>{var o,a,n,d,r;const{wall:c}=this.props,u=null===c||void 0===c||null===(o=c.Banner)||void 0===o?void 0:o[0];if((null===(a=String(s))||void 0===a?void 0:a.trim())==(t?null===(n=String(u[e][l][t]))||void 0===n?void 0:n.trim():null===(d=String(u[e][l]))||void 0===d?void 0:d.trim()))return!1;const v=null===c||void 0===c||null===(r=c.Banner)||void 0===r?void 0:r.map(o=>(0,i.A)((0,i.A)({},o),{},{[e]:l?(0,i.A)((0,i.A)({},o[e]),{},{[l]:t?(0,i.A)((0,i.A)({},o[e][l]),{},{[t]:s}):s}):s,userUpdated:1,wallId:localStorage.getItem("active_wall"),website_id:localStorage.getItem("website_id")}));this.props.changeBanner({updatedData:v}),this.props.changeBannerHeader(!0)}}render(){var e,l,t,i,s,o,a,n,d,r,c,u,v,h,p,x,b,y,f,N,C,A,S,T,k,I,D,L,P,E,F,B,O,R,U,H;const{wall:M}=this.props,z=null===M||void 0===M||null===(e=M.Banner)||void 0===e?void 0:e[0];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:"Background"})}),(0,w.jsx)(m.A,{className:"gx-2",children:(0,w.jsxs)(g.A,{xs:12,children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_ntwrk",children:"Background"}),(0,w.jsx)(Ce.A,{id:"s_f_c",defaultColor:null===z||void 0===z||null===(l=z.background)||void 0===l?void 0:l.primaryColor,changeColor:e=>{this.updateBanner("background","primaryColor",null,e)}})]})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_pi",children:"Background Image"}),(0,w.jsx)(vl.A,{id:"s_pi",imageStyle:{paddingBottom:"66%"},backgroundImage:null===z||void 0===z||null===(t=z.background)||void 0===t?void 0:t.url,onClickTouploadImage:e=>{this.updateBanner("background","url",null,e)}})]}),(0,w.jsx)("hr",{className:""}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:"Content"})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_t",children:"Title"}),(0,w.jsx)(_.A.Control,{id:"s_t",value:null===z||void 0===z||null===(i=z.title)||void 0===i?void 0:i.text,maxLength:"30",onChange:e=>{this.updateBanner("title","text",null,e.target.value)}})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{inheritStyle:"",fontChange:e=>this.updateBanner("title","style","font",e.label.key),variantChange:e=>{this.updateBanner("title","style","variant",e)},fontval:null===z||void 0===z||null===(s=z.title)||void 0===s||null===(o=s.style)||void 0===o?void 0:o.font,vrntVal:null===z||void 0===z||null===(a=z.title)||void 0===a||null===(n=a.style)||void 0===n?void 0:n.variant})}),(0,w.jsxs)(m.A,{className:"gx-2 mt-4",children:[(0,w.jsxs)(g.A,{xs:5,children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_f_c_f",children:"Font color"}),(0,w.jsx)(Ce.A,{id:"s_f_c_f_1",defaultColor:null===z||void 0===z||null===(d=z.title)||void 0===d||null===(r=d.style)||void 0===r?void 0:r.color,changeColor:e=>{this.updateBanner("title","style","color",e)}})]}),(0,w.jsxs)(g.A,{xs:7,children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"h_s",children:"Font size"}),(0,w.jsx)(fe.A,{inheritStyle:"",id:"h_s",min:10,max:50,step:1,defaultValue:null===z||void 0===z||null===(c=z.title)||void 0===c||null===(u=c.style)||void 0===u?void 0:u.size,value:null===z||void 0===z||null===(v=z.title)||void 0===v||null===(h=v.style)||void 0===h?void 0:h.size,onChange:e=>{this.updateBanner("title","style","size",Number(e))}})]})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_t",children:"Subtitle"}),(0,w.jsx)(_.A.Control,{id:"s_t",value:null===z||void 0===z||null===(p=z.subTitle)||void 0===p?void 0:p.text,maxLength:"30",onChange:e=>{this.updateBanner("subTitle","text",null,e.target.value)}})]}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Te,{inheritStyle:"",fontChange:e=>this.updateBanner("subTitle","style","font",e.label.key),variantChange:e=>{this.updateBanner("subTitle","style","variant",e.label.key)},fontval:null===z||void 0===z||null===(x=z.subTitle)||void 0===x||null===(b=x.style)||void 0===b?void 0:b.font,vrntVal:null===z||void 0===z||null===(y=z.subTitle)||void 0===y||null===(f=y.style)||void 0===f?void 0:f.variant})}),(0,w.jsxs)(m.A,{className:"gx-2 mt-4",children:[(0,w.jsxs)(g.A,{xs:5,children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_f_c_f",children:"Font color"}),(0,w.jsx)(Ce.A,{id:"s_f_c_f",defaultColor:null===z||void 0===z||null===(N=z.subTitle)||void 0===N||null===(C=N.style)||void 0===C?void 0:C.color,changeColor:e=>{this.updateBanner("subTitle","style","color",e)}})]}),(0,w.jsxs)(g.A,{xs:7,children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"h_s",children:"Font size"}),(0,w.jsx)(fe.A,{inheritStyle:"",id:"h_s",min:10,max:50,step:1,defaultValue:null===z||void 0===z||null===(A=z.subTitle)||void 0===A||null===(S=A.style)||void 0===S?void 0:S.size,value:null===z||void 0===z||null===(T=z.subTitle)||void 0===T||null===(k=T.style)||void 0===k?void 0:k.size,onChange:e=>{this.updateBanner("subTitle","style","size",Number(e))}})]})]}),(0,w.jsx)("hr",{className:""}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:"Social Icon"})}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(_.A.Check,{type:"switch",id:"default_icon_color",className:"f-between mb-2",label:"Social Icon On/Off",checked:null===z||void 0===z||null===(I=z.social)||void 0===I?void 0:I.status,onChange:e=>{var l;this.updateBanner("social","status",null,!(null!==z&&void 0!==z&&null!==(l=z.social)&&void 0!==l&&l.status))},reverse:!0})}),null!==z&&void 0!==z&&null!==(D=z.social)&&void 0!==D&&D.status?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(j.Ay,{id:"line_trim",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:xl,isMulti:!0,onChange:e=>{this.updateBanner("social","enableIcons",null,e.map(e=>e.value))},defaultValue:xl.filter(e=>{var l;return null===z||void 0===z||null===(l=z.social)||void 0===l?void 0:l.enableIcons.includes(e.value)})})}):null,(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"h_s",children:"Font size"}),(0,w.jsx)(fe.A,{inheritStyle:"",id:"h_s",min:10,max:50,step:1,defaultValue:"",value:null===z||void 0===z||null===(L=z.social)||void 0===L||null===(P=L.style)||void 0===P?void 0:P.size,onChange:e=>{this.updateBanner("social","style","size",Number(e))}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_ntwrk",children:"Social Icon Color"}),(0,w.jsx)(j.Ay,{id:"s_ntwrk",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:ml,defaultValue:ml.filter(e=>{var l,t;return null===z||void 0===z||null===(l=z.social)||void 0===l||null===(t=l.style)||void 0===t?void 0:t.defaultColor}),onChange:e=>{this.updateBanner("social","style","defaultColor",e.value)}})]}),2==(null===z||void 0===z||null===(E=z.social)||void 0===E||null===(F=E.style)||void 0===F?void 0:F.defaultColor)?(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_ntwrk",children:"Icon Color"}),(0,w.jsx)(Ce.A,{id:"s_f_c_p",defaultColor:null===z||void 0===z||null===(B=z.social)||void 0===B||null===(O=B.style)||void 0===O?void 0:O.color,changeColor:e=>{this.updateBanner("social","style","color",e)}})]}):null,(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_t",children:"Facebook Url"}),(0,w.jsx)(_.A.Control,{id:"s_t",value:null===z||void 0===z||null===(R=z.social)||void 0===R?void 0:R.facebook,maxLength:"30",onChange:e=>{this.updateBanner("social","facebook",null,e.target.value)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_t",children:"Instagram Url"}),(0,w.jsx)(_.A.Control,{id:"s_t",value:null===z||void 0===z||null===(U=z.social)||void 0===U?void 0:U.instagram,maxLength:"30",onChange:e=>{this.updateBanner("social","instagram",null,e.target.value)}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_t",children:"Twitter Url"}),(0,w.jsx)(_.A.Control,{id:"s_t",value:null===z||void 0===z||null===(H=z.social)||void 0===H?void 0:H.twitter,maxLength:"30",onChange:e=>{this.updateBanner("social","twitter",null,e.target.value)}})]}),(0,w.jsx)("hr",{className:""}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"h5",children:"Position & Height"})}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"h_s",children:"Banner Height"}),(0,w.jsx)(fe.A,{inheritStyle:"",id:"h_s",min:10,max:50,step:1,defaultValue:null===z||void 0===z?void 0:z.height,value:null===z||void 0===z?void 0:z.height,onChange:e=>{this.updateBanner("height",null,null,Number(e))}})]}),(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_ntwrk",children:"Banner Image Position"}),(0,w.jsx)(j.Ay,{id:"s_ntwrk",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:gl,onChange:e=>{this.updateBanner("position",null,null,e.value)},defaultValue:gl.filter(e=>e.value===(null===z||void 0===z?void 0:z.position))})]})]})}}const bl=(0,v.Ng)(null,e=>({changeBanner:l=>e({type:H.QRl,payload:l}),changeBannerHeader:l=>e({type:H.EG6,payload:l})}))(_l);class yl extends s.Component{constructor(){super(...arguments),this.updateBanner=(e,l,t,s)=>{var o;const{wall:a,changeBanner:n}=this.props;n({updatedData:null===a||void 0===a||null===(o=a.Banner)||void 0===o?void 0:o.map(o=>(0,i.A)((0,i.A)({},o),{},{[e]:(0,i.A)((0,i.A)({},o[e]),{},{[l]:t?(0,i.A)((0,i.A)({},o[e][l]),{},{[t]:s}):s}),userUpdated:1}))})}}render(){var e,l;const{wall:t}=this.props,i=null===t||void 0===t||null===(e=t.Banner)||void 0===e?void 0:e[0];return(0,w.jsxs)("div",{className:"mt-4",children:[(0,w.jsx)(_.A.Label,{className:"mb-2",htmlFor:"s_pi",children:"Background Image"}),(0,w.jsx)(vl.A,{id:"s_pi",imageStyle:{paddingBottom:"66%"},backgroundImage:null===i||void 0===i||null===(l=i.background)||void 0===l?void 0:l.url,onClickTouploadImage:e=>this.updateBanner("background","url",null,e)})]})}}(0,v.Ng)(null,e=>({changeBanner:l=>e({type:H.QRl,payload:l})}))(yl);var jl=t(21738);const fl=e=>{var l,t,i,a;let{wallData:n,content:d}=e;const[r,c]=(0,s.useState)(null),h=(0,v.wA)(),p=(0,s.useMemo)(()=>[{label:"Default",value:""},...Ke.Co],[]),m=(0,s.useCallback)(e=>{var l;return null!==e&&void 0!==e&&e.value?"".concat(k.P_W,"media/images/flags/").concat(e.value,".svg"):"https://ui-avatars.com/api/?name=".concat(null!==(l=null===e||void 0===e?void 0:e.label)&&void 0!==l?l:"","&background=000&color=fff&length=1")},[]),g=(0,s.useCallback)(e=>{var l,t,i,s,o;const a=null===e||void 0===e?void 0:e.value,d=null!==(l=null===(t=window)||void 0===t||null===(i=t.APP_CONTENT)||void 0===i?void 0:i.common)&&void 0!==l?l:{},r=null!==(s=null===n||void 0===n||null===(o=n.ThemeInfo)||void 0===o?void 0:o.language_code)&&void 0!==s?s:"";var c,u,v,p,m,g;a!=r&&(0,N.l1)({title:null!==(c=null===d||void 0===d?void 0:d.are_you_sure)&&void 0!==c?c:"",text:(0,N.dz)(null!==(u=null===d||void 0===d?void 0:d.language_change_website)&&void 0!==u?u:"",{lang:null!==(v=null===e||void 0===e?void 0:e.label)&&void 0!==v?v:""}),icon:"warning",showCancelButton:!0,confirmButtonText:(0,N.dz)(null!==(p=null===d||void 0===d?void 0:d.language_primary_btn)&&void 0!==p?p:"",{lang:null!==(m=null===e||void 0===e?void 0:e.label)&&void 0!==m?m:""}),cancelButtonText:null!==(g=null===d||void 0===d?void 0:d.language_secondary_btn)&&void 0!==g?g:""}).then(e=>{if(e.value){const e=(0,N.HA)(),l=localStorage.getItem("active_wall");(0,se.xL)({wallId:l,language_code:a,websiteId:localStorage.getItem("website_id")}).then(t=>{var i,s,o,d,r,c,u,v;h({type:H.La7,payload:a}),200==(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.responseCode)&&h((0,He.Ux)(l,null!==(s=null===n||void 0===n||null===(o=n.ThemeStyle)||void 0===o?void 0:o.totalPosts)&&void 0!==s?s:20,null===(d=n.ThemeInfo)||void 0===d?void 0:d.id)),(0,N._q)(e,"success",null!==(r=null!==(c=null===t||void 0===t||null===(u=t.data)||void 0===u?void 0:u.response_message)&&void 0!==c?c:null===t||void 0===t||null===(v=t.data)||void 0===v?void 0:v.responseMessage)&&void 0!==r?r:"")}).catch(l=>{var t,i,s,o,a,n;return(0,N._q)(e,"error",null!==(t=null!==(i=null===l||void 0===l||null===(s=l.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.response_message)&&void 0!==i?i:null===l||void 0===l||null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.responseMessage)&&void 0!==t?t:"")}).finally(()=>{setTimeout(()=>(0,N.b)(e),3e3)})}})},[r,n]);return(0,s.useEffect)(()=>{var e,l;const t=null!==(e=null===n||void 0===n||null===(l=n.ThemeInfo)||void 0===l?void 0:l.language_code)&&void 0!==e?e:"";if(r!=t){const e=p.find(e=>e.value==t);c(e)}},[n]),(0,w.jsxs)("div",{className:"w-100",children:[(0,w.jsxs)("div",{className:"mt-2",children:[(0,w.jsxs)(_.A.Label,{className:"mb-2",htmlFor:"su_language",children:[null!==(l=null===d||void 0===d?void 0:d.website_title)&&void 0!==l?l:"",(0,w.jsx)(jl.A,{placement:"top",overlayText:null!==(t=null===d||void 0===d?void 0:d.localization_info)&&void 0!==t?t:"",children:(0,w.jsx)("span",{className:"svg-icon svg-icon-md svg-icon-dark-75 ms-2",children:(0,w.jsx)(u.gc,{type:"solid",icon:"circle-info",iconClass:"text-muted"})})})]}),(0,w.jsxs)(te.A,{className:"w-100",id:"su_language",children:[(0,w.jsxs)(te.A.Toggle,{className:"text-capitalize text-start w-100 border position-relative",variant:"",id:"dropdown-basic",children:[(0,w.jsx)(o.A,{className:"me-2 object-fit-".concat(null!==r&&void 0!==r&&r.value?"contain":"cover"," border"),src:m(r),height:17,width:28,fluid:!0,style:null!==r&&void 0!==r&&r.value?{}:{height:"20px"}})," ",null!==(i=null===r||void 0===r?void 0:r.label)&&void 0!==i?i:"Default"]}),(0,w.jsx)(te.A.Menu,{children:null===p||void 0===p?void 0:p.map(e=>(0,w.jsxs)(te.A.Item,{className:"text-capitalize",onClick:()=>g(e),children:[(0,w.jsx)(o.A,{className:"me-2 object-fit-".concat(e.value?"contain":"cover"," border"),src:m(e),height:17,width:28,fluid:!0,style:e.value?{}:{height:"20px"}}),e.label]},e.value))})]})]}),(0,w.jsx)(B.A,{className:"mt-2 mb-0 rounded-0 fs-9 p-3",variant:"info",children:null!==(a=null===d||void 0===d?void 0:d.website_desc)&&void 0!==a?a:""})]})};var Nl=t(28981),wl=t(63195),Cl=t(48796);const Al=e=>{let{show:l,handleClose:t,userData:i}=e;const{heading:s,description:a,url:n,btnText:d}=(()=>{var e,l,t,i,s,o;const a=null===(e=window)||void 0===e?void 0:e.APP_CONTENT,n=null!==(l=null===a||void 0===a?void 0:a.common)&&void 0!==l?l:{},d=null!==(t=null===a||void 0===a?void 0:a.localization_pop)&&void 0!==t?t:{};return{heading:null!==(i=null===d||void 0===d?void 0:d.title)&&void 0!==i?i:"",description:(0,N.dz)(null!==(s=null===d||void 0===d?void 0:d.dics)&&void 0!==s?s:"",{company_name:k.SxH}),url:(0,u.pc)("media/products/localization.png"),btnText:null!==(o=null===n||void 0===n?void 0:n.talk_to_sales)&&void 0!==o?o:""}})(),r=(0,v.wA)();return(0,w.jsxs)(wl.A,{show:l,onHide:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,w.jsx)(wl.A.Header,{className:"inf-modalheader border-0 d-flex flex-column justify-content-start pb-0",children:(0,w.jsx)("button",{type:"button",className:"btn-close mt-1","aria-label":"Close",onClick:()=>t()})}),(0,w.jsx)(Cl.A,{className:"p-8 socialwall-popup-body",children:(0,w.jsxs)("div",{className:"row align-itmes-center",children:[(0,w.jsx)("h2",{className:"font-weight-boldest w-100 text-center mt-0",children:s}),(0,w.jsx)("p",{className:"mb-5 text-center",children:a}),(0,w.jsx)("div",{className:"col-lg-12",children:(0,w.jsx)("div",{className:"switch_image ugc-switch-video mb-4 w-100",children:(0,w.jsx)(o.A,{isPrefix:!0,className:"img-fluid w-100",src:n,alt:""})})}),(0,w.jsx)("div",{className:"col-lg-12",children:(0,w.jsx)("div",{className:"switch_text_inner text-center d-flex align-items-center justify-content-center",children:(0,w.jsxs)("button",{className:"btn btn-primary btn-lg btn-min-w mt-2 d-flex align-items-center",onClick:()=>r((0,Nl.fh)((0,N.Dx)(i))),children:[(0,w.jsx)("span",{className:"me-2",children:d})," ",(0,w.jsx)(u.gc,{icon:"arrow-right"})]})})})]})})]})},Sl=e=>{var l,t,i,o,n,d,r,c,h,p,m,g,x,_,b,y,j,f,C,A,S,T;const{openBanner:k,a_key:I,appData:D,fonts:L,onCtaChange:P,socialReview:E,content:F}=e,[B,O]=(0,s.useState)(!1),[R,U]=(0,s.useState)(!1),M=(0,v.wA)(),{wall:z}=D;let G=z,Y=null===z||void 0===z?void 0:z.SnapUp,V=null===z||void 0===z||null===(l=z.ThemeStyle)||void 0===l?void 0:l.id;const W=(0,v.d4)(e=>{var l,t;return(null===(l=e.authorized)||void 0===l||null===(t=l.userData)||void 0===t?void 0:t.user_data)||{}},v.bN),{shoppableStatus:K,languageTranslation:q}=(0,s.useMemo)(()=>{var e,l;return{shoppableStatus:(null===W||void 0===W||null===(e=W.UserRule)||void 0===e?void 0:e.shoppableStatus)||!1,languageTranslation:(null===W||void 0===W||null===(l=W.UserRule)||void 0===l?void 0:l.languageTranslation)||!1}},[W]);(0,s.useEffect)(()=>{M({type:H.S1y,payload:"banner"}),window.$("#wallThemeRuleCtaStatus").on("change",function(e){P()}),window.$("#wallcssStatus").on("change",function(e){O("true"==this.value)})},[B]);const $=(0,Ye.a)({theme:"light",settings:{background:"#f8f8f8",caret:"none",gutterBackground:"#f7f7f7"},styles:[{tag:ze._A.comment,color:"#b06213"},{tag:ze._A.variableName,color:"#ff0000"},{tag:[ze._A.string,ze._A.special(ze._A.brace)],color:"#b83b3b"},{tag:ze._A.number,color:"#166948"},{tag:ze._A.bool,color:"#92349f"},{tag:ze._A.null,color:"#166948"},{tag:ze._A.keyword,color:"#166948"},{tag:ze._A.operator,color:"#166948"},{tag:ze._A.className,color:"#ff0000"},{tag:ze._A.definition(ze._A.typeName),color:"#b83b3b"},{tag:ze._A.typeName,color:"#b83b3b"},{tag:ze._A.angleBracket,color:"#92349f"},{tag:ze._A.tagName,color:"#4d9840"},{tag:ze._A.attributeName,color:"#92349f"},{tag:ze._A.color,color:"#3a2ba4"},{tag:ze._A.color,color:"#3a2ba4"}]});return(0,s.useEffect)(()=>{1==(null===D||void 0===D?void 0:D.save_and_publish)&&1==(null===D||void 0===D?void 0:D.is_custome_css_change)&&(()=>{var e;const l=(0,N.HA)();(0,se.Vt)(null===z||void 0===z||null===(e=z.ThemeStyle)||void 0===e?void 0:e.css.code,V).then(e=>{const{data:t}=e;t.status?(0,N._q)(l,"success",t.message):(0,N._q)(l,"error",t.message)}).catch(e=>{console.log("err",e),(0,N._q)(l,"error","Error in updating")})})(),null!==D&&void 0!==D&&D.isHeaderUpdate&&1==(null===D||void 0===D?void 0:D.save_and_publish)&&(0,se.KT)(null===z||void 0===z?void 0:z.Banner)},[null===D||void 0===D?void 0:D.save_and_publish,null===D||void 0===D?void 0:D.isHeaderUpdate]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(ye.A,{className:"border-top",defaultActiveKey:"card_style",flush:!0,children:[(0,w.jsxs)(ye.A.Item,{eventKey:"card_style",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.card_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:L&&L.length&&null!==D&&void 0!==D&&D.wall&&Object.keys(D).length>0?(0,w.jsx)(je.A,{children:(0,w.jsx)(tl,{save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,isShoppable:K,wallData:z,ownerId:null===z||void 0===z||null===(t=z.ThemeInfo)||void 0===t?void 0:t.ownerId,fonts:L,planID:null===z||void 0===z||null===(i=z.UserPlan)||void 0===i?void 0:i.planId,content:F})}):null})]}),![82,84,87].includes(null===z||void 0===z||null===(o=z.ThemeInfo)||void 0===o?void 0:o.id)&&null!==D&&void 0!==D&&D.activeBanner?(0,w.jsxs)(ye.A.Item,{eventKey:"header_style",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.banner_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:L&&L.length&&z&&Object.keys(D).length>0?(0,w.jsx)(je.A,{children:[6,8].includes(null===D||void 0===D?void 0:D.activeBanner)?(0,w.jsx)(nl,{content:F,save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,wallData:z,fonts:L}):[7].includes(null===D||void 0===D?void 0:D.activeBanner)?(0,w.jsx)(pl,{save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,wallData:z,ownerId:null===z||void 0===z||null===(n=z.ThemeInfo)||void 0===n?void 0:n.ownerId,fonts:L,content:F}):[2,3,4,5].includes(null===D||void 0===D?void 0:D.activeBanner)?(0,w.jsx)(bl,{wall:z}):null}):null})]}):null,(0,w.jsxs)(ye.A.Item,{eventKey:"more_actions",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.more_actions_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsxs)(je.A,{children:[" ",(0,w.jsx)(Qe,{planID:null===z||void 0===z||null===(d=z.UserPlan)||void 0===d?void 0:d.planId,appData:D,save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,is_theme_setting_change:null===D||void 0===D?void 0:D.is_theme_setting_change,wallData:z,db_table:null===z||void 0===z||null===(r=z.UserPlan)||void 0===r?void 0:r.db_table,adminId:z,closePopup:k,content:F})]})})]}),(0,w.jsxs)(ye.A.Item,{eventKey:"background",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.background_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(je.A,{children:(0,w.jsx)($e,{backgroundDetails:G,save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,is_backgroun_change:null===D||void 0===D?void 0:D.is_backgroun_change,PersonalizationID:V,bannerDetail:z,content:F})})})]}),0!=(null===z||void 0===z||null===(c=z.UserRule)||void 0===c?void 0:c.customCss)?(0,w.jsxs)(ye.A.Item,{eventKey:I||"banner",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.custom_css_heading}),(0,w.jsxs)(ye.A.Body,{className:"bg-gray-100",children:[(0,w.jsx)(ol,{content:F}),(0,w.jsx)("div",{className:"".concat(null!==z&&void 0!==z&&null!==(h=z.ThemeStyle)&&void 0!==h&&h.css.status?"":"inActiveCustomeCss"),children:(0,w.jsxs)(je.A,{children:[" ",(0,w.jsx)(Me.Ay,{value:null===z||void 0===z||null===(p=z.ThemeStyle)||void 0===p?void 0:p.css.code,height:"350px",save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,theme:$,basicSetup:{foldGutter:!1,dropCursor:!1,allowMultipleSelections:!1,indentOnInput:!1,autocompletion:!1},extensions:[(0,Ge.rI)("css")],onChange:e=>{M({type:H.Nvm,payload:e})},editable:!(null===z||void 0===z||null===(m=z.ThemeStyle)||void 0===m||!m.css.status)})]})})]})]}):null,(0,w.jsxs)(ye.A.Item,{eventKey:"hash_highlight",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.hash_highlighter_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(je.A,{children:(0,w.jsx)(ul,{wall:z,save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,content:F})})})]}),(0,w.jsxs)(ye.A.Item,{eventKey:"google_analytics",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.google_analytics_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(je.A,{children:(0,w.jsx)(il,{wallData:D,save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,is_utm_tracker_change:null===D||void 0===D?void 0:D.is_utm_tracker_change,content:F})})})]}),!K&&null!==z&&void 0!==z&&null!==(g=z.CardStyle)&&void 0!==g&&null!==(x=g.globalCTA)&&void 0!==x&&x.status&&[19,47,83,20,5,52,49,3,85].includes(null===z||void 0===z||null===(_=z.ThemeInfo)||void 0===_?void 0:_.id)?(0,w.jsxs)(ye.A.Item,{eventKey:"cta",children:[(0,w.jsx)(ye.A.Header,{className:"cta_header",children:null===F||void 0===F?void 0:F.cta_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsxs)(je.A,{children:[" ",(0,w.jsx)(rl,{planID:null===z||void 0===z||null===(b=z.UserPlan)||void 0===b?void 0:b.planId,appData:D,save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,is_cta_change:null===D||void 0===D?void 0:D.is_card_cta_change,wallData:z,db_table:null===z||void 0===z||null===(y=z.UserPlan)||void 0===y?void 0:y.db_table,content:F})]})})]}):null,null!==Y&&void 0!==Y&&Y.ruleStatus&&![63,64].includes(null===z||void 0===z||null===(j=z.ThemeInfo)||void 0===j?void 0:j.id)?(0,w.jsxs)(ye.A.Item,{eventKey:"snap_up",children:[(0,w.jsx)(ye.A.Header,{children:null===F||void 0===F?void 0:F.snap_up_heading}),(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(je.A,{children:(0,w.jsx)(el,{SnapUp:Y,save_and_publish:null===D||void 0===D?void 0:D.save_and_publish,is_magic_upload_change:null===D||void 0===D?void 0:D.is_magic_upload_change,PersonalizationID:V,content:F})})})]}):null,(0,w.jsxs)(ye.A.Item,{eventKey:"website_language",onClick:q?null:()=>U(!0),children:[(0,w.jsxs)(ye.A.Header,{children:[null!==(f=null===F||void 0===F?void 0:F.localization)&&void 0!==f?f:"",(0,w.jsx)("span",{style:{top:"0px"},className:"comingSoonPrice",children:null!==(C=null===(A=window)||void 0===A||null===(S=A.APP_CONTENT)||void 0===S||null===(T=S.common)||void 0===T?void 0:T.new)&&void 0!==C?C:"New"})]}),q?(0,w.jsx)(ye.A.Body,{className:"bg-gray-100",children:(0,w.jsx)(je.A,{children:(0,w.jsx)(fl,{wallData:z,content:F})})}):null]})]}),(0,w.jsx)("div",{className:"my-3 mx-2",children:(0,w.jsxs)("span",{className:"d-none d-sm-flex align-items-center text-muted py-1 px-3 rounded-pill badge-light-primary flex-wrap fs-9 justify-content-center",children:[(0,w.jsxs)("span",{className:"d-flex flex-wrap align-items-center",children:[null===F||void 0===F?void 0:F.need_help," ",(0,w.jsxs)("strong",{className:"ms-1 me-1",children:[" ",null===F||void 0===F?void 0:F.we_here]})]}),(0,w.jsxs)(a.A,{variant:"link",className:"f-center ms-1 d-flex fs-9",onClick:N.tk,children:[(0,w.jsx)(u.gc,{type:"solid",icon:"comments",iconClass:"me-1"}),null===F||void 0===F?void 0:F.connect_to_support]})]})}),R?(0,w.jsx)(Al,{show:R,handleClose:()=>U(!1),userData:W}):null]})};var Tl=t(39610),kl=t(91615),Il=t(80322),Dl=t(3302),Ll=t.n(Dl),Pl=t(27232);const El=e=>{let{Index:l,dataTheme:t,action:i,active:s,themeName:n,header:d,uppyAction:r=()=>{}}=e;return(0,w.jsx)(g.A,{className:"col-4 px-1 mt-2 select-grid",children:(0,w.jsxs)(a.A,{"data-theme":t,variant:"grid",className:"border rounded d-flex align-items-center flex-column p-1 w-100 ".concat(t==s?"active":""),onClick:()=>{0==t&&r(),i()},children:[(0,w.jsx)("div",{className:"w-100 h-50px p-2 mb-2 f-center",children:d?(0,w.jsx)(u.gc,{iconClass:"me-0 fs-6",icon:6==t?"star":7==t?"bullhorn":8==t?"stars":"cloud-arrow-up"}):(0,w.jsx)(o.A,{loading:"lazy",src:(0,u.pc)("media/icons/".concat(d?"review-header":"theme","/").concat(t,".svg")),height:46,width:150,alt:n,title:n,fluid:!0})}),(0,w.jsx)("p",{className:"mb-0 text-center fs-10",children:n})]})},l)},Fl=()=>(0,w.jsx)(g.A,{className:"col-4 px-1 mt-2 select-grid",children:(0,w.jsx)(ge.A,{children:(0,w.jsxs)(a.A,{variant:"grid",className:"border rounded d-flex align-items-center flex-column p-1 w-100  btn btn-grid",children:[(0,w.jsx)("div",{className:"w-50px h-30px mb-0 f-center bg-transparent justify-content-center d-flex align-items-center",style:{flexGrow:2},children:(0,w.jsx)(u.gc,{type:"light",icon:"plus-circle",iconClass:"fs-1 me-0 text-gray-400"})}),(0,w.jsx)("p",{className:"mb-0 text-center fs-10",children:"Request New Themes"})]})})}),Bl={6:"Review",7:"Social",8:"Star Review",0:"Custom",4:"Old Banner",5:"Old Banner",3:"Old Banner",2:"Old Banner"};class Ol extends s.Component{constructor(){super(...arguments),this.uppyUploader=new We.A(null,null,!0),this.state=((e,l)=>{const t=(null===(e=this.props.appData)||void 0===e?void 0:e.wall)||{},{ThemeInfo:i={},Reviews:s={}}=t;return{selectedtheme:!1,themeId:null===i||void 0===i?void 0:i.id,isHeader:null===s||void 0===s?void 0:s.headerStatus,isWidget:null!==(l=null===s||void 0===s?void 0:s.themeStatus)&&void 0!==l&&l,headerId:null===s||void 0===s?void 0:s.headerType,bnrStatus:null,uppyProfileOpen:!1}})(),this.onClose=()=>this.setState({selectedtheme:!1,themeId:null}),this.changeThemes=(e,l,t)=>{this.setState({selectedtheme:!0,themeId:e}),this.props.CHANGE_THEMES(e,l,t),this.props.themeSettingChange(!0)},this.enableLayout=(e,l)=>{const t="header"==e?"isHeader":"isWidget";this.setState({[t]:Number(l)},()=>this.props.toggleLayout({header:this.state.isHeader,widget:this.state.isWidget}))},this.changeHeader=e=>{this.setState({bnrStatus:e},()=>{this.props.changeBannerStatus(e),this.props.changeBannerHeader(!0)})},this.handleOpen=e=>{this.setState({uppyProfileOpen:!0}),Ll()(".uppy-Dashboard-close").click(()=>{this.uppyUploader.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})})},this.handleClose=e=>this.setState({uppyProfileOpen:!1}),this.updateBanner=(e,l,t,s,o)=>{var a;const{appData:n,changeBanner:d,changeBannerHeader:r}=this.props,{wall:c}=n;d({updatedData:null===c||void 0===c||null===(a=c.Banner)||void 0===a?void 0:a.map(o=>(0,i.A)((0,i.A)({},o),{},{[e]:(0,i.A)((0,i.A)({},o[e]),{},{[l]:t?(0,i.A)((0,i.A)({},o[e][l]),{},{[t]:s}):s}),userUpdated:1,wallId:localStorage.getItem("active_wall"),website_id:localStorage.getItem("website_id")}))}),r(!0),o()},this.showErrorMsg=e=>{Pl.oR.error("You don't have any active ".concat(e," feeds! Create one to use this Banner"),{autoClose:3e3})}}componentDidMount(){var e,l,t;this.setState({themeId:null===(e=this.props.appData)||void 0===e||null===(l=e.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.id}),this.uppyUploader&&this.uppyUploader.uppy.on("transloadit:result",(e,l)=>{this.updateBanner("background","url",null,"".concat(Ke.$r).concat(l.id,".").concat(l.ext),()=>{setTimeout(()=>{this.uppyUploader.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})},300)})})}componentDidUpdate(e){var l,t,i,s,o,a,n,d;const{appData:r,sectionChanged:c,socialReview:u,selectedContent:v,resetSection:h}=this.props;var p,m,g,x,_,b,y,j;(r.save_and_publish&&!e.appData.save_and_publish&&r.is_themes_change&&this.props.APPLY_THEME(this.state.themeId),(null===r||void 0===r||null===(l=r.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.id)!==(null===(i=e.appData)||void 0===i||null===(s=i.wall)||void 0===s||null===(o=s.ThemeInfo)||void 0===o?void 0:o.id))&&this.setState({themeId:null===r||void 0===r||null===(p=r.wall)||void 0===p||null===(m=p.ThemeInfo)||void 0===m?void 0:m.id,headerId:null===r||void 0===r||null===(g=r.wall)||void 0===g||null===(x=g.Reviews)||void 0===x?void 0:x.headerType,isHeader:null===r||void 0===r||null===(_=r.wall)||void 0===_||null===(b=_.Reviews)||void 0===b?void 0:b.headerStatus,isWidget:null===r||void 0===r||null===(y=r.wall)||void 0===y||null===(j=y.Reviews)||void 0===j?void 0:j.themeStatus});if((null===r||void 0===r||null===(a=r.bannerData)||void 0===a?void 0:a.length)!==(null===(n=e.appData)||void 0===n||null===(d=n.bannerData)||void 0===d?void 0:d.length)){var f,N;const e=null===r||void 0===r||null===(f=r.bannerData)||void 0===f?void 0:f.filter(e=>e.status);this.props.changeBannerStatus(null===e||void 0===e||null===(N=e[0])||void 0===N?void 0:N.type)}}render(){var e,l,t,i;const{themeList:s,socialReview:o,selectedContent:a,changeThemeSection:d,bannerData:r,appData:c,changeEnableDisable:v,changeBannerHeader:h,changeBannerStatus:p,content:g}=this.props,{themeId:x,isHeader:b,isWidget:y,headerId:j,bnrStatus:f}=this.state,{themesList:N}=s,{wall:C}=c,A=null===r||void 0===r?void 0:r.filter((e,l,t)=>l===t.findIndex(l=>l.type===e.type)),S=A.filter(e=>0===e.type),T=[...A.filter(e=>0!==e.type),...S],k=null!==(e=null===a||void 0===a?void 0:a.networkIds)&&void 0!==e?e:[],I=null===k||void 0===k?void 0:k.some(e=>[4,19,21,23,33,34,35,36,37,29,38].includes(e)),D=null===k||void 0===k?void 0:k.some(e=>![4,19,21,23,33,34,35,36,37,29,38].includes(e));return(0,w.jsxs)("div",{className:"px-4 pb-3 mb-4",children:[N?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(n.A,{variant:"pills",className:"f-center mb-2 mt-4",activeKey:o,onSelect:e=>d(e),children:[(0,w.jsx)(n.A.Item,{children:(0,w.jsxs)(n.A.Link,{className:"border btn btn-primary mx-1 py-2",eventKey:"1",children:[(0,w.jsx)(u.gc,{icon:"grid-2",iconClass:"me-1 fs-18"})," ",null===g||void 0===g?void 0:g.social]})}),(0,w.jsx)(n.A.Item,{className:"position-relative",children:(0,w.jsxs)(n.A.Link,{className:"border btn btn-primary mx-1 py-2",eventKey:"2",children:[(0,w.jsx)(u.gc,{icon:"star",iconClass:"me-1 fs-18"})," ",null===g||void 0===g?void 0:g.review]})})]}),[82,84,87].includes(null===C||void 0===C||null===(l=C.ThemeInfo)||void 0===l?void 0:l.id)?null:(0,w.jsxs)(m.A,{className:"select-group flex-wrap gx-8 pb-5 px-4",children:[(0,w.jsxs)("div",{className:"f-between w-100 border-bottom px-1",children:[(0,w.jsx)(_.A.Label,{className:"my-4",htmlFor:"hlayout_",children:(0,w.jsx)("span",{className:"me-2 fs-9",children:null===g||void 0===g?void 0:g.banner_layout})}),(0,w.jsx)(_.A.Check,{type:"switch",id:"hlayout_",title:"Select Banner",checked:null!==(null===c||void 0===c?void 0:c.activeBanner)&&void 0!==(null===c||void 0===c?void 0:c.activeBanner)&&(null===C||void 0===C||null===(t=C.Banner)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.status),onChange:e=>{null===(null===c||void 0===c?void 0:c.activeBanner)||void 0===(null===c||void 0===c?void 0:c.activeBanner)?(p("1"==o?7:6),h(!0)):(v(e.target.checked),h(!0))}})]}),null===T||void 0===T?void 0:T.map((e,l)=>"1"==o&&[0,2,3,4,5,7].includes(e.type)||"2"==o&&[0,6,8].includes(e.type)?(0,w.jsx)(El,{Index:l,dataTheme:e.type,active:e.status?e.type:null,themeName:Bl[e.type],action:()=>(0,Il.Yj)("publish","website",!0)?I&&6==e.type||D&&7==e.type||e.type<6?this.changeHeader(e.type):this.showErrorMsg(Bl[e.type]):{},header:!0,uppyAction:()=>this.handleOpen()},l):null)]}),(0,w.jsxs)(m.A,{className:"select-group flex-wrap gx-8 border-top px-4",children:[(0,w.jsx)("div",{className:"f-between w-100 border-bottom px-1",children:(0,w.jsx)(_.A.Label,{className:"my-4",htmlFor:"wlayout_",children:(0,w.jsx)("span",{className:"me-2 fs-9",children:null===g||void 0===g?void 0:g.heading})})}),N.map((e,l)=>e.themeType==Number(o)?(0,w.jsx)(El,{Index:l,dataTheme:e.themeId,active:x,themeName:e.name,action:()=>(0,Il.Yj)("publish","website",!0)?this.changeThemes(e.themeId,e.themeType,null===a||void 0===a?void 0:a.id):{}},l):null),2==o?N.map((e,l)=>[5,20,19,47,83,49].includes(e.themeId)?(0,w.jsx)(El,{Index:l,dataTheme:e.themeId,active:x,themeName:e.name,action:()=>(0,Il.Yj)("publish","website",!0)?this.changeThemes(e.themeId,e.themeType,null===a||void 0===a?void 0:a.id):{}},l):null):null,(0,w.jsx)(Fl,{})]})]}):null,this.state.uppyProfileOpen?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Ve.KG,{id:"background-image",closeModalOnClickOutside:!0,closeAfterFinish:!0,open:this.state.uppyProfileOpen,onRequestClose:this.handleClose,uppy:this.uppyUploader.uppy,hideUploadButton:!1,autoOpenFileEditor:!1,plugins:["GoogleDrive"],animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{children:"Recommended size: 1920 x 200 px | Supported Formats: .png or  .jpg | Maximum Image Size: 5Mb"})})]}):null]})}}const Rl=(0,v.Ng)(e=>({appData:e.appData}),e=>({CHANGE_THEMES:(l,t,i)=>e((e=>l=>{l({type:H.ej3,payload:!0}),(new M.A).get("".concat(k.HAL,"/").concat(localStorage.getItem("website_id"),"/").concat(e)).then(t=>{const{responseData:i,responseCode:s}=t.data;var o,a,n;200==s&&(l((0,He.Ux)(localStorage.getItem("active_wall"),null!==(o=null===(a=i.ThemeStyle)||void 0===a?void 0:a.totalPosts)&&void 0!==o?o:20,null===(n=i.ThemeInfo)||void 0===n?void 0:n.id)),l({type:H.sJx,payload:{wall:i},heightEvent:null}),setTimeout(()=>{l({type:H.xG2,payload:e}),l({type:H.B4N,payload:!0})},200),setTimeout(()=>{l({type:H.ej3,payload:!1})},2e3))}).catch(e=>{l({type:H.ej3,payload:!1}),console.log("ERROR",e)})})(l)),APPLY_THEME:l=>e((e=>{var l,t,i,s,o,a,n,d,r,c,u,v,h,p,m,g,x,_,b,y,j,f,N;const{wall:w}=Ue.A.getState().appData,C={filterEnableStatus:0,filterStatus:1,padding:null!==(l=null===w||void 0===w||null===(t=w.CardStyle)||void 0===t||null===(i=t.style)||void 0===i?void 0:i.padding)&&void 0!==l?l:"",popupSlideShow:0,popupSlideShowStatus:0,postFeatured:null!==(s=null===w||void 0===w||null===(o=w.ThemeStyle)||void 0===o||null===(a=o.modal)||void 0===a?void 0:a.action)&&void 0!==s?s:"",postFeaturedStatus:0,showReviewHeader:null!==(n=null===w||void 0===w||null===(d=w.Reviews)||void 0===d?void 0:d.headerStatus)&&void 0!==n&&n,showReviewList:null!==(r=null===w||void 0===w||null===(c=w.Reviews)||void 0===c?void 0:c.themeStatus)&&void 0!==r&&r,textDecorate:null!==(u=null===w||void 0===w||null===(v=w.CardStyle)||void 0===v||null===(h=v.style)||void 0===h?void 0:h.textDecoration)&&void 0!==u?u:"",textDecorateStatus:0,theme:e,themeHeaderId:null!==(p=null===w||void 0===w||null===(m=w.Reviews)||void 0===m?void 0:m.headerType)&&void 0!==p?p:"",themeType:[5,85,84,82,80,79].includes(e)?2:1,themeTypePre:null!==(g=null===w||void 0===w||null===(x=w.ThemeInfo)||void 0===x?void 0:x.themeType)&&void 0!==g?g:"",trimContentStatus:null!==(_=null===w||void 0===w||null===(b=w.CardStyle)||void 0===b||null===(y=b.content)||void 0===y?void 0:y.status)&&void 0!==_?_:0,trimcontent:null!==(j=null===w||void 0===w||null===(f=w.CardStyle)||void 0===f||null===(N=f.content)||void 0===N?void 0:N.trimcontent)&&void 0!==j?j:""};return l=>{var t;(new M.A).post("".concat(k.Z82,"/").concat(localStorage.getItem("wallId"),"/").concat(null===w||void 0===w||null===(t=w.ThemeStyle)||void 0===t?void 0:t.id,"/").concat(localStorage.getItem("website_id")),C).then(t=>{const{responseCode:i}=t.data;200==i&&(l({type:H.sJx,payload:Ue.A.getState().appData,heightEvent:null}),setTimeout(()=>{l({type:H.xG2,payload:e})},500))}).catch(e=>{console.log("ERROR",e)})}})(l)),selectHeader:l=>e({type:H.wUX,payload:l}),toggleLayout:l=>e({type:H.yG8,payload:l}),changeBannerStatus:l=>e({type:H.Jzh,payload:l}),changeEnableDisable:l=>e({type:H.SrA,payload:l}),changeBanner:l=>e({type:H.QRl,payload:l}),changeBannerHeader:l=>e({type:H.EG6,payload:l}),themeSettingChange:l=>e({type:H.vvL,payload:l})}))(Ol);var Ul=t(18038),Hl=t(9676),Ml=t(1391);class zl extends s.PureComponent{render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"No Posts!"}),(0,w.jsx)("div",{className:"ts_error_des",children:"If Moderation is ON, then the posts might be in the moderation section and you need to approve them by going to MODERATION."}),(0,w.jsx)("div",{className:"ts_error_des",children:"Else, there might not be any posts on feeds which you have added."})]})}}class Gl extends s.PureComponent{render(){const{wallId:e}=this.props;return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"No Feeds!"}),(0,w.jsx)("div",{className:"ts_error_des",children:"It looks like you haven\u2019t added any feed yet. Connect your preferred platform to start displaying content."}),(0,w.jsx)("div",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/addfeed/".concat(e||localStorage.getItem("wallId")||""),className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Add feed"})}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["Need help? We're here for you! ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:" Talk to us."})]})]})}}class Yl extends s.PureComponent{render(){const{wallId:e}=this.props;return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"\u26a0\ufe0f Feed Status: Off"}),(0,w.jsx)("div",{className:"ts_error_des",children:"Toggle it on to show posts or create another feed."}),(0,w.jsxs)("div",{className:"w-100 f-center d-flex",children:[(0,w.jsx)("span",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/managefeed/".concat(e||localStorage.getItem("wallId")||""),className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Manage feed"})}),(0,w.jsx)("span",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/addfeed/".concat(e||localStorage.getItem("wallId")||""),className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Add feed"})})]}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["We\u2019ve got this  \u2014 ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:"let\u2019s chat"})]})]})}}class Vl extends s.PureComponent{constructor(){super(...arguments),this.onClicktoUrl=e=>l=>{window.top.location.href=e}}render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"No post found in Public!"}),(0,w.jsxs)("div",{className:"ts_error_des",children:["It seems that all the posts are in private.",(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):""),className:"manage-feed",title:"Make Public",children:" Click here"})," to make them public."]})]})}}class Wl extends s.PureComponent{render(){const{wallId:e}=this.props;return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"No Posts Available!"}),(0,w.jsx)("div",{className:"ts_error_des",children:"There are currently no posts available from your connected sources. New content will appear here once published. You can also add another feed to display more content."}),(0,w.jsx)("div",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/addfeed/".concat(e||localStorage.getItem("wallId")||""),className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Add feed"})}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["Need help? We're here for you! ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:" Talk to us."})]})]})}}class Kl extends s.PureComponent{render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"\ud83d\udeab Post Limit Reached"}),(0,w.jsx)("div",{className:"ts_error_des",children:"Your widget\u2019s on pause \u2014 you\u2019ve maxed out your post limit for this plan. Time to upgrade and keep the updates flowing."}),(0,w.jsx)("div",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/price",className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Get More Posts"})}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["Stuck? ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:"We\u2019ve got you"})]})]})}}class ql extends s.PureComponent{render(){const{wallId:e}=this.props;return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"\ud83d\udd12 Whoa, Everything\u2019s Private!"}),(0,w.jsx)("div",{className:"ts_error_des",children:"Switch some posts to public or create another feed to see more."}),(0,w.jsx)("div",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/addfeed/".concat(e||localStorage.getItem("wallId")||""),className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Add feed"})}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["Stuck? ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:"We\u2019ve got you"})]})]})}}class $l extends s.PureComponent{render(){const{wallId:e}=this.props;return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"\ud83d\udcc5 No Posts to Display"}),(0,w.jsx)("div",{className:"ts_error_des",children:'Hmm\u2026 all your posts are older than the selected date. Try tweaking the date range or toggle off "Hide Old Posts" to see your content again.'}),(0,w.jsx)("div",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/addfeed/".concat(e||localStorage.getItem("wallId")||""),className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Add feed"})})]})}}class Jl extends s.PureComponent{render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"View Limit Reached"}),(0,w.jsx)("div",{className:"ts_error_des",children:"Your widget has been paused because it surpassed the view limit of your current plan. To continue receiving updates, please upgrade your plan."}),(0,w.jsx)("div",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/price",className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Upgrade Now"})}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["Need assistance? Our support team is here to help! ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:"Contact Us."})]})]})}}class Xl extends s.PureComponent{render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"No Posts!"}),(0,w.jsx)("div",{className:"ts_error_des",children:"It seems there are no posts with image and video."})]})}}class Zl extends s.PureComponent{render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"No Posts!"}),(0,w.jsx)("div",{className:"ts_error_des",children:"It seems there are no posts available . All Upcoming posts will appear here."}),(0,w.jsx)("div",{className:"ts_error_title",children:"OR"}),(0,w.jsx)("div",{className:"ts_error_des",children:"Post are older than 24 hours."})]})}}class Ql extends s.PureComponent{render(){const{wallId:e}=this.props;return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"Meta Content Limitations"}),(0,w.jsx)("div",{className:"ts_error_des",children:"Only upcoming mentions from Instagram will appear here. Existing posts cannot be retrieved due to Meta guidelines."}),(0,w.jsx)("div",{className:"w-100 f-center",children:(0,w.jsx)(p.N_,{style:{cursor:"pointer"},to:"/content/addfeed/".concat(e||localStorage.getItem("wallId")||""),className:"btn btn-primary text-nowrap btn-lg",title:"Add feed",children:"Add Another Feed"})}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["Need help? We're here for you! ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:" Talk to us."})]})]})}}class et extends s.PureComponent{render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"Shoppable gallery is not active"}),(0,w.jsxs)("div",{className:"ts_error_des",children:["Oops! Seems like there is something went wrong. If you are the owner of this ",k.SxH," account, Please click below link to access your account."]}),(0,w.jsx)("div",{className:"ts_error_page_actions"})]})}}class lt extends s.PureComponent{render(){return(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"Incompatible Theme"}),(0,w.jsx)("div",{className:"ts_error_des",children:"Looks like this theme isn\u2019t compatible with your current post type. Try switching to a different theme."}),(0,w.jsxs)("span",{style:{margin:"15px 0 0 0",display:"block",textAlign:"center"},children:["Still stuck?  Reach out \u2014 ",(0,w.jsx)("span",{onClick:N.tk,className:"text-primary text-decoration-underline cursor-pointer",children:" [Contact Us]"})," and we\u2019ll guide you through."]})]})}}class tt extends s.PureComponent{render(){var e,l,t,i,s,o;const{errorCode:a,wall:n,errorData:d}=this.props,r={backgroundImage:"url(".concat((0,u.pc)("media/images/error/nopost.png"),")")},c={backgroundImage:"url(".concat((0,u.pc)("media/images/logo/tagshop-logo.svg"),")")};return(0,w.jsxs)("div",{className:"ts_error_page",children:[(0,w.jsx)("div",{className:"ts_error_page_bg",style:r,children:(0,w.jsx)("div",{})}),(0,w.jsxs)("div",{className:"ts_error_page_wrapper",children:[(0,w.jsx)(je.A,{children:201===a?(0,w.jsx)(zl,{}):202===a?(0,w.jsx)(Gl,{wallId:null===n||void 0===n||null===(e=n.ThemeInfo)||void 0===e?void 0:e.wallId}):203===a?(0,w.jsx)(Yl,{wallId:null===n||void 0===n||null===(l=n.ThemeInfo)||void 0===l?void 0:l.wallId}):204===a?(0,w.jsx)(Vl,{wall:n}):205===a?(0,w.jsx)(Wl,{wallId:null===n||void 0===n||null===(t=n.ThemeInfo)||void 0===t?void 0:t.wallId}):206===a?(0,w.jsx)(Kl,{}):207===a?(0,w.jsx)(ql,{wallId:null===n||void 0===n||null===(i=n.ThemeInfo)||void 0===i?void 0:i.wallId}):208===a?(0,w.jsx)($l,{wallId:null===n||void 0===n||null===(s=n.ThemeInfo)||void 0===s?void 0:s.wallId}):209===a?(0,w.jsx)(Jl,{}):210===a?(0,w.jsx)(Xl,{wall:n}):211===a?(0,w.jsx)(Zl,{wall:n}):212===a?(0,w.jsx)(Ql,{wallId:null===n||void 0===n||null===(o=n.ThemeInfo)||void 0===o?void 0:o.wallId}):213===a?(0,w.jsx)(lt,{}):404===a||400===a?(0,w.jsx)(et,{wall:n,error:d}):""}),(0,w.jsxs)("div",{className:"ts_error_page_logo",children:[" ",(0,w.jsx)("span",{className:"ts_error_page_logo_ico",style:c})," "]})]})]})}}class it extends s.PureComponent{render(){var e,l,t,i,s,o,a,n,d,r,c,v,h,p;const{appData:m}=this.props,g=null===m||void 0===m||null===(e=m.wall)||void 0===e||null===(l=e.ThemeInfo)||void 0===l?void 0:l.id,x=(null===m||void 0===m||null===(t=m.post_data)||void 0===t?void 0:t.length)||(null===m||void 0===m||null===(i=m.custom_post)||void 0===i?void 0:i.length)||0,_={16:null===m||void 0===m||null===(s=m.wall)||void 0===s||null===(o=s.ThemeStyle)||void 0===o?void 0:o.row,53:null===m||void 0===m||null===(a=m.wall)||void 0===a||null===(n=a.ThemeStyle)||void 0===n||null===(d=n.column)||void 0===d?void 0:d.desktop,4:(null===m||void 0===m||null===(r=m.wall)||void 0===r||null===(c=r.ThemeStyle)||void 0===c?void 0:c.bestFit)&&(null===m||void 0===m||null===(v=m.wall)||void 0===v||null===(h=v.ThemeStyle)||void 0===h||null===(p=h.column)||void 0===p?void 0:p.desktop),50:3,61:1,3:1,19:1,47:1,55:1},b=_[g]||1,y=_[g]&&x<b,j={backgroundImage:"url(".concat((0,u.pc)("media/images/error/nopost.png"),")")},f={backgroundImage:"url(".concat((0,u.pc)("media/images/logo/tagshop-logo.svg"),")")};return y?(0,w.jsxs)("div",{className:"ts_error_page",children:[(0,w.jsx)("div",{className:"ts_error_page_bg",style:j}),(0,w.jsxs)("div",{className:"ts_error_page_wrapper",children:[(0,w.jsxs)("div",{className:"ts_error_content",children:[(0,w.jsx)("div",{className:"ts_error_title",children:"Error: Theme Conditions Not Met"}),61!==g&&(0,w.jsxs)("div",{className:"ts_error_des",children:["Your shoppable gallery isn't visible. You need at least \"",b,'" public posts to see the preview as per the theme rule.']}),(0,w.jsxs)("div",{className:"ts_error_des",children:[(0,w.jsx)("strong",{children:"Note: "}),61===g?"Please make sure your public posts are in reels/videos & image format as this theme does not support posts in text format.":"Please make sure your public posts are in image & video format as this theme does not support posts in text format."]})]}),(0,w.jsx)("div",{className:"ts_error_page_logo",children:(0,w.jsx)("span",{className:"ts_error_page_logo_ico",style:f})})]})]}):null}}const st=e=>{let{fonts:l}=e;return(0,w.jsx)(w.Fragment,{children:(null===l||void 0===l?void 0:l.length)>0&&l.map((e,l)=>((e,l)=>{if(!document.querySelector("#style_font_".concat(e))){const t=document.createElement("link");t.href=l,t.rel="stylesheet",t.id="style_font_".concat(e),document.head.appendChild(t)}})(e.id,"https://fonts.googleapis.com/css?family=".concat(e.family,":").concat(JSON.parse(e.variants).join(","))))})};var ot=t(6990);t(36284);function at(){return(0,w.jsx)("div",{className:"content_inner website__ border-0 card",style:{marginTop:"-50px"},children:(0,w.jsxs)("div",{className:"p-0 d-flex w-100 card-body",children:[(0,w.jsx)("div",{className:"aside__ border-end",children:(0,w.jsx)("div",{className:"aside__body w-100",children:(0,w.jsxs)("div",{className:"a_header_ a_footer_ card",children:[(0,w.jsx)("div",{className:"py-4 card-header",children:(0,w.jsx)("p",{className:"sk_rect h-34px"})}),(0,w.jsxs)("div",{className:"bg-gray-100 aside_body p-0 card-body",children:[(0,w.jsxs)("div",{className:"border-bottom p-4",children:[(0,w.jsx)("p",{className:"mb-3 sk_line sk_line_50 sk_line_height_16"}),(0,w.jsx)("p",{className:"sk_rect h-42px mb-0"})]}),(0,w.jsxs)("div",{className:"f-center my-2 nav nav-pills",children:[(0,w.jsx)("div",{className:"nav-item mx-1",children:(0,w.jsx)("p",{className:"sk_rect h-38px w-80px mb-0"})}),(0,w.jsx)("div",{className:"position-relative nav-item mx-1",children:(0,w.jsx)("p",{className:"sk_rect h-38px w-80px mb-0"})})]}),(0,w.jsx)("div",{className:"justify-content-center border-bottom nav nav-underline py-4",children:(0,w.jsx)("p",{className:"my-0 sk_line w-75 sk_line_height_16"})}),(0,w.jsx)("div",{className:"justify-content-center nav nav-underline py-4",children:(0,w.jsx)("p",{className:"my-0 sk_line w-50 sk_line_height_16"})}),(0,w.jsx)("div",{className:"px-4 pb-3 mb-4",children:(0,w.jsxs)("div",{className:"select-group flex-wrap row gx-8 row",children:[(0,w.jsx)("div",{className:"col-4 p-0 select-grid col",children:(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"sk_rect w-100 mb-0",style:{height:"100px"}})})}),(0,w.jsx)("div",{className:"col-4 p-0 select-grid col",children:(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"sk_rect w-100 mb-0",style:{height:"100px"}})})})]})}),(0,w.jsx)("div",{className:"justify-content-center nav nav-underline py-4",children:(0,w.jsx)("p",{className:"my-0 sk_line w-50 sk_line_height_16"})}),(0,w.jsx)("div",{className:"px-4 pb-3 mb-4",children:(0,w.jsxs)("div",{className:"select-group flex-wrap row gx-8 row",children:[(0,w.jsx)("div",{className:"col-4 p-0 select-grid col",children:(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"sk_rect w-100 mb-0",style:{height:"100px"}})})}),(0,w.jsx)("div",{className:"col-4 p-0 select-grid col",children:(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"sk_rect w-100 mb-0",style:{height:"100px"}})})})]})})]}),(0,w.jsx)("div",{className:"d-flex justify-content-end card-footer"})]})})}),(0,w.jsxs)("div",{className:"preview_ p_footer_ card",children:[(0,w.jsx)("div",{className:"position-relative card-body",children:(0,w.jsx)("div",{className:"theme_preview",children:(0,w.jsx)(W.a,{bg:"body"})})}),(0,w.jsx)("div",{className:"d-flex justify-content-end card-footer"})]})]})})}var nt=t(26787),dt=t(25259),rt=t(30164),ct=t(43927),ut=t(64323),vt=t(75798),ht=t(2287);const pt=e=>{var l,t,o,n,d,r,c,u,h,p,m,g,x,_,b,y,j,f;let{show:C,onClose:A=null}=e;const[S,T]=(0,s.useState)(!1),[k,I]=(0,s.useState)(null),[D,L]=(0,s.useState)(!1),[P,E]=(0,s.useState)(!0),{planPriceDetail:F,userData:B,feeds:O}=(0,v.d4)(e=>{var l,t,i,s;return{planPriceDetail:null!==(l=e.planPriceDetail)&&void 0!==l?l:{},userData:null!==(t=null===(i=e.authorized)||void 0===i||null===(s=i.userData)||void 0===s?void 0:s.user_data)&&void 0!==t?t:{}}},v.bN),R="shopify"==(null===B||void 0===B||null===(l=B.sessionData)||void 0===l?void 0:l.createFrom),{extraPlanData:U,planPrice:H}=F,M=(0,v.wA)(),z=(0,s.useMemo)(()=>{var e,l,t,i,s;const o=null!==(e=null===(l=window)||void 0===l?void 0:l.APP_CONTENT)&&void 0!==e?e:{};return{pageContent:null!==(t=null===o||void 0===o?void 0:o.pricing)&&void 0!==t?t:{},commonContent:null!==(i=null===o||void 0===o?void 0:o.common)&&void 0!==i?i:{},collab:null!==(s=null===o||void 0===o?void 0:o.collab)&&void 0!==s?s:{}}},[]),{selectedFeed:G,popUpType:Y}=(0,s.useMemo)(()=>{var e;const{extraFeedList:l,whichPopupFlag:t}=U||{},s=null!==l&&void 0!==l&&l.length?l:[],o=s[s.length-1]||{},a=C&&t||0;return{selectedFeed:(0,i.A)((0,i.A)({},o),{},{networkName:(0,N.Oi)(null!==(e=null===o||void 0===o?void 0:o.networkId)&&void 0!==e?e:"")}),popUpType:a}},[U,C]),V=(0,s.useCallback)((e,l)=>{var t,i;const s={billingcycle:P?"0":"1",isAddOn:"0",couponCode:"",widget_addon_qty:"0",feeds_addon_qty:"0",twitter_addon_qty:"0",isCreatenewSubscription:!1,planId:null!==(t=null===k||void 0===k?void 0:k.planId)&&void 0!==t?t:0};(0,ct.U7)(s,e,l,"bigcommerce"==(null===B||void 0===B||null===(i=B.sessionData)||void 0===i?void 0:i.createFrom))},[]),W=(0,s.useCallback)(()=>{if(null!==G&&void 0!==G&&G.id){const{id:e,networkId:l}=G;M((0,ut.sP)(e,l,()=>M((0,Nl.ug)())))}},[G]);return(0,s.useEffect)(()=>{null!==O&&void 0!==O&&O.length||M((0,ut.LF)()),null!==H&&void 0!==H&&H.length||M((0,ct.mT)()),0==Object.keys(U||{}).length&&M((0,ct.Is)())},[]),(0,w.jsxs)(dt.A,{show:Y,heading:null!==(t=null===z||void 0===z||null===(o=z.pageContent)||void 0===o?void 0:o.plan_upgrade_pop)&&void 0!==t?t:"",description:(0,N.Xo)((0,N.dz)(1==Y?null!==(n=null===z||void 0===z||null===(d=z.pageContent)||void 0===d?void 0:d.plan_upgrade_pop_desc)&&void 0!==n?n:"":null!==(r=null===z||void 0===z||null===(c=z.pageContent)||void 0===c?void 0:c.plan_upgrade_pop_shop_desc)&&void 0!==r?r:"",{feedName:null!==(u=null===G||void 0===G?void 0:G.networkName)&&void 0!==u?u:""})),parentClass:"py-0 mt-8",size:1==Y?"xl":"lg",onClose:A,children:[(0,w.jsxs)("div",{className:"p-8 pt-2",id:"plan-payment-modal",children:[(0,w.jsxs)("div",{className:"rounded-3 bg-secondary pb-2",children:[(0,w.jsx)(mt,{appContent:z,toggle:P,toggleSwitch:()=>E(!P)}),(0,w.jsx)("div",{className:"row p-8 pb-0",children:(null===H||void 0===H?void 0:H.length)>1?null===H||void 0===H?void 0:H.slice(Y,null===H||void 0===H?void 0:H.length).map((e,l)=>{var t,i,s;const o=null!==(t=null===(i=H[l+Y-1])||void 0===i?void 0:i.planName)&&void 0!==t?t:"",a="Everything In ".concat(o.toUpperCase()," Plan +");return(0,w.jsx)(gt,{item:e,recPlan:"growth"==(null===e||void 0===e||null===(s=e.planName)||void 0===s?void 0:s.toLowerCase()),btnAction:()=>(e=>{R?(0,ct.cg)(e,!1):(T(!0),I(e))})(e),col:1==Y?4:6,appContent:z,listTitle:a,showMonthly:P},l)}):null}),1==Y&&null!==G&&void 0!==G&&G.id?(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-between alert alert-danger mt-2 mx-8 py-3 px-5",children:[(0,w.jsxs)("div",{className:"text-start",children:[(0,w.jsx)("h2",{className:"w-100 m-0",children:null!==(h=null===z||void 0===z||null===(p=z.pageContent)||void 0===p?void 0:p.plan_upgrade_cta_title)&&void 0!==h?h:""}),(0,w.jsx)("p",{className:"mb-0",children:(0,N.dz)(null!==(m=null===z||void 0===z||null===(g=z.pageContent)||void 0===g?void 0:g.plan_upgrade_cta_desc)&&void 0!==m?m:"",{feedName:null===k||void 0===k?void 0:k.feedName})})]}),(0,w.jsx)(a.A,{variant:"light",className:"px-5 btn btn-lg",onClick:W,children:null!==(x=null===z||void 0===z||null===(_=z.pageContent)||void 0===_?void 0:_.plan_upgrade_cta_btn)&&void 0!==x?x:""})]}):null]}),(0,w.jsxs)("p",{className:"text-center mt-5 mb-0",children:[null!==(b=null===z||void 0===z||null===(y=z.commonContent)||void 0===y?void 0:y.need_help)&&void 0!==b?b:""," ",(0,w.jsx)("span",{className:"fw-bold cursor-pointer ms-1",onClick:()=>L(!0),children:null!==(j=null===z||void 0===z||null===(f=z.commonContent)||void 0===f?void 0:f.talk_to_us)&&void 0!==j?j:""})]})]}),(0,w.jsx)(rt.A,{containerId:document.getElementById("plan-payment-modal"),show:S,onHide:()=>T(!1),paymentAction:(e,l)=>V(e,l)}),(0,w.jsx)(vt.A,{containerId:document.getElementById("plan-payment-modal"),show:D,onCloseModel:()=>L(!1)})]})},mt=e=>{var l,t,i,s;let{appContent:o,toggle:a,toggleSwitch:n}=e;return(0,w.jsxs)("div",{className:"f-center my-5 pt-3 position-relative flex-wrap flex-md-nowrap",children:[(0,w.jsx)("span",{className:"fs-8",children:null!==(l=null===o||void 0===o||null===(t=o.commonContent)||void 0===t?void 0:t.monthly)&&void 0!==l?l:""}),(0,w.jsxs)("div",{style:{width:"40px",height:"20px",backgroundColor:"var(--bs-primary)"},className:"animated_btn-group rounded-pill mx-2 ".concat(a?"active":""),children:[(0,w.jsxs)(pe.A,{className:"f-center",type:"radio",name:"device",value:a?1:2,onChange:n,children:[(0,w.jsx)(me.A,{size:"sm",variant:"animated",className:"rounded-pill mx-0",id:"mobile-btn",value:1}),(0,w.jsx)(me.A,{size:"sm",variant:"animated",className:"rounded-pill mx-0",id:"laptop-btn",value:2})]}),(0,w.jsx)("div",{className:"animated_btn_bg rounded-pill bg-light",style:{width:"12px",height:"calc(100% - 8px)"}})]}),(0,w.jsx)("span",{className:"fs-8",children:(0,N.dz)(null!==(i=null===o||void 0===o||null===(s=o.pageContent)||void 0===s?void 0:s.annually_save)&&void 0!==i?i:"",{save:"20"})})]})},gt=e=>{var l,t,i,s,o;let{item:n,recPlan:d,btnAction:c,appContent:v,col:h,listTitle:p,showMonthly:m}=e;const x=m?(0,N.$J)(null===n||void 0===n?void 0:n.tagshopPlanPrice):(0,N.$J)(null===n||void 0===n?void 0:n.tagshopYearlyPrice),_=m?(0,N.$J)(null===n||void 0===n?void 0:n.planPrice):(0,N.$J)(null===n||void 0===n?void 0:n.planYearlyPrice),b=m?(0,N.$J)(null===n||void 0===n?void 0:n.diffrencePrice):(0,N.$J)(null===n||void 0===n?void 0:n.diffrenceYearlyPrice),y=x||b||_;return(0,w.jsx)(g.A,{xl:h,lg:6,md:12,className:"mb-2",children:(0,w.jsx)(r.A,{className:"price-card mx-auto mb-0 position-relative ".concat(d?"border-primary border-2":"h-100"),children:(0,w.jsxs)(r.A.Body,{className:"py-2",children:[(0,w.jsx)("div",{className:"".concat(null!==n&&void 0!==n&&n.planId?"":"enterprise_plan"," price_card_inner"),children:(0,w.jsxs)("div",{className:"".concat(null!==n&&void 0!==n&&n.planId?"":"enterprise_plan_inn"),children:[(0,w.jsx)("h2",{className:"mb-1",children:null===n||void 0===n?void 0:n.planName}),(0,w.jsx)("p",{className:"color2 f2 mb-0",children:null===n||void 0===n?void 0:n.detail}),(0,w.jsxs)("span",{className:"just-pay-wrap d-flex align-items-center justify-content-start",children:[(0,w.jsx)("sup",{children:"$"}),(0,w.jsx)("span",{className:"price odometer count text-dark",children:y}),(0,w.jsxs)("sub",{className:"valid_from color2",children:["/",null===n||void 0===n?void 0:n.day]})]})]})}),(0,w.jsx)(a.A,{onClick:()=>c(n,!1,!0),variant:d?"primary":"light",size:"lg",className:"w-100 mt-2",children:null!==(l=null===v||void 0===v||null===(t=v.collab)||void 0===t?void 0:t.button_submit)&&void 0!==l?l:""}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h3",{className:"font-bold fs-8 mt-2",children:p}),(0,w.jsx)("ul",{className:"list-unstyled my-0",children:null===n||void 0===n||null===(i=n.compareFeatures)||void 0===i||null===(s=i.slice((null===n||void 0===n?void 0:n.planId)==Ke.vm.freePlan?0:1,null===n||void 0===n||null===(o=n.compareFeatures)||void 0===o?void 0:o.length))||void 0===s?void 0:s.map((e,l)=>{var t,i,s,o,a,n;return(0,w.jsx)(jl.A,{cssClName:(null===e||void 0===e||null===(t=e.networkList)||void 0===t?void 0:t.length)>0?"plan-network-tooltip":"",overlayText:(null===e||void 0===e||null===(i=e.networkList)||void 0===i?void 0:i.length)>0?(0,w.jsx)(ht.A,{iconsList:null===e||void 0===e?void 0:e.networkList,doSlice:!1}):e.tooltip,children:(0,w.jsxs)("li",{className:"d-flex mb-1 fw-medium text-muted align-items-center",children:[(0,w.jsx)(u.gc,{icon:1===(null===e||void 0===e?void 0:e.value)?"check-circle":"xmark-circle",iconClass:"text-".concat(1===(null===e||void 0===e?void 0:e.value)?"success":"danger"," fs-6 me-2 my-1 d-flex flex-shrink-0")}),(0,N.Xo)(null!==(s=null===e||void 0===e?void 0:e.key)&&void 0!==s?s:""),(0,w.jsx)(u.gc,{icon:"circle-info",size:12,iconClass:"text-gray-500 ms-1"}),String(null!==(o=null===e||void 0===e?void 0:e.key)&&void 0!==o?o:"").includes("Shoppable")?(0,w.jsx)("span",{style:{background:"var(--bs-dark)",fontSize:"9px",borderRadius:"3px",marginLeft:"5px",color:"var(--bs-light)",display:"flex",alignItems:"center",height:"15px",padding:"5px"},children:null!==(a=null===v||void 0===v||null===(n=v.commonContent)||void 0===n?void 0:n.new)&&void 0!==a?a:"New"}):null]},l)},l)})})]})]})})},"plan".concat(null===n||void 0===n?void 0:n.planId))},xt=!!window.location.pathname.includes("/bigcommerce/"),_t=e=>{let{toggle:l,TOGGLE_ADD_WEBSITE:t}=e;return(0,w.jsxs)("div",{className:"f-center py-4 w-100",style:{height:"calc(100vh - 95px)"},children:[(0,w.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,w.jsx)(o.A,{"data-mode":"light",loading:"lazy",className:"mb-5",src:(0,u.pc)("media/icons/color-icons/media.svg"),height:120,width:120,alt:"media",title:"media",fluid:!0}),(0,w.jsx)(o.A,{"data-mode":"dark",loading:"lazy",className:"mb-5",src:(0,u.pc)("media/icons/color-icons/media-light.svg"),height:120,width:120,alt:"media",title:"media",fluid:!0}),(0,w.jsx)("h4",{className:"text-gray-dark fw-semibold text-center",children:"Create a website, to start! \u231b"}),(0,w.jsx)("p",{className:"fs-7",children:"Oops! Looks like you have deleted your website, create one by simply clicking on the button below."}),(0,w.jsx)(a.A,{variant:"primary",className:"mb-2 btn-min-w",onClick:()=>t(),children:"Create Website"})]}),(0,w.jsx)(Hl.A,{title:"Website",addNew:l,noList:!0})]})},bt=e=>{let{isShoppable:l,themeId:t}=e;return(0,w.jsxs)(n.A,{variant:"underline",className:"justify-content-center border-bottom",children:[(0,w.jsx)(n.A.Item,{className:"",children:(0,w.jsx)(n.A.Link,{eventKey:"theme",children:"Theme"})}),(0,w.jsx)(n.A.Item,{className:"ms-2",children:(0,w.jsx)(n.A.Link,{eventKey:"customization",disabled:!(0,Il.Yj)("publish","website",!0,!0),children:"Customization"})}),l&&87!=t?(0,w.jsx)(n.A.Item,{className:"ms-2",children:(0,w.jsx)(n.A.Link,{eventKey:"cta",disabled:!(0,Il.Yj)("publish","website",!0,!0),children:"Product CTA"})}):null]})};class yt extends s.Component{constructor(e){super(e),this.userInitiatedClick=!1,this.userGenClick=!1,this.pageContent=window.APP_CONTENT,this.isShopify=(0,N.C2)(),this.handleMouseDown=()=>{this.userInitiatedClick=!0},this.handleSaveClick=()=>{this.props.SAVE_AND_PUBLISH(!0),this.applyWebsite_wall(this.userInitiatedClick),this.userInitiatedClick=!1},this.handleGenMouseDown=()=>{this.userGenClick=!0},this.handleGenClick=()=>{this.onGenerateCode(this.userGenClick),this.userGenClick=!1,(0,N.tx)("#scrollTab")},this.changeGalleryType=e=>this.setState({galleryType:e,previewKey:"script"}),this.changePlatform=e=>this.setState({platform:e}),this.selectedWebsite=()=>{var e,l;const{websiteList:t}=this.props.websiteData;var i=null===t||void 0===t?void 0:t.find(e=>{var l,t;return(null===(l=e.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.webId)==localStorage.getItem("website_id")});const s=i&&null!==i&&void 0!==i&&i.wall?i:t&&t[0]?t[0]:"";s&&this.setState({selectedWall:s,socialReview:[85,82,84,80,79].includes(null===s||void 0===s||null===(e=s.wall)||void 0===e||null===(l=e.ThemeInfo)||void 0===l?void 0:l.id)?2:1})},this.ChangeGallery=(e,l,t)=>{var i,s,o;const{allWalls:a,appData:n}=this.props;var d,r,c,u,v,h,p,m,g,x,_,b,y=null===a||void 0===a?void 0:a.find(l=>l.id==e);(this.setState({activeGallery:y,selectLoader:!1}),localStorage.setItem("active_wall",null===y||void 0===y?void 0:y.id),l||this.props.WALL_CHANGED(),null!==t&&void 0!==t&&null!==(i=t.wall)&&void 0!==i&&i.ThemeInfo||null!==n&&void 0!==n&&null!==(s=n.wall)&&void 0!==s&&null!==(o=s.ThemeInfo)&&void 0!==o&&o.id||l)&&this.props.CHANGE_WEBSITE_WALL(null===y||void 0===y?void 0:y.id,null!==(d=null!==(r=null===t||void 0===t||null===(c=t.wall)||void 0===c||null===(u=c.ThemeStyle)||void 0===u?void 0:u.totalPosts)&&void 0!==r?r:null===n||void 0===n||null===(v=n.wall)||void 0===v||null===(h=v.ThemeStyle)||void 0===h?void 0:h.totalPosts)&&void 0!==d?d:20,null!==(p=null!==(m=null===t||void 0===t||null===(g=t.wall)||void 0===g||null===(x=g.ThemeInfo)||void 0===x?void 0:x.id)&&void 0!==m?m:null===n||void 0===n||null===(_=n.wall)||void 0===_||null===(b=_.ThemeInfo)||void 0===b?void 0:b.id)&&void 0!==p?p:62)},this.changeActiveTab=()=>{document.querySelectorAll(".publishTab").forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),document.querySelector("#html-tab").classList.add("active")},this.handleViewChange=e=>{this.setState({viewMode:e})},this.applyWebsite_wall=e=>{var l,t,i,s,o,a,n,d,r;const{activeGallery:c,isUpdate:u}=this.state,{wall:v}=this.props.appData,{emailCampaign:h}=this.pageContent;if(1===(null===(l=v.ThemeInfo)||void 0===l?void 0:l.gtStatus)&&(null===(t=v.ThemeInfo)||void 0===t||!t.gtCode))return(0,N.r$)(null===h||void 0===h||null===(i=h.toastarMsg)||void 0===i?void 0:i.trackingId),!1;const p={wallId:c?c.id:localStorage.getItem("active_wall"),id:localStorage.getItem("website_id")};var m,g,x,_;(this.setState({spinner:!0}),3==(null===v||void 0===v||null===(s=v.ThemeStyle)||void 0===s?void 0:s.modal.action)&&!(0,N.m$)(null===v||void 0===v||null===(o=v.ThemeStyle)||void 0===o?void 0:o.modal.redirect)||1==(null===v||void 0===v||null===(a=v.CardStyle)||void 0===a||null===(n=a.globalCTA)||void 0===n?void 0:n.status)&&!(0,N.m$)(null===v||void 0===v||null===(d=v.CardStyle)||void 0===d||null===(r=d.globalCTA)||void 0===r?void 0:r.url))?((0,N.r$)(3!=(null===v||void 0===v||null===(m=v.ThemeStyle)||void 0===m?void 0:m.modal.action)||(0,N.m$)(null===v||void 0===v||null===(g=v.ThemeStyle)||void 0===g?void 0:g.modal.redirect)?null===h||void 0===h||null===(_=h.toastarMsg)||void 0===_?void 0:_.cta_url:null===h||void 0===h||null===(x=h.toastarMsg)||void 0===x?void 0:x.valid_url),this.props.SAVE_AND_PUBLISH(!1),this.setState({spinner:!1})):setTimeout(()=>{(0,He.tR)(p).then(l=>{const{responseCode:t,responseMessage:i}=l.data;var s,o;(this.setState({spinner:!1,isWallChange:!1}),200==t)?(null!==(s=this.props.appData)&&void 0!==s&&s.callBackAction&&!e&&(null===(o=this.props.appData)||void 0===o||o.callBackAction()),(0,N.k1)(i),this.props.GET_ALL_WEBSITE_LIST(),this.props.SET_ALL_UPDATED(),setTimeout(()=>{this.setState({isUpdate:!u})},1e3),this.isShopify&&(window.saveBar.set({saveAction:{loading:!1}}),setTimeout(()=>{(0,N.Fl)("hide")},200))):(0,N.r$)(i)}).catch(e=>console.warn(e))},1e3)},this.saveWebsite=()=>{window.saveBar.set({saveAction:{loading:!0}}),this.props.SAVE_AND_PUBLISH(!0),this.applyWebsite_wall()},this.discardSetting=()=>{var e,l;const t=null===(e=this.props.websiteData)||void 0===e||null===(l=e.websiteList)||void 0===l?void 0:l.find(e=>{var l,t;return(null===(l=e.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.webId)==localStorage.getItem("website_id")}),i=document.querySelector("#discardSetting");if(!t)return;const s=()=>{var e,l;localStorage.setItem("active_wall",null===(e=t.wall)||void 0===e||null===(l=e.ThemeInfo)||void 0===l?void 0:l.wallId),this.props.GET_APP_DATA(t,()=>this.isShopify?(0,N.Fl)("hide"):{})};var o,a,n;this.isShopify?(this.changeWebsite(t.wall,!0),s()):null!==i&&void 0!==i&&i.getAttribute("data-nav")?s():(0,N.l1)({title:null!==(o=null===(a=this.pageContent)||void 0===a||null===(n=a.common)||void 0===n?void 0:n.are_you_sure)&&void 0!==o?o:"",icon:"warning",showCancelButton:!0,confirmButtonText:"Discard",cancelButtonText:"Cancel"}).then(e=>{e.isConfirmed&&(this.changeWebsite(t.wall,!0),s())})},this.onGenerateCode=e=>{var l,t;const{websiteData:s,GET_APP_DATA:o,storeCallback:a,extraPlanData:n}=this.props,{websiteList:d}=s,r=localStorage.getItem("website_id"),c=null===d||void 0===d?void 0:d.find(e=>{var l;return(null===(l=e.wall.ThemeInfo)||void 0===l?void 0:l.webId)==r}),u=document.querySelector("#discardSetting"),v=()=>{var e,l;localStorage.setItem("active_wall",null===(e=c.wall)||void 0===e||null===(l=e.ThemeInfo)||void 0===l?void 0:l.wallId),o(c,()=>this.isShopify?(0,N.Fl)("hide"):{})},h=()=>{const{whichPopupFlag:e}=n||{},l=!!e;let t={showUpdate:l};l||(t={footer_action2:!1,footer_action1:!0,footer_action3:!0}),this.setState((0,i.A)({},t))};a(h),null!==u&&void 0!==u&&u.getAttribute("data-nav")?(v(),e&&setTimeout(h,500)):null!==c&&void 0!==c&&null!==(l=c.wall.ThemeInfo)&&void 0!==l&&l.wallId&&e&&(0,Tl.m)(),0==e&&this.isShopify&&setTimeout(h,500),null===(t=document.getElementById("subtree-container"))||void 0===t||t.remove()},this.changeWebsite=(e,l)=>{const t=()=>this.changeWebData(e);this.props.storeCallback(t),(0,Tl.m)(t,l)},this.changeWebData=e=>{var l,t;const{websiteData:i,navigate:s,allWalls:o}=this.props,{ThemeInfo:a}=e;this.setState({selectedWall:null,selectLoader:!0,activeGallery:null}),localStorage.setItem("website_id",null===a||void 0===a?void 0:a.webId);const n=null===(l=window.location.pathname.match(/\/(shopify|bigcommerce)\//))||void 0===l?void 0:l[1];s("/website/".concat(n||"publish","/").concat(n?localStorage.getItem("website_id"):null===a||void 0===a?void 0:a.webId));var d=null===i||void 0===i||null===(t=i.websiteList)||void 0===t?void 0:t.find(e=>{var l;return(null===(l=e.wall.ThemeInfo)||void 0===l?void 0:l.webId)==(null===a||void 0===a?void 0:a.webId)});this.props.GET_APP_DATA(d,()=>this.isShopify?(0,N.Fl)("hide"):{}),this.props.ACTIVE_WEBSITE_ID();const r=null!==o&&void 0!==o&&o.length?o.find(e=>{var l,t;return e.id==(null===d||void 0===d||null===(l=d.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.wallId)}):null;setTimeout(()=>{var e,l;this.setState({selectedWall:d,activeGallery:r,selectLoader:!1,socialReview:[85,82,84,80,79].includes(null===d||void 0===d||null===(e=d.wall)||void 0===e||null===(l=e.ThemeInfo)||void 0===l?void 0:l.id)?2:1},()=>{var e,l,t;return this.ChangeGallery(null!==(e=null!==(l=null===r||void 0===r?void 0:r.id)&&void 0!==l?l:null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.id)&&void 0!==e?e:{},"noChange",d)})},100)},this.changeThemeSection=e=>{const{socialReview:l,selectedWall:t}=this.state;var i,s;l!=e&&(Number(e)==(null===t||void 0===t||null===(i=t.wall)||void 0===i||null===(s=i.ThemeInfo)||void 0===s?void 0:s.themeType)?this.setState({socialReview:e,sectionChanged:!1}):this.setState({socialReview:e,sectionChanged:!0}))},this.closeAside=()=>this.setState({filterToggle:!1}),this.state={footer_action1:!1,footer_action2:!0,footer_action3:!1,galleryType:1,banner:!1,activeKey:"",activeGallery:[],changeSetting:!1,spinner:!1,mobilePrewiew:!1,isWallChange:!1,previewRerender:!0,minNumberPost:1,previewKey:"script",width:"",isSavedList:!1,selectedWall:"",platform:xt?5:1,publishOption:1,selectLoader:!1,filterToggle:!1,socialReview:1,sectionChanged:!1,viewMode:"desktop",isUpdate:!1,showUpdate:!1}}componentWillMount(){var e;const{themeData:l}=this.props;(null===l||void 0===l||null===(e=l.themeList)||void 0===e||!e.length)&&this.props.GET_THEME_LIST()}componentDidMount(){var e,l,t;const{websiteData:s,ctaData:o,GET_ALL_WEBSITE_LIST:a}=this.props;null!==s&&void 0!==s&&null!==(e=s.websiteList)&&void 0!==e&&e.length||a(),this.isShopify&&(window.addEventListener("onSaveClicked",this.saveWebsite),window.addEventListener("onDiscardClicked",this.discardSetting));const{allWalls:n,appData:d,GET_CTA_ACTION:r,CHANGE_WEBSITE_WALL:c}=this.props,u=localStorage.getItem("active_wall"),v=(null===n||void 0===n?void 0:n[0])||null;let h=(null===n||void 0===n?void 0:n.find(e=>{let{id:l}=e;return String(l)==String(u)}))||v;o||r(null===d||void 0===d?void 0:d.wall);let p={};const m=(0,N.u0)();var g,x,_,b;(null!==m&&void 0!==m&&m.publishCode&&(p={footer_action1:!0,footer_action2:!1,footer_action3:!1}),this.setState((0,i.A)({activeGallery:h},p)),null!==h&&void 0!==h&&h.id&&null!==d&&void 0!==d&&null!==(l=d.wall)&&void 0!==l&&null!==(t=l.ThemeInfo)&&void 0!==t&&t.id)?c(h.id,(null===d||void 0===d||null===(g=d.wall)||void 0===g||null===(x=g.ThemeStyle)||void 0===x?void 0:x.totalPosts)||20,(null===d||void 0===d||null===(_=d.wall)||void 0===_||null===(b=_.ThemeInfo)||void 0===b?void 0:b.id)||62):(c(null===v||void 0===v?void 0:v.id,20,62),this.setState({activeGallery:v}));window.addEventListener("resize",this.handleWindowResize),this.selectedWebsite()}componentWillUnmount(){this.isShopify&&((0,N.Fl)("hide"),window.removeEventListener("onSaveClicked",this.saveWebsite),window.removeEventListener("onDiscardClicked",this.discardSetting))}componentDidUpdate(e){var l,t,i,s;const{websiteData:o,allWalls:a,appData:n}=this.props;if((null===o||void 0===o?void 0:o.websiteList.length)!=(null===(l=e.websiteData)||void 0===l?void 0:l.websiteList.length))if((null===o||void 0===o?void 0:o.websiteList.length)>0){var d,r,c,u,v;let e=null,l=null===o||void 0===o||null===(d=o.websiteList)||void 0===d?void 0:d.find(e=>{var l,t;return(null===(l=e.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.webId)==localStorage.getItem("website_id")});l=l||(null===o||void 0===o?void 0:o.websiteList[0]),a&&a.length>0&&(e=a.find(e=>{var t,i,s;return e.id==(null===(t=l)||void 0===t||null===(i=t.wall)||void 0===i||null===(s=i.ThemeInfo)||void 0===s?void 0:s.wallId)}),e=e||a[0]),this.props.GET_APP_DATA(l),this.setState({selectedWall:l,activeGallery:e,footer_action1:!1,footer_action2:!0,footer_action3:!1,socialReview:[85,82,84,80,79].includes(null===(r=l)||void 0===r||null===(c=r.wall.ThemeInfo)||void 0===c?void 0:c.id)?2:1},()=>e?this.ChangeGallery(e.id,"noChange",l):{}),localStorage.setItem("website_id",null===(u=l.wall)||void 0===u||null===(v=u.ThemeInfo)||void 0===v?void 0:v.webId)}else this.setState({selectedWall:null,activeGallery:a&&a.length>0?a[0]:null,footer_action1:!1,footer_action2:!0,footer_action3:!1},()=>{a&a.length>0&&this.ChangeGallery(a[0].id,"noChanges",null)}),localStorage.setItem("website_id","");if((null===(t=e.allWalls)||void 0===t?void 0:t.length)!==(null===a||void 0===a?void 0:a.length)&&this.state.selectedWall){const e=(null===a||void 0===a?void 0:a.find(e=>{var l,t;return e.id==(null===(l=this.state.selectedWall.wall)||void 0===l||null===(t=l.ThemeInfo)||void 0===t?void 0:t.wallId)}))||(null===a||void 0===a?void 0:a[0])||null;this.ChangeGallery((null===e||void 0===e?void 0:e.id)||null,"noChanges",null)}null===n||void 0===n||!n.live_preview_loader||null===n||void 0===n||!n.isPostLoading||null!==(i=e.appData)&&void 0!==i&&i.live_preview_loader||null!==(s=e.appData)&&void 0!==s&&s.isPostLoading||this.setState({previewRerender:!1}),this.isShopify&&(null!==n&&void 0!==n&&n.is_wall_change||null!==n&&void 0!==n&&n.is_themes_change||null!==n&&void 0!==n&&n.is_backgroun_change||null!==n&&void 0!==n&&n.is_banner_IMG_change||null!==n&&void 0!==n&&n.is_banner_change||null!==n&&void 0!==n&&n.is_card_style_change||null!==n&&void 0!==n&&n.is_theme_setting_change||null!==n&&void 0!==n&&n.is_custome_css_change||null!==n&&void 0!==n&&n.is_magic_upload_change||null!==n&&void 0!==n&&n.is_cta_setting_change||null!==n&&void 0!==n&&n.is_utm_tracker_change||null!==n&&void 0!==n&&n.isHeaderUpdate||null!==n&&void 0!==n&&n.is_card_cta_change||null!==n&&void 0!==n&&n.is_hash_changed)&&(0,N.Fl)()}render(){var e,l,t,o,v,p,m,g,x,_,b,y,j,f,C,A,S,T,k,I,D,L,P,E,F,B,O,R,U,H,M,z,G,Y,V,K,q,$,J,X,Z,Q,ee,le,te,ie,se;const{footer_action1:oe,footer_action2:ne,footer_action3:de,activeKey:re,activeGallery:ue,changeSetting:ve,previewRerender:pe,selectedWall:me,selectLoader:ge,platform:xe,galleryType:_e,previewKey:ye,filterToggle:fe,socialReview:Ne,sectionChanged:we,isUpdate:Ce,showUpdate:Ae}=this.state,{themeData:Se,allWalls:Te,appData:ke,websiteData:Ie,allFont:De,authorized:Le,allTags:Pe}=this.props,Ee=null===Le||void 0===Le||null===(e=Le.userData)||void 0===e||null===(l=e.user_data)||void 0===l?void 0:l.sessionData,Fe=("shopify"==(null===Ee||void 0===Ee?void 0:Ee.createFrom.toLowerCase())||(null===Ee||void 0===Ee||Ee.createFrom.toLowerCase()),this.isShopify),{bannerData:Be}=ke,{publish:Oe,emailCampaign:Ue}=this.pageContent,He=null!==Oe&&void 0!==Oe?Oe:{},Me=(null===(t=window)||void 0===t||null===(o=t.APP_CONTENT)||void 0===o?void 0:o.sideBar)||{};return(0,w.jsxs)(w.Fragment,{children:[null!==Ie&&void 0!==Ie&&null!==(v=Ie.websiteList)&&void 0!==v&&v.length?(0,w.jsx)(nt.A,{crumbs:[{name:null!==(p=null===me||void 0===me||null===(m=me.wall)||void 0===m||null===(g=m.ThemeInfo)||void 0===g?void 0:g.wallName)&&void 0!==p?p:"",icon:"paper-plane"},{name:null!==(x=null===Me||void 0===Me?void 0:Me.home)&&void 0!==x?x:"",link:"/home"},{name:null!==(_=null===Me||void 0===Me?void 0:Me.publish_)&&void 0!==_?_:"",link:"/publish"}],publishSwitcher:!0,changePublish:this.changeWebsite,publishList:null===Ie||void 0===Ie?void 0:Ie.websiteList,selectedPublish:null===me||void 0===me?void 0:me.wall,isWebsite:!0,title:"Website"}):null,(0,w.jsx)("div",{className:"d-flex flex-column flex-column-fluid full-content ".concat(4==this.state.galleryType?"rating-gallery":""),children:(0,w.jsxs)(d.A,{fluid:!0,className:"container-publish-inn",id:"code-section",children:[(0,w.jsx)(st,{fonts:De}),null!==Ie&&void 0!==Ie&&null!==(b=Ie.websiteList)&&void 0!==b&&b.length?(0,w.jsx)(r.A,{className:"content_inner website__ border-0 custom-card shadow-none",children:(0,w.jsxs)(r.A.Body,{className:"p-0 d-flex w-100",children:[(0,w.jsx)(Ul.A,{filterToggle:fe,closeAside:this.closeAside,children:(0,w.jsxs)(r.A,{className:"a_header_ a_footer_ rounded-0",children:[(0,w.jsxs)(r.A.Body,{className:"aside_body p-0",style:{marginBottom:-1},children:[!oe&&null!==me&&void 0!==me&&null!==(y=me.wall)&&void 0!==y&&y.showSwitchGallery?(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"border-bottom p-4 select-gal-custom",children:[(0,w.jsx)("h5",{children:null===He||void 0===He?void 0:He.title}),(0,w.jsxs)(je.A,{children:[" ",(0,w.jsx)(h.A,{contentList:Te,modifyContent:e=>this.ChangeGallery(e.id),selectedContent:ue,title:"Website",onlySwitcher:!0,selectLoader:ge,isWeb:!0})]})]})}):"",oe?(0,w.jsx)(be,{changeGalleryType:this.changeGalleryType,galleryType:_e,changePlatform:this.changePlatform,wallData:null===ke||void 0===ke?void 0:ke.wall,platform:xe,isShopify:Fe,isShoppable:null===Le||void 0===Le||null===(j=Le.userData)||void 0===j||null===(f=j.user_data)||void 0===f||null===(C=f.UserRule)||void 0===C?void 0:C.shoppableStatus,content:He}):"",ne?(0,w.jsxs)(c.A.Container,{defaultActiveKey:"theme",children:[(0,w.jsx)(bt,{isShoppable:null===Le||void 0===Le||null===(A=Le.userData)||void 0===A||null===(S=A.user_data)||void 0===S||null===(T=S.UserRule)||void 0===T?void 0:T.shoppableStatus,themeId:null===ke||void 0===ke||null===(k=ke.wall)||void 0===k||null===(I=k.ThemeInfo)||void 0===I?void 0:I.id}),(0,w.jsxs)(c.A.Content,{children:[(0,w.jsx)(c.A.Pane,{eventKey:"theme",children:(0,w.jsx)(je.A,{children:(0,w.jsx)(Rl,{bannerData:Be,socialReview:Ne,content:He.theme,themeList:Se.themeList,refreshEmbed:this.refreshEmbed,selectedContent:ue,sectionChanged:we,changeThemeSection:this.changeThemeSection,resetSection:()=>this.setState({sectionChanged:!1})})})}),(0,w.jsx)(c.A.Pane,{eventKey:"customization",children:(null===ke||void 0===ke?void 0:ke.wall)&&!ve&&(0,w.jsx)(je.A,{children:(0,w.jsx)(Sl,{socialReview:Ne,a_key:re,bannerDetail:null===(D=this.props)||void 0===D?void 0:D.bannerDetail,appData:null===(L=this.props)||void 0===L?void 0:L.appData,fonts:De,content:He.customization})})}),(0,w.jsx)(c.A.Pane,{eventKey:"cta",children:null!==ke&&void 0!==ke&&ke.wall?(0,w.jsx)(je.A,{children:(0,w.jsx)(Re,{content:He.customization})}):""})]})]}):""]}),(0,w.jsxs)(r.A.Footer,{className:"d-flex justify-content-end ".concat(Fe?"d-md-block d-none":""),children:[ne?(0,w.jsxs)("div",{className:"f-between w-100 gap-3",children:[null!==ke&&void 0!==ke&&ke.is_wall_change||null!==ke&&void 0!==ke&&ke.is_themes_change||null!==ke&&void 0!==ke&&ke.is_backgroun_change||null!==ke&&void 0!==ke&&ke.is_banner_IMG_change||null!==ke&&void 0!==ke&&ke.is_banner_change||null!==ke&&void 0!==ke&&ke.is_card_style_change||null!==ke&&void 0!==ke&&ke.is_theme_setting_change||null!==ke&&void 0!==ke&&ke.is_custome_css_change||null!==ke&&void 0!==ke&&ke.is_magic_upload_change||null!==ke&&void 0!==ke&&ke.is_cta_setting_change||null!==ke&&void 0!==ke&&ke.is_utm_tracker_change||null!==ke&&void 0!==ke&&ke.isHeaderUpdate||null!==ke&&void 0!==ke&&ke.is_card_cta_change||null!==ke&&void 0!==ke&&ke.is_hash_changed?(0,w.jsx)(a.A,{id:"saveSetting",variant:"secondary",className:"".concat(this.state.spinner?"spinner":""," btn btn-outline w-100"),onClick:this.handleSaveClick,onMouseDown:this.handleMouseDown,children:null===He||void 0===He?void 0:He.save}):null,(0,w.jsx)(a.A,{variant:"primary",id:"discardSetting",className:"w-100",onClick:this.handleGenClick,onMouseDown:this.handleGenMouseDown,children:null===He||void 0===He?void 0:He.btn_generate})]}):"",de?(0,w.jsx)("div",{className:"my-1 w-100",children:(0,w.jsx)(a.A,{className:"w-100",onClick:()=>this.setState({footer_action1:!1,footer_action2:!0,footer_action3:!1},()=>(0,N.tx)(".select-gal-custom")),children:null===He||void 0===He?void 0:He.btn_back})}):""]})]})}),(0,w.jsxs)(r.A,{className:"custom-preview border-0 preview_ ".concat(oe?"custom-schema-main p_header_":"p_footer_"),children:[(0,w.jsxs)(a.A,{id:"toggle_aside",variant:"primary",className:"f-center position-absolute end-0 top-0 rounded-pill m-3 ".concat(Fe?"d-md-none":"d-xl-none"),onClick:()=>this.setState({filterToggle:!fe}),style:{zIndex:9},children:[(0,w.jsx)(u.gc,{icon:"sliders",iconClass:"me-1"}),null!==(P=null===Ue||void 0===Ue?void 0:Ue.mobileMenuButton)&&void 0!==P?P:""]}),oe?(0,w.jsxs)(c.A.Container,{activeKey:ye,onSelect:e=>this.setState({previewKey:e}),children:[4!=_e&&(0,w.jsx)(r.A.Header,{className:"py-0 align-items-center justify-content-center border-bottom",children:(0,w.jsxs)(n.A,{className:"gap-0",children:[(0,w.jsx)(n.A.Item,{className:"",children:(0,w.jsxs)(n.A.Link,{eventKey:"script",className:"".concat("script"===ye?"btn-primary":"btn-outline-primary border-end-0"," btn rounded-0 rounded-start"),children:[(0,w.jsx)(u.gc,{icon:"code",className:"me-2"}),null===He||void 0===He?void 0:He.script]})}),(0,w.jsx)(n.A.Item,{className:"",children:(0,w.jsxs)(n.A.Link,{eventKey:"preview",className:"".concat("preview"===ye?"btn-outline-primary":"btn-primary border-start-0"," btn rounded-0 rounded-end"),children:[(0,w.jsx)(u.gc,{icon:"eye",className:"me-2"}),null===He||void 0===He?void 0:He.preview]})})]})}),(0,w.jsx)(r.A.Body,{children:(0,w.jsxs)(c.A.Content,{children:[(0,w.jsx)(c.A.Pane,{eventKey:"script",children:(0,w.jsx)(je.A,{children:(0,w.jsx)(ce,{galleryType:_e,platform:xe,closePopup:this.closePopup,isShopify:Fe,isBigCommerce:xt,wallData:null===(E=this.props)||void 0===E||null===(F=E.appData)||void 0===F?void 0:F.wall,isShoppable:null===Le||void 0===Le||null===(B=Le.userData)||void 0===B||null===(O=B.user_data)||void 0===O||null===(R=O.UserRule)||void 0===R?void 0:R.shoppableStatus,content:He.platform},localStorage.getItem("website_id"))})}),(0,w.jsx)(c.A.Pane,{eventKey:"preview",children:(0,w.jsx)("div",{className:"theme_preview_wrap",children:(0,w.jsx)(s.Suspense,{fallback:(0,w.jsx)(w.Fragment,{}),children:(0,w.jsx)(je.A,{children:(0,w.jsx)(ot.A,{webId:localStorage.getItem("website_id"),themeId:null===ke||void 0===ke||null===(U=ke.wall)||void 0===U||null===(H=U.ThemeInfo)||void 0===H?void 0:H.id,galleryType:_e,allTags:Pe},ye)})})})})]})})]}):"",ne?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(r.A.Body,{className:"position-relative",children:[(0,w.jsx)("div",{className:"desktop-mob d-none ".concat(Fe?"d-md-block":"d-lg-block"),children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-center pb-3 pt-1",children:[(0,w.jsxs)(a.A,{variant:"desktop"===this.state.viewMode?"primary rounded-0 rounded-start":"outline-primary rounded-0 border-end-0 rounded-start",onClick:()=>this.handleViewChange("desktop"),children:[(0,w.jsx)(u.gc,{icon:"desktop",className:"me-2"}),null===He||void 0===He?void 0:He.desktop]}),(0,w.jsxs)(a.A,{variant:"mobile"===this.state.viewMode?"primary rounded-0 rounded-end":"outline-primary rounded-0 border-start-0 rounded-end",onClick:()=>this.handleViewChange("mobile"),children:[(0,w.jsx)(u.gc,{icon:"mobile-alt",className:"me-2"}),null===He||void 0===He?void 0:He.mobile]})]})}),(0,w.jsxs)("div",{className:"preview-container".concat("mobile"===this.state.viewMode?" mobile-view":""),children:[null!==ke&&void 0!==ke&&ke.live_preview_loader||null!==ke&&void 0!==ke&&ke.isPostLoading?(0,w.jsx)(W.a,{bg:"body"}):"",(0,w.jsx)(je.A,{children:(0,w.jsx)(he,{webId:(null===Ie||void 0===Ie?void 0:Ie.websiteList.length)>0?null===Ie||void 0===Ie||null===(M=Ie.websiteList[0])||void 0===M||null===(z=M.wall)||void 0===z||null===(G=z.ThemeInfo)||void 0===G?void 0:G.webId:"",isDemo:null===ke||void 0===ke?void 0:ke.demoData,ownerId:null===Le||void 0===Le||null===(Y=Le.userData)||void 0===Y||null===(V=Y.user_data)||void 0===V||null===(K=V.user)||void 0===K?void 0:K.id,themeId:null===ke||void 0===ke||null===(q=ke.wall)||void 0===q||null===($=q.ThemeInfo)||void 0===$?void 0:$.id,appData:ke},Ce)}),null!==ke&&void 0!==ke&&ke.live_preview_loader||null!==ke&&void 0!==ke&&ke.isPostLoading?null:(0,w.jsx)(w.Fragment,{children:null!==ke&&void 0!==ke&&ke.error_code&&(null===ke||void 0===ke?void 0:ke.error_code)>0&&(null!==ke&&void 0!==ke&&null!==(J=ke.post_data)&&void 0!==J&&J.length||null===ke||void 0===ke||null===(X=ke.wall)||void 0===X||null===(Z=X.SnapUp)||void 0===Z||null===(Q=Z.Form)||void 0===Q||!Q.status||!((null===ke||void 0===ke||null===(ee=ke.wall)||void 0===ee||null===(le=ee.ThemeInfo)||void 0===le?void 0:le.ownerId)>=143090))?(0,w.jsx)(je.A,{children:(0,w.jsx)(tt,{errorCode:null===ke||void 0===ke?void 0:ke.error_code,wall:null===ke||void 0===ke?void 0:ke.wall})}):(0,w.jsx)(je.A,{children:(0,w.jsx)(it,{appData:ke})})}),Te&&Te.length<=0&&(null===ke||void 0===ke||!ke.live_preview_loader)&&(null===ke||void 0===ke||!ke.isPostLoading)&&(null===ke||void 0===ke?void 0:ke.error_code)<=0?(0,w.jsx)("div",{className:"f-center h-100",children:(0,w.jsx)(ae.A,{title:null!==(te=null===Ue||void 0===Ue?void 0:Ue.noContentTitle)&&void 0!==te?te:"",desc:null!==(ie=null===Ue||void 0===Ue?void 0:Ue.noContentDescription)&&void 0!==ie?ie:"",icon:"media",button:{action:()=>this.props.navigate("/content/moderation/".concat(localStorage.getItem("active_wall"))),text:null!==(se=null===Ue||void 0===Ue?void 0:Ue.addContentButton)&&void 0!==se?se:""},isFullScreen:!1})}):null]})]}),Fe?(0,w.jsx)(r.A.Footer,{className:"".concat(Fe?"d-md-none":""),children:(0,w.jsxs)("div",{className:"d-flex align-items-center justify-content-end w-100",children:[null!==ke&&void 0!==ke&&ke.is_wall_change||null!==ke&&void 0!==ke&&ke.is_themes_change||null!==ke&&void 0!==ke&&ke.is_backgroun_change||null!==ke&&void 0!==ke&&ke.is_banner_IMG_change||null!==ke&&void 0!==ke&&ke.is_banner_change||null!==ke&&void 0!==ke&&ke.is_card_style_change||null!==ke&&void 0!==ke&&ke.is_theme_setting_change||null!==ke&&void 0!==ke&&ke.is_custome_css_change||null!==ke&&void 0!==ke&&ke.is_magic_upload_change||null!==ke&&void 0!==ke&&ke.is_cta_setting_change||null!==ke&&void 0!==ke&&ke.is_utm_tracker_change||null!==ke&&void 0!==ke&&ke.isHeaderUpdate||null!==ke&&void 0!==ke&&ke.is_card_cta_change||null!==ke&&void 0!==ke&&ke.is_hash_changed?(0,w.jsx)(a.A,{id:"saveSetting",variant:"secondary",className:"".concat(this.state.spinner?"spinner":""," btn btn-outline-primary"),onClick:this.handleSaveClick,onMouseDown:this.handleMouseDown,children:null===He||void 0===He?void 0:He.save}):null,(0,w.jsxs)(a.A,{variant:"primary",className:"mx-4 my-2",onClick:this.handleGenClick,onMouseDown:this.handleGenMouseDown,children:[(0,w.jsx)(u.gc,{icon:"bolt",iconClass:"me-1"}),null===He||void 0===He?void 0:He.btn_generate]})]})}):null]}):null]})]})}):null!==Ie&&void 0!==Ie&&Ie.websiteLoading?(0,w.jsx)(at,{}):(0,w.jsx)(_t,{toggle:this.props.toggle,TOGGLE_ADD_WEBSITE:this.props.TOGGLE_ADD_WEBSITE}),(0,w.jsx)(pt,{show:Ae,onClose:()=>this.setState(e=>(0,i.A)((0,i.A)({},e),{},{showUpdate:!1}))})]})})]})}}const jt=(0,v.Ng)(e=>{var l,t,i,s;return{authorized:e.authorized,allWalls:null===(l=e.dashboardData)||void 0===l||null===(t=l.dashboarddata)||void 0===t?void 0:t.allWalls,bannerDetail:e.appsMore,fonts:e.appsMore.fonts,themeData:e.themeData,ctaData:e.ctaData.data,allFont:null===(i=e.allFont)||void 0===i?void 0:i.allFonts,websiteData:e.websiteList,appData:e.appData,toggle:e.websiteList.addWebsiteNow,allTags:null===(s=e.allTags)||void 0===s?void 0:s.selectedTags,extraPlanData:e.planPriceDetail.extraPlanData}},e=>({GET_WALL_DETAILS:()=>e(e=>{(new M.A).post("".concat(k.yGj),{ownerId:localStorage.getItem("ownerId"),wallId:localStorage.getItem("wallId")?localStorage.getItem("wallId"):""}).then(e=>{const{wall:l}=e.data}).catch(e=>{console.log("ERROR",e)})}),GET_THEME_LIST:()=>e(e=>{(new M.A).get(k.fXN).then(l=>{const{responseData:t}=l.data;e({type:H.Q0S,payload:t})}).catch(e=>{console.log("ERROR",e)})}),getFontVariants:()=>e((0,se.Wc)()),GET_CTA_ACTION:l=>e((0,T.lU)(l)),GET_APP_DATA:(l,t)=>e((0,He.pB)(l,t)),CHANGE_WEBSITE_WALL:(l,t,i)=>e((0,He.Ux)(l,t,i)),SAVE_AND_PUBLISH:l=>e({type:H.A_O,payload:l}),SET_ALL_UPDATED:()=>e({type:H.thS,payload:!1}),getUserInfo_afterChanges:()=>e((0,Nl.AW)()),TOGGLE_ADD_WEBSITE:()=>e({type:H.VtD,payload:!0}),GET_ALL_WEBSITE_LIST:()=>e((0,He.M_)()),SNAPUP_DETAILS_ACTION:()=>e((0,kl.QR)()),ACTIVE_WEBSITE_ID:()=>e({type:H.Cwf,payload:localStorage.getItem("website_id")}),WALL_CHANGED:()=>e({type:H.nC8,payload:!0}),storeCallback:l=>e({type:H.oDM,payload:l})}))((0,Ml.A)(yt))},61075:(e,l,t)=>{t.d(l,{A:()=>T});var i=t(9950),s=t(63195),o=t(86781),a=t(17595),n=t(68459),d=t(97937),r=t(73878),c=t(3302),u=t.n(c),v=t(75794),h=(t(34461),t(57182),t(93766),t(55856),t(44747),t(35131)),p=t(21784),m=t(67972),g=t(76955),x=t(51960),_=t(85608),b=t(54810),y=t(52867),j=t(44414);class f extends i.Component{constructor(e){super(e),this.state={backgroundModal:!1,ext:"",fileName:""},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},()=>{u()(".uppy-Dashboard-close").click(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})})})},this.uppy=new v.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e7,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:this.props.allowFiles}}).use(h.Ay,{target:"#a",params:{auth:{key:_.bG},steps:{store:{robot:_._8,bucket_region:_.YL,bucket:_.I2,key:_.jZ,secret:_.mD,path:this.props.isLocation?"request-feature/${file.id}.${file.ext}":_.yQ+"${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(p.A,{target:v.A.Dashboard,companionUrl:_.ac}).use(m.A,{target:v.A.Dashboard,companionUrl:_.ac})}componentDidMount(){var e=this;this.uppy.on("transloadit:result",(l,t)=>{this.setState({ext:t.ext,fileName:t.basename}),e.props.onClickToupload(this.props.isLocation?"".concat(_.GG,"request-feature/").concat(t.id,".").concat(t.ext):"".concat(_.$r).concat(t.id,".").concat(t.ext),()=>{setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},300)})})}render(){var e,l,t,i,s,o;const{imageStyle:a,uploadedMedia:n,id:r,text:c}=this.props,{backgroundModal:u,ext:v,fileName:h}=this.state,p=e=>{switch(e){case"docx":return"file-doc";case"pdf":return"file-pdf";case"mp4":case"mov":return"file-video";default:return!1}};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:n?(0,j.jsxs)("div",{className:"f-between w-100 bg-gray-100 rounded-2 p-4 align-items-center",children:[(0,j.jsxs)("div",{className:"d-flex flex-grow-1 align-items-center",style:{width:"calc(100% - 30px)"},children:[p(v)?(0,j.jsx)("div",{className:"f-center flex-shrink-0 me-3",style:{fontSize:"3rem"},children:(0,j.jsx)(b.gc,{type:"solid",icon:p(v),iconClass:"text-gray-700"})}):(0,j.jsx)(x.A,{id:"bg_image",className:"object-fit-cover rounded-2 me-3",src:n,height:60,width:60,alt:"",style:{maxHeight:60}}),v?(0,j.jsxs)("p",{className:"text-ellipsis fs-8 mb-0",children:[h,".",v]}):null]}),(0,j.jsx)(d.A,{variant:"icon",size:"sm",className:"rounded-circle bg-danger border-danger text-white h-20px w-20px",onClick:()=>this.props.onClickToupload("",()=>{}),children:(0,j.jsx)(b.gc,{icon:"xmark"})})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(d.A,{id:r,variant:"light",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,j.jsx)(b.gc,{icon:"arrow-up-from-bracket"}),c||"Upload"]}),(0,j.jsxs)("p",{className:"text-gray-500 mt-1 fw-medium fs-9",children:[(0,j.jsx)(b.gc,{type:"solid",icon:"info-circle",iconClass:"me-1"}),(0,y.dz)(null!==(e=null===(l=window)||void 0===l||null===(t=l.APP_CONTENT)||void 0===t||null===(i=t.common)||void 0===i?void 0:i.allowed_file_types)&&void 0!==e?e:"",{types:null!==(s=null===(o=this.props.allowFiles)||void 0===o?void 0:o.join(", "))&&void 0!==s?s:""})]})]})}),u?(0,j.jsx)(g.KG,{animateOpenClose:!0,open:u,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}var N=t(66345),w=t(14313);class C extends i.Component{constructor(e){var l,t,i,s,o,a,n,d,r;super(e),this.content=null!==(l=null===(t=window)||void 0===t||null===(i=t.APP_CONTENT)||void 0===i?void 0:i.common)&&void 0!==l?l:{},this.submitForm=()=>{const{name:e,email:l,description:t,uploadedMedia:i}=this.state;let s=!(!e||(0,y.QT)(e)||0==String(e).trim()),o=!(!l||!(0,y.DT)(l)),a=!!(t&&t.length<=500);if(s&&o&&a){this.setState({isLoading:!0});const s={name:e,email:l,description:"<b>".concat(this.props.title,"</b>-").concat(t),file:i};(new w.A).post(N.xpU,s).then(e=>{var l,t,i,s;200==e.data.responseCode?((0,y.k1)(null!==(l=null===(t=e.data)||void 0===t?void 0:t.responseMessage)&&void 0!==l?l:""),setTimeout(()=>{var e,l,t,i,s,o;this.setState({isLoading:!1,name:null===(e=this.props.authorized)||void 0===e||null===(l=e.userData)||void 0===l||null===(t=l.user_data)||void 0===t?void 0:t.user.name,email:null===(i=this.props.authorized)||void 0===i||null===(s=i.userData)||void 0===s||null===(o=s.user_data)||void 0===o?void 0:o.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1}),this.props.onCloseModel(!1)},1e3)):(this.setState({isLoading:!1}),(0,y.r$)(null!==(i=null===(s=e.data)||void 0===s?void 0:s.responseMessage)&&void 0!==i?i:""))}).catch(e=>{var l,t,i,s,o;this.setState({isLoading:!1}),(0,y.r$)(null!==(l=null!==(t=null===e||void 0===e||null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.responseMessage)&&void 0!==t?t:null===(o=this.content)||void 0===o?void 0:o.some_error_occured)&&void 0!==l?l:"")})}else this.setState({isLoading:!1,nameErr:!s,emailErr:!o,descriptionErr:!a})},this.onClickToupload=(e,l)=>this.setState({uploadedMedia:e},()=>l()),this.onCloseModelFun=()=>{var e,l,t,i,s,o;this.setState({name:null===(e=this.props.authorized)||void 0===e||null===(l=e.userData)||void 0===l||null===(t=l.user_data)||void 0===t?void 0:t.user.name,email:null===(i=this.props.authorized)||void 0===i||null===(s=i.userData)||void 0===s||null===(o=s.user_data)||void 0===o?void 0:o.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1}),this.props.onCloseModel(!1)},this.state={name:null===(s=this.props.authorized)||void 0===s||null===(o=s.userData)||void 0===o||null===(a=o.user_data)||void 0===a?void 0:a.user.name,email:null===(n=this.props.authorized)||void 0===n||null===(d=n.userData)||void 0===d||null===(r=d.user_data)||void 0===r?void 0:r.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1,isLoading:!1}}render(){var e,l,t,i,r,c,u,v,h,p,m,g,x;const{show:_,title:b}=this.props,{name:y,email:N,description:w,nameErr:C,emailErr:A,descriptionErr:S,isLoading:T,uploadedMedia:k}=this.state,{content:I}=this;return(0,j.jsxs)(s.A,{id:"reqFeature",size:"lg",show:_,"aria-labelledby":"reqFeature",tabIndex:"0",centered:!0,backdrop:"static",onHide:this.onCloseModelFun,children:[(0,j.jsx)(s.A.Header,{closeButton:!0,children:(0,j.jsx)(s.A.Title,{children:null!==(e=null!==b&&void 0!==b?b:null===I||void 0===I?void 0:I.request_feature)&&void 0!==e?e:""})}),(0,j.jsxs)(s.A.Body,{className:"p-lg-7 p-3 demo_schedule position-relative",children:[(0,j.jsxs)(o.A,{className:"mb-3",children:[(0,j.jsxs)(a.A.Group,{as:n.A,md:"6",children:[(0,j.jsxs)(a.A.Label,{children:[null!==(l=null===I||void 0===I?void 0:I.full_name)&&void 0!==l?l:""," ",(0,j.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,j.jsx)(a.A.Control,{id:"r_f_name",required:!0,type:"text",placeholder:null!==(t=null===I||void 0===I?void 0:I.full_name)&&void 0!==t?t:"",className:C?"is-invalid":"",value:y,onChange:e=>this.setState({name:e.target.value,nameErr:!1})}),C&&(0,j.jsx)("div",{className:"invalid-feedback",children:null!==(i=null===I||void 0===I?void 0:I.fill_full_name)&&void 0!==i?i:""})]}),(0,j.jsxs)(a.A.Group,{as:n.A,md:"6",children:[(0,j.jsxs)(a.A.Label,{children:[null!==(r=null===I||void 0===I?void 0:I.email)&&void 0!==r?r:""," ",(0,j.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,j.jsx)(a.A.Control,{id:"r_f_email",required:!0,type:"email",placeholder:"example@example.com",className:A?"is-invalid":"",value:N,onChange:e=>this.setState({email:e.target.value,emailErr:!1})}),A&&(0,j.jsx)("div",{className:"invalid-feedback",children:""!=N?null!==(c=null===I||void 0===I?void 0:I.valid_email)&&void 0!==c?c:"":null!==(u=null===I||void 0===I?void 0:I.enter_email)&&void 0!==u?u:""})]})]}),(0,j.jsxs)(a.A.Group,{as:n.A,className:"mb-3",children:[(0,j.jsxs)(a.A.Label,{children:[null!==(v=null===I||void 0===I?void 0:I.description)&&void 0!==v?v:""," ",(0,j.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,j.jsx)(a.A.Control,{as:"textarea",id:"r_f_desc",placeholder:null!==(h=null===I||void 0===I?void 0:I.enter_desc)&&void 0!==h?h:"",className:"".concat(S?"is-invalid":""," textarea-min-row-6"),maxLength:500,onChange:e=>this.setState({description:e.target.value,descriptionErr:!1}),value:w}),(0,j.jsxs)("div",{className:"f-between",children:[(0,j.jsx)("div",{className:"invalid-feedback d-block",children:S&&null!==(p=null===I||void 0===I?void 0:I.field_req)&&void 0!==p?p:""}),(0,j.jsxs)("span",{className:"fs-10 text-muted pt-1",children:[null===w||void 0===w?void 0:w.length,"/500"]})]})]}),(0,j.jsx)(a.A.Group,{as:n.A,className:"mb-3",children:(0,j.jsx)(f,{id:"sugg_doc",imageStyle:{paddingBottom:"66%"},uploadedMedia:k,onClickToupload:this.onClickToupload,text:null!==(m=null===I||void 0===I?void 0:I.upload_file)&&void 0!==m?m:"",allowFiles:["image/*",".docx",".pdf",".mp4",".mov"],isLocation:!0})})]}),(0,j.jsxs)(s.A.Footer,{children:[(0,j.jsx)(d.A,{id:"r_f_cancel",variant:"secondary",className:"ms-3 btn-min-w",onClick:this.onCloseModelFun,children:null!==(g=null===I||void 0===I?void 0:I.cancel)&&void 0!==g?g:""}),(0,j.jsx)(d.A,{id:"r_f_submit",className:"ms-3 btn-min-w ".concat(T?"spinner":""),onClick:this.submitForm,children:null!==(x=null===I||void 0===I?void 0:I.submit)&&void 0!==x?x:""})]})]})}}const A=(0,r.Ng)(e=>({authorized:e.authorized}))(C);class S extends i.Component{constructor(e){super(e),this.state={show:!1}}render(){const{title:e}=this.props,{show:l}=this.state;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{onClick:()=>this.setState({show:!l}),children:this.props.children}),(0,j.jsx)(A,{show:l,onCloseModel:()=>this.setState({show:!1}),title:e})]})}}const T=S},66261:(e,l,t)=>{t.d(l,{A:()=>n});var i=t(9950),s=t(17595),o=t(44414);class a extends i.Component{render(){const{id:e,min:l,max:t,step:i,value:a,inheritStyle:n}=this.props;return(0,o.jsxs)("div",{className:"d-flex flex-column",children:[(0,o.jsx)(s.A.Range,{id:e,min:l,max:t,step:i,value:a,name:"range",onChange:e=>this.props.onChange(e.target.value),disabled:n}),(0,o.jsxs)("p",{className:"d-flex justify-content-between mb-0 fs-9 text-muted fw-medium",children:[(0,o.jsx)("span",{"data-min":e,children:l}),(0,o.jsx)("span",{"data-value":e,children:a})]})]})}}const n=a},68849:(e,l,t)=>{t.d(l,{A:()=>o});var i=t(9950),s=t(44414);const o=e=>{let{id:l,defaultColor:t,changeColor:o,inheritStyle:a}=e;(0,i.useEffect)(()=>{n()},[t]);const n=()=>{const e=window.$("#".concat(l));e.data("minicolors-initialized")?e.minicolors("value",t):e.minicolors({control:"hue",letterCase:"lowercase",position:"bottom left",change:d,theme:"bootstrap",value:t})},d=(e,l)=>{e&&o(e)};return(0,s.jsx)("input",{className:"form-control minicolors-input","data-control":"hue",type:"text",id:l,defaultValue:t,disabled:a})}}}]);