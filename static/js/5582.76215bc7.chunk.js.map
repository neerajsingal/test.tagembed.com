{"version":3,"file":"static/js/5582.76215bc7.chunk.js","mappings":"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","sources":["app/Layout/Main/PricePlan/SignUpPricePlan.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { PLAN__DETAILS, UPDATE_PLAN__DETAILS } from '../../../../actions/planDetail';\nimport { TOAST_DISMISS, TOAST_LOADING, getCookieValue } from '../../../../utils';\nimport withRouter from '../../../routes/WithRouter';\nimport Cookies from 'universal-cookie';\nimport { connect } from 'react-redux';\nimport PlanView from './Elements/PlanView';\nimport { emitEvent, onEvent } from '../../../../actions/socketClient';\nimport { HOST_URL } from '../../../../actions/api';\nimport { createWall } from '../../../../actions/initActions';\nimport { SHOPIFY_PRODUCT_SYNC } from '../../../../actions/productAction';\nimport { getUserInfo } from '../../../../actions/loginActions';\n\nclass SignUpPricePlan extends Component {\n  state = { init: false, showFrePlan: false, shopifyLogin: localStorage.getItem('shopifyLogin'), loading: false, changePrice: true, showContactUs: false }\n\n  componentDidMount() {\n    this.props.PLAN__DETAILS(true);\n    this.setState({ shopifyLogin: localStorage.getItem('shopifyLogin') })\n    setTimeout(() => {\n      onEvent(`getPlanUpdated${this.props.authorized?.token?.user?.id != null ? this.props.authorized?.token?.user?.id : this.props.authorized?.userData?.user_data?.user.id ? this.props.authorized?.userData?.user_data?.user.id : localStorage.getItem('ownerId')}`, (data) => {\n        localStorage.removeItem(\"steps\")\n        this.props.history('/home')\n      });\n    }, 1500);\n    window.fpr(\"referral\", { email: localStorage.getItem('emailId') })\n  }\n\n\n\n  SignUpPlanUpdate = async (planId) => {\n\n    const { authorized } = this.props;\n    this.setState({ loading: true });\n    const toastId = TOAST_LOADING();\n    const cookies = new Cookies();\n    try {\n      const response = await UPDATE_PLAN__DETAILS(planId);\n      if (response.data.response_code !== 200) throw new Error(\"Plan update failed\");\n\n      const userId = authorized?.token?.user?.id || authorized?.userData?.user_data?.user.id || localStorage.getItem('ownerId');\n      const createFromShopify = authorized?.userData?.user_data?.sessionData?.createFrom === 'shopify';\n\n      const processResponse = () => {\n        //await createWall(shopOnBio);\n        this.setState({ loading: false, init: true });\n        localStorage.removeItem('steps');\n        cookies.remove('shoponUrl');\n        setTimeout(() => {  \n          this.props.history('/home')\n        }, 100);\n      };\n\n      if (createFromShopify) {\n        //await createWall(null);\n        localStorage.removeItem('shopifyLogin');\n        localStorage.removeItem('steps');\n        setTimeout(() => {\n          SHOPIFY_PRODUCT_SYNC(localStorage.getItem('shopId'), () => {\n             this.props.getUserInfo(this.props.history,`${HOST_URL}init/index/shopify`)\n            //window.location.href = ``;\n          });\n        }, 100);\n      } else {\n        emitEvent('planUpdated', { id: userId, plan: \"\" });\n        const shopOnBio = getCookieValue('shoponUrl');\n        await processResponse(shopOnBio);\n      }\n      TOAST_DISMISS(toastId);\n    } catch (error) {\n      this.setState({ loading: false });\n      TOAST_DISMISS(toastId);\n    }\n  };\n\n\n  render() {\n    return <PlanView {...this.props} signUpPlan={true} loading={this.state.loading} SignUpPlanUpdate={this.SignUpPlanUpdate} />\n  }\n}\n\nconst mapStateToProps = state => { \n  return {\n    authorized: state.authorized,\n    priceDetail: state.planPriceDetail?.planPrice,\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    PLAN__DETAILS: (isSignup) => dispatch(PLAN__DETAILS(isSignup)),\n    getUserInfo: (navigation,link) =>dispatch(getUserInfo(navigation,link))\n    ,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SignUpPricePlan));"],"names":["SignUpPricePlan","Component","constructor","arguments","state","init","showFrePlan","shopifyLogin","localStorage","getItem","loading","changePrice","showContactUs","SignUpPlanUpdate","async","authorized","this","props","setState","toastId","TOAST_LOADING","cookies","Cookies","_authorized$token","_authorized$token$use","_authorized$userData","_authorized$userData$","_authorized$userData2","_authorized$userData3","_authorized$userData4","UPDATE_PLAN__DETAILS","planId","data","response_code","Error","userId","token","user","id","userData","user_data","createFromShopify","sessionData","createFrom","processResponse","removeItem","remove","setTimeout","history","SHOPIFY_PRODUCT_SYNC","getUserInfo","HOST_URL","emitEvent","plan","shopOnBio","getCookieValue","TOAST_DISMISS","error","componentDidMount","PLAN__DETAILS","_this$props$authorize","_this$props$authorize2","_this$props$authorize3","_this$props$authorize4","_this$props$authorize5","_this$props$authorize6","_this$props$authorize7","_this$props$authorize8","_this$props$authorize9","_this$props$authorize10","_this$props$authorize11","_this$props$authorize12","onEvent","window","fpr","email","render","_jsx","PlanView","signUpPlan","connect","_state$planPriceDetai","priceDetail","planPriceDetail","planPrice","dispatch","isSignup","navigation","link","withRouter"],"sourceRoot":""}