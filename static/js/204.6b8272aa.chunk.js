"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[204],{19201:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(65043),o=t(61669),i=t(91036),n=t(70579);const l=e=>{let{loginAction:s}=e;const t=()=>{window.google&&Object.keys(window.google).length>0&&window.google.accounts&&(window.google.accounts.id.initialize({client_id:o.E5,callback:e=>{if(e.credential)try{const t=(e=>{const s=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(window.atob(s).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)})(e.credential);s(t)}catch(t){i.oR.error("Something went wrong.",{autoClose:3e3})}}}),window.google.accounts.id.prompt())};return(0,a.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,document.body.appendChild(e),t(),()=>{document.body.removeChild(e)}}),[]),(0,n.jsx)(n.Fragment,{})}},14632:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(35475),o=t(70579);const i=e=>{let{text:s,link:t,linkText:i}=e;return(0,o.jsxs)("div",{className:" text-center fw-normal fs-8 mt-lg-5 mt-1 f-center mb-5",children:[s,(0,o.jsx)(a.N_,{to:t,className:"btn btn-link text-decoration-none fw-bold fs-8 p-0 ms-1",title:"Auth",children:i})]})}},70204:(e,s,t)=>{t.r(s),t.d(s,{default:()=>L});var a=t(65043),o=t(97508),i=t(35475),n=t(47610),l=t(51130),r=t(22030),c=t(57267),d=t(64706),m=t(91719),g=t(37668),h=t(14282),p=t(7352),u=t(71214),w=t(90246),b=t(19201),x=t(34458),j=t(99839),v=t(14632),f=t(92908),y=t(27360),N=t(70579);const k=new d.A;class E extends a.Component{constructor(e){super(e),this.state={accountEmail:null,accountPassword:null,emailError:null,passwordError:null,loginLoader:!1,loginMailError:null,memberRemember:!0,showPassword:!1,resetAlert:0,loginPwdError:null,tagembedRedirect:!1},this.handleMessage=async e=>{try{const s=(0,r.KK)(e.data),{code:t,type:a}=s;if(console.log(s,"type"),"sign-login"==a&&t){const{data:{responseData:e}}=await(0,p.LY)(t),{userInfo:s}=e||{};(0,u.cO)(),this.socialLogin({accountFullName:null===s||void 0===s?void 0:s.name,accountEmailId:null===s||void 0===s?void 0:s.email,createFrom:"google",picture:(null===s||void 0===s?void 0:s.picture)||"",authId:null===s||void 0===s?void 0:s.sub})}}catch(s){}},this.readAuthentication=e=>{const s=JSON.parse(e.data);this.socialLogin(s)},this.emailTextChange=e=>this.setState({accountEmail:e.target.value,emailError:null,loginMailError:null}),this.passwordTextChange=e=>this.setState({accountPassword:e.target.value,passwordError:null,loginPwdError:null}),this.clickOnLogin=e=>{var s,t;const{accountEmail:a,accountPassword:o,memberRemember:i}=this.state;if(this.setState({loginLoader:!0}),localStorage.setItem("socialLogin",0),(null===(s=String(a))||void 0===s?void 0:s.trim().length)>0&&(0,r.DT)(a)&&(null===(t=String(o))||void 0===t?void 0:t.trim().length)>0){const e={emailId:a,password:o,loginType:"web"},s={email:a,password:o,status:!0};this.props.loginUser(e,i,s,this.props.history,this.callBackError)}else a&&0!=String(a).trim().length&&(0,r.DT)(a)||this.setState({emailError:!0}),o&&0!=String(o).trim().length||this.setState({passwordError:!0}),this.setState({loginLoader:!1})},this.responseCallback=e=>{const s=e&&String(e).length>0;this.setState({tagembedRedirect:!!s&&"showRedirectionPop"==e,loginLoader:!1})},this.getGoogleUserDetails=e=>{(0,x.JW)(e).then((e=>this.onGSocialLogin("google",e.data)))},this.onGSocialLogin=(e,s)=>{const t=(0,r.UM)("tracking_URL"),a=(0,r.UM)("landing_URL");if(s&&Object.keys(s).length>0){var o=s.picture?s.picture:"";this.props.userSignUp({fullName:s.name,emailId:s.email,password:"",trackingPage:t,landingPage:a,activeProduct:"0",createFrom:e,picture:o,oauth_uid:s.sub,utm_source:e},this.props.history,this.responseCallback)}},this.socialLogin=e=>{var{accountFullName:s,accountEmailId:t,createFrom:a,picture:o,authId:i}=e;localStorage.setItem("socialLogin",1);const n=(0,r.UM)("tracking_URL"),l=(0,r.UM)("landing_URL");this.props.userSignUp({fullName:s,emailId:t,password:"",trackingPage:n,landingPage:l,activeProduct:"0",createFrom:a,picture:o,oauth_uid:i,utm_source:"facebook"==a?"facebook_ads":a},this.props.history,this.responseCallback)},this.callBackError=e=>this.setState({loginMailError:String(e).toLowerCase().includes("email")?e:"",loginLoader:!1,emailError:!!String(e).toLowerCase().includes("email"),passwordError:!!String(e).toLowerCase().includes("password"),loginPwdError:String(e).toLowerCase().includes("password")?e:""},(()=>{String(e).includes("email")||String(e).toLowerCase().includes("email")||String(e).toLowerCase().includes("password")||(0,r.r$)(e)}))}componentDidMount(){window.addEventListener("message",this.handleMessage);try{document.documentElement.setAttribute("data-product",f.ffP)}catch(o){}const e=w.A.parse(window.location.search),{email:s,password:t,status:a}=k.get("__RememberDetails")||{};this.setState({accountEmail:s||"",accountPassword:t||"",memberRemember:a||!1}),e&&Object.keys(e.length>0)&&this.setState({resetAlert:e.reset})}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}render(){const{accountEmail:e,accountPassword:s,emailError:t,passwordError:a,loginLoader:o,loginPwdError:n,memberRemember:r,showPassword:d,resetAlert:p,loginMailError:u,tagembedRedirect:w}=this.state;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"w-100 mb-lg-0 mb-3",children:[(0,N.jsx)(b.A,{loginAction:e=>this.onGSocialLogin("google",e)},window.location.href),p?(0,N.jsx)(m.A,{variant:1==p?"success":"danger",className:"fs-7 rounded-2",dismissible:!0,children:1==p?"You have successfully updated your password. You can login now with your new password.":"Link expired, please try again."}):null,(0,N.jsxs)("div",{className:"text-start",children:[(0,N.jsx)("h1",{className:" mb-0 display-2 fw-bold mb-5",children:"Welcome back"}),(0,N.jsx)(l.A,{socialLogin:this.socialLogin,text:"Log in with Google"})]}),(0,N.jsxs)("form",{autoComplete:"on",onKeyPress:e=>"Enter"==e.key?this.clickOnLogin():"",children:[(0,N.jsxs)("div",{className:"mb-8",children:[(0,N.jsxs)(g.A.Group,{className:"mb-4 mb-xl-5",children:[(0,N.jsx)(g.A.Label,{className:"fw-bold ",htmlFor:"email_",children:"Email"}),(0,N.jsx)(g.A.Control,{type:"email",size:"lg",placeholder:"you@yourcompany.com",className:(t?"is-invalid":"")+" mb-1",value:e||"",onChange:this.emailTextChange,title:"Please enter email."}),t?(0,N.jsx)("span",{className:"invalid-feedback",children:u||(null!==e&&void 0!==e&&e.length?"Enter valid email.":"Email is required.")}):null]}),(0,N.jsxs)(g.A.Group,{className:"mb-4 mb-xl-5",children:[(0,N.jsx)(g.A.Label,{className:"fw-bold ",htmlFor:"password_",children:"Password"}),(0,N.jsxs)("span",{className:"position-relative d-block "+(a?"is-invalid":""),children:[(0,N.jsx)(g.A.Control,{type:""+(d?"text":"password"),placeholder:"Password",size:"lg",className:(a?"is-invalid":"")+" mb-1",onChange:this.passwordTextChange,value:s||"",title:"Please enter password."}),(0,N.jsx)("span",{className:"view_pass fs-7 btn btn-icon bg-transparent border-0 text-gray-500 position-absolute translate-middle top-50",onClick:e=>this.setState({showPassword:!d}),children:(0,N.jsx)(c.gc,{icon:d?"eye":"eye-slash"})})]}),a?(0,N.jsx)("div",{className:"invalid-feedback",children:n||"Password is required."}):null]}),(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center fw-semibold mb-4 mb-xl-5 pt-1",children:[(0,N.jsxs)("label",{className:"form-check align-items-center mb-0",children:[(0,N.jsx)("input",{className:"form-check-input",name:"remember",type:"checkbox",checked:r,onChange:e=>this.setState({memberRemember:e.target.checked})}),(0,N.jsx)("span",{className:"form-check-label fw-semibold",children:"Remember Me"})]}),(0,N.jsx)(i.N_,{className:"pull-right forgot_password",to:"/accounts/forgotpassword",title:"Forgot Password",children:"Forgot Password?"})]})]}),(0,N.jsx)("div",{className:"d-grid mb-3",children:(0,N.jsxs)(h.A,{variant:"primary",size:"lg",className:""+(o?" disabled":""),onClick:o?null:this.clickOnLogin,children:[(0,N.jsx)("span",{className:"indicator-label",style:{display:o?"none":"block"},children:"Log in with Email"}),(0,N.jsxs)("span",{className:"indicator-progress",style:{display:o?"block":"none"},children:[" Please wait...",(0,N.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]}),(0,N.jsx)(v.A,{text:"Not a member yet?",link:"/accounts/register",linkText:"Sign up"})]}),(0,N.jsx)(j.A,{}),(0,N.jsx)(y.A,{show:w,onHide:()=>this.setState({tagembedRedirect:!1})})]})}}const L=(0,o.Ng)((e=>({})),(e=>({userSignUp:(s,t,a)=>e((0,n.Ei)(s,t,a)),loginUser:(s,t,a,o,i)=>e((0,n.Lx)(s,t,a,o,i))})))(E)},51130:(e,s,t)=>{t.d(s,{A:()=>r});t(65043);var a=t(14282),o=t(33637),i=t(57267),n=t(34458),l=t(70579);const r=e=>{let{text:s}=e;return(0,l.jsxs)("div",{className:"login_socials text-center",children:[(0,l.jsxs)(a.A,{variant:"light",size:"lg",id:"googleplusSignIn",onClick:()=>{localStorage.setItem("connectionType","sign-login"),(0,n.jf)()},style:{minWidth:120},className:"w-100 border-0 fw-bold ",children:[(0,l.jsx)(o.A,{className:"me-2 h-20px w-20px",src:(0,i.pc)("media/icons/social-icons/google.svg"),width:"20",height:"20",alt:"Google"}),s||"Log in with Google"]}),(0,l.jsx)("div",{className:"d-flex align-items-center flex-column justify-content-between py-4 w-100",children:(0,l.jsx)("div",{className:"separator separator-content my-2 my-md-3 w-100",children:(0,l.jsx)("span",{className:"text-muted fw-semibold fs-6 f-center text-nowrap",style:{width:50},children:"Or"})})})]})}},27360:(e,s,t)=>{t.d(s,{A:()=>l});t(65043);var a=t(83776),o=t(33637),i=t(92908),n=t(70579);const l=e=>{let{show:s,onHide:t}=e;return(0,n.jsx)(a.A,{size:"sm",show:s,className:"px-3",onHide:t,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",keyboard:!1,centered:!0,children:(0,n.jsx)(a.A.Body,{className:"p-0",children:(0,n.jsx)("div",{className:"popup-wrap",children:(0,n.jsxs)("div",{className:"popup-inn",children:[(0,n.jsx)("div",{className:"popup-head",children:(0,n.jsx)(o.A,{className:"py-2",src:`${i.kuD}app/assets/popup/box-embed.png`,alt:"tag"})}),(0,n.jsx)("p",{children:i.PWx?"You are an existing member at Tagbox. As Tagembed is part of Tagbox group of companies, enter the same credentials used for Tagbox to log in.":"You are an existing member at Tagembed (Tagbox's partner platform). To log in, simply log in with Tagembed credentials or try another email address."}),(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-between p-5",children:[(0,n.jsx)("span",{className:"popup-try",onClick:t,children:"Try Another Email"}),(0,n.jsx)("button",{className:"btn btn-primary",onClick:()=>window.open(`https://${i.Kmu}.${i.PWx?"taggbox":"tagembed"}.com/accounts/login`,"_self"),children:"Go To Login Page"})]})]})})})})}}}]);
//# sourceMappingURL=204.6b8272aa.chunk.js.map