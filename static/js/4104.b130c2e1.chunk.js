"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[4104],{44104:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var s=a(9950),i=a(45358),o=a(86781),n=a(68459),l=a(351),d=a(51960),r=a(584),c=a(75623),u=a(17595),p=a(19360),h=a(97937),m=a(54810),v=a(52867),g=a(74283),x=a(89379),b=a(3302),y=a.n(b),w=a(75794),f=(a(34461),a(57182),a(93766),a(55856),a(44747),a(35131)),j=a(21784),k=a(67972),_=a(76955),N=a(5830),C=a(95942),A=a(66345),S=a(85608),I=a(96011),T=a.n(I),B=a(97696),F=a(82094),M=a(44414);class D extends s.Component{constructor(e){super(e),this.state={backgroundModal:!1,type:null,height:"",width:"",thumbnail:""},this.onBeforeUpload=e=>{const t=Object.keys(e),{updateData:a}=this.props;if(e[t[0]].meta.type.includes("image"))this.remove_StatusBar();else if(t&&t.length>0&&e[t[0]]&&e[t[0]].meta&&e[t[0]].meta.type.includes("video")){try{let s=document.querySelector(".uppy-Dashboard-progressindicators"),i='<div class="uppy-StatusBar is-postprocessing"><div class="uppy-StatusBar-progress is-indeterminate" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100" style="width: 100%;"></div><div class="uppy-StatusBar-content"><svg class="uppy-StatusBar-spinner" aria-hidden="true" focusable="false" width="14" height="14"><path d="M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0" fill-rule="evenodd"></path></svg>Encoding...</div><div class="uppy-StatusBar-actions"><button type="button" class="uppy-u-reset uppy-StatusBar-actionCircleBtn" title="Cancel" aria-label="Cancel" data-uppy-super-focusable="true"><svg aria-hidden="true" focusable="false" class="uppy-c-icon" width="16" height="16" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd"><circle fill="#888" cx="8" cy="8" r="8"></circle><path fill="#FFF" d="M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"></path></g></svg></button></div></div><div class="uppy uppy-Informer" aria-hidden="true"><p role="alert"> </p></div>';s.innerHTML=i,y()(".uppy-DashboardContent-back,.is-waiting,.uppy-Informer,.uppy-StatusBar-actions,.uppy-Dashboard-Item-action--remove").remove();const o=e[t[0]],n=new FormData;n.append("file",o.data),T().post(A.Pts,n).then(e=>{const{responseData:t}=e.data;t&&t.length>0&&(setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1,type:"video",height:t[0].height,width:t[0].width})},300),a&&a((0,x.A)((0,x.A)({},t[0]),{},{type:"video"})))}).catch(e=>{this.uppy.cancelAll()})}catch(s){this.uppy.cancelAll()}return!1}},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},()=>{y()(".uppy-Dashboard-close").click(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})})})},this.updateProgressindicators=()=>{y()(".uppy-Dashboard-progressindicators").remove()},this.remove_StatusBar=()=>{y()(".uppy-StatusBar").remove()},this.onRemove=()=>{this.uppy.cancelAll(),this.setState({type:"",thumbnail:""}),this.props.onClickTouploadImage("",()=>{})},this.uppy=new w.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:1e8,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:["image/*","video/*"]},onBeforeUpload:this.onBeforeUpload}).use(f.Ay,{target:"#a",params:{auth:{key:S.bG},steps:{store:{robot:S._8,bucket_region:S.YL,bucket:S.I2,key:S.jZ,secret:S.mD,path:S.yQ+"${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(j.A,{target:w.A.Dashboard,companionUrl:S.ac}).use(k.A,{target:w.A.Dashboard,companionUrl:S.ac})}componentDidMount(){var e=this;const{updateData:t}=e.props;this.uppy.on("transloadit:result",(a,s)=>{e.props.onClickTouploadImage("".concat(S.$r).concat(s.id,".").concat(s.ext),()=>{e.props.UpdateType(s.type),setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1,type:s.type})},300)}),t&&t(s)}),this.uppy.on("file-added",e=>{const t=e.type.startsWith("image/"),a=e.type.startsWith("video/");t&&e.size>5e7?(this.uppy.removeFile(e.id),this.uppy.info({message:"File limit exceed!",details:"File size shouldn't be more than 50 MB"},"error",5e3)):a&&e.size>1e8&&(this.uppy.removeFile(e.id),this.uppy.info({message:"File limit exceed!",details:"File size shouldn't be more than 100 MB"},"error",5e3))})}render(){var e,t,a,s,i,o,n;const{imageStyle:l,backgroundImage:d,id:r,removeDelete:c,isEditPost:u,icon:p,thumbnail:v,isEdit:g,isTaggModal:x,isCover:b}=this.props,{backgroundModal:y,type:w,height:f,width:j}=this.state,k=null!==(e=null===(t=window)||void 0===t||null===(a=t.APP_CONTENT)||void 0===a?void 0:a.manual_upload)&&void 0!==e?e:{};return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)("div",{className:"position-relative h-100 uploader_ mb-2",children:[d?(0,M.jsxs)("div",{className:"w-100 bg-gray-100",children:["video"==w?(0,M.jsx)(B.A,{mediaClass:"content_video w-100",size:130,url:d,poster:v,height:f,width:j,autoPlay:!0,muted:!0,isCover:b,controls:!1,loop:!0}):(0,M.jsx)(F.A,{mediaClass:"position-relative overflow-hidden w-100",size:130,height:f,width:j,url:d,isCover:b,alt:""}),x||u?"":(0,M.jsxs)("div",{className:"f-center position-absolute bottom-0 start-0 w-100 p-2 upload_action_",children:[g?null:(0,M.jsx)(N.A,{placement:"top",overlay:(0,M.jsx)(C.A,{id:"button-tooltip-2",children:null!==(s=null===k||void 0===k?void 0:k.edit)&&void 0!==s?s:""}),children:(0,M.jsx)(h.A,{id:"product_edit",variant:"icon",className:"btn-active-primary mx-1 bg-white",onClick:()=>this.setState({backgroundModal:!0}),children:(0,M.jsx)("span",{className:"svg-icon svg-icon-sm me-0",children:(0,M.jsx)(m.gc,{type:"solid",icon:"pen"})})})}),c?"":(0,M.jsx)(N.A,{placement:"top",overlay:(0,M.jsx)(C.A,{id:"button-tooltip-2",children:null!==(i=null===k||void 0===k?void 0:k.remove)&&void 0!==i?i:""}),children:(0,M.jsx)(h.A,{id:"product_remove",variant:"icon",className:"btn-active-primary mx-1 rounded-circle bg-white",onClick:()=>this.onRemove(),children:(0,M.jsx)(m.gc,{icon:"xmark"})})})]})]}):(0,M.jsxs)("div",{className:"f-center flex-column cursor-pointer border border-dashed border-2 p-3 rounded-3 h-100 text-center",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,M.jsx)("span",{className:"text-gray-300 mb-5",style:{fontSize:120,lineHeight:1},children:p?(0,M.jsx)("i",{className:"fa-duotone fa-solid fa-image"}):(0,M.jsx)("i",{className:"fa-duotone fa-solid fa-bag-shopping-plus"})}),(0,M.jsx)("strong",{className:"text-center text-muted mb-2",children:null!==(o=null===k||void 0===k?void 0:k.drag_and_drop)&&void 0!==o?o:""}),(0,M.jsx)("span",{className:"text-muted fs-9",children:null!==(n=null===k||void 0===k?void 0:k.media_size)&&void 0!==n?n:""})]}),y?(0,M.jsx)(_.KG,{animateOpenClose:!0,open:y,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})})}}var P=a(29038),z=a(10274),E=a(73878),U=a(1391),O=a(59074),L=a(28981),R=a(68047),$=a(30615);class H extends s.Component{constructor(){var e,t;super(...arguments),this.state={postImage:"",mediaType:"",height:0,width:0,thumbnail:"",spinner:!1,content:"",contentError:!1,authorImage:"",author:"",networkId:""},this.appContent=null!==(e=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==e?e:{},this.onChangePostImg=e=>{this.setState({postImage:e})},this.navigateModeration=()=>{const{updateUserInfo:e,navigate:t}=this.props;(0,L.zU)({stepstype:"onboardingskip"}).then(a=>{e(()=>{t("/content/moderation/".concat(localStorage.getItem("wallId")))})})},this.updateData=e=>{"video"==e.type?this.setState({mediaType:e.type,height:e.height,width:e.width,postImage:e.s3Url,thumbnail:e.s3ThumbUrl}):this.setState({mediaType:e.type,height:e.meta.height,width:e.meta.width})},this.uploadPost=e=>{const{userData:t,navigate:a,onBoarding:s,onNext:i}=this.props,{content:o}=this.state,{author:n,networkId:l,authorImage:d}=e;let r=1;this.setState({spinner:!0}),"content"==e.mediaType||1==e.mediaType?r=1:"image"!=e.mediaType&&4!=e.mediaType||!o?"image"!=e.mediaType&&2!=e.mediaType||o?"video"!=e.mediaType&&3!=e.mediaType||o?"video"!=e.mediaType&&5!=e.mediaType||!o||(r=5):r=3:r=2:r=4;const c={postFile:"video"==e.mediaType?e.thumbnail:e.postImage,mediaFile:"video"==e.mediaType?e.postImage:"",content:String(o).trim(),mediaHeight:e.height?e.height:0,mediaWidth:e.width?e.width:0,type:r,wallId:localStorage.getItem("wallId"),author:n,networkId:l,authorImage:d};String(o).trim().length>0&&String(o).trim().length<=500?(0,P.g7)(c).then(e=>{var t,a,o,n,l,d;if(200==e.data.responseCode)"success"==e.data.responseStatus?(s||(this.props.getModeration(),this.props.LoadHome()),(0,v.k1)(null!==(t=null===(a=this.appContent)||void 0===a||null===(o=a.manual_upload)||void 0===o?void 0:o.post_created)&&void 0!==t?t:""),s&&window.self==window.top?i():this.navigateModeration()):(0,v.r$)(null!==(n=null===(l=this.appContent)||void 0===l||null===(d=l.common)||void 0===d?void 0:d.some_error_occured)&&void 0!==n?n:"");else if(409==e.data.responseCode){var r,c,u;(0,v.r$)(null!==(r=null===(c=this.appContent)||void 0===c||null===(u=c.manual_upload)||void 0===u?void 0:u.post_exist)&&void 0!==r?r:"")}this.setState({spinner:!1})}).catch(e=>{(0,v.r$)(e.message),this.setState({spinner:!1})}):this.setState({spinner:!1,contentError:!0})},this.changeContent=e=>this.setState({content:e.target.value.substring(0,500),contentError:!1})}componentDidMount(){const{networkList:e,getNetworks:t}=this.props;e||t()}componentDidUpdate(e){const{editData:t}=this.props;e.editData!=t&&this.setState({postImage:t.postFile,height:t.mediaHeight,width:t.mediaWidth,mediaType:t.type})}render(){var e,t,a,s,i,d,r,c,p,g,x,b,y,w,f,j,k,_,N,C,A,S,I,T,B,F,P,z,E,U;const{navigate:O,onBoarding:L,setNetwork:H,networkList:G}=this.props,{postImage:q,thumbnail:W,contentError:V,content:K,spinner:Q,authorImage:Y,author:Z,networkId:J}=this.state,X=(null!==G&&void 0!==G?G:[]).filter(e=>{let{id:t}=e;return![0,45,46].includes(t)}).map(e=>{let{id:t,name:a}=e;return{label:a,value:t}});return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(l.A.Body,{className:"".concat(L?"p-0":""),style:{minHeight:400},children:(0,M.jsxs)(o.A,{children:[(0,M.jsx)(n.A,{md:6,lg:5,style:{minHeight:400},children:(0,M.jsx)(D,{id:"su_logo",backgroundImage:q,onClickTouploadImage:this.onChangePostImg,removeDelete:!1,icon:"image-regular",updateData:this.updateData,thumbnail:W,isEdit:!0})}),(0,M.jsxs)(n.A,{md:6,lg:7,children:[(0,M.jsxs)("div",{className:"mt-4",children:[(0,M.jsx)(u.A.Label,{className:"mb-2",htmlFor:"s_pi",children:null!==(e=null===(t=this.appContent)||void 0===t||null===(a=t.manual_upload)||void 0===a?void 0:a.label_author_image)&&void 0!==e?e:""}),(0,M.jsx)(R.A,{id:"s_pi",imageStyle:{paddingBottom:"66%"},backgroundImage:Y,onClickTouploadImage:e=>this.setState({authorImage:e})})]}),(0,M.jsxs)(u.A.Group,{className:"mb-3",children:[(0,M.jsx)(u.A.Label,{className:"mb-2",htmlFor:"author_n_",children:null!==(s=null===(i=this.appContent)||void 0===i||null===(d=i.manual_upload)||void 0===d?void 0:d.label_author_name)&&void 0!==s?s:""}),(0,M.jsx)(u.A.Control,{id:"author_n_",name:"author_n_",placeholder:null!==(r=null===(c=this.appContent)||void 0===c||null===(p=c.manual_upload)||void 0===p?void 0:p.placeholder_author_name)&&void 0!==r?r:"",value:Z,onChange:e=>this.setState({author:e.target.value})})]}),(0,M.jsxs)("div",{className:"mt-2",children:[(0,M.jsx)(u.A.Label,{className:"mb-2",htmlFor:"s_ntwrk",children:null!==(g=null===(x=this.appContent)||void 0===x||null===(b=x.manual_upload)||void 0===b?void 0:b.label_select_network)&&void 0!==g?g:""}),(0,M.jsx)($.Ay,{id:"s_ntwrk",className:"selectpicker selectpicker-sm",classNamePrefix:"selectpicker",options:X,value:null!==G&&void 0!==G&&G.length&&J?G[null===G||void 0===G?void 0:G.findIndex(e=>e.value==J)]:null,onChange:e=>this.setState({networkId:null===e||void 0===e?void 0:e.value})})]}),(0,M.jsxs)(u.A.Group,{className:"mt-2 mb-2 mb-xl-3",children:[(0,M.jsxs)(u.A.Label,{children:[null!==(y=null===(w=this.appContent)||void 0===w||null===(f=w.manual_upload)||void 0===f?void 0:f.label_caption)&&void 0!==y?y:""," ",(0,M.jsx)("span",{className:"text-danger ms-1",children:"*"})," "]}),(0,M.jsx)(u.A.Control,{as:"textarea",id:"mu_caption",maxLength:500,className:"".concat(V?"is-invalid":""," textarea-min-row-5"),name:"caption",row:"5",value:K,onChange:this.changeContent}),V?(0,M.jsx)("span",{className:"invalid-feedback",children:String(K).length>0?null!==(j=null===(k=this.appContent)||void 0===k||null===(_=k.manual_upload)||void 0===_?void 0:_.error_caption_limit)&&void 0!==j?j:"":null!==(N=null===(C=this.appContent)||void 0===C||null===(A=C.common)||void 0===A?void 0:A.field_req)&&void 0!==N?N:""}):null,(0,M.jsxs)("div",{className:"d-flex jsutify-content-end",children:[" ",(0,M.jsx)("span",{className:"fs-10 text-muted pt-1",children:(0,v.dz)(null!==(S=null===(I=this.appContent)||void 0===I||null===(T=I.manual_upload)||void 0===T?void 0:T.caption_char_count)&&void 0!==S?S:"",{count:null===K||void 0===K?void 0:K.length})})," "]})]})]})]})}),(0,M.jsx)(l.A.Footer,{className:L?"p-0 border-0":"px-lg-8",children:(0,M.jsx)("div",{className:"d-flex justify-content-between flex-wrap",children:(0,M.jsxs)("div",{className:"d-flex w-100 align-items-center p-2 ".concat(L?" justify-content-between":" justify-content-end"),children:[(0,M.jsxs)(h.A,{variant:L?"link":"secondary",onClick:()=>{L?H():O("/manual-upload")},children:[L?(0,M.jsx)(m.gc,{icon:"arrow-left",iconClass:"me-2"}):"",null!==(B=null===(F=this.appContent)||void 0===F||null===(P=F.common)||void 0===P?void 0:P.btn_back)&&void 0!==B?B:""]}),(0,M.jsx)(h.A,{id:"create_feed",className:"ms-3 ".concat(Q?"spinner":""," "),onClick:()=>this.uploadPost(this.state),children:null!==(z=null===(E=this.appContent)||void 0===E||null===(U=E.common)||void 0===U?void 0:U.upload)&&void 0!==z?z:""})]})})})]})}}const G=(0,E.Ng)(e=>{var t,a,s,i,o;return{userData:null===(t=e.authorized)||void 0===t||null===(a=t.userData)||void 0===a||null===(s=a.user_data)||void 0===s?void 0:s.user,networkList:null===e||void 0===e||null===(i=e.addFeedReducer)||void 0===i||null===(o=i.addFeedNetworks)||void 0===o?void 0:o.networks}},e=>({getModeration:t=>e((0,z.zI)(t)),LoadHome:()=>e((0,O.Wg)()),updateUserInfo:t=>e((0,L.AW)(t)),getNetworks:()=>e((0,z.Ux)())}))((0,U.A)(H));class q extends s.Component{constructor(e){var t,a;super(e),this.appContent=null!==(t=null===(a=window)||void 0===a?void 0:a.APP_CONTENT)&&void 0!==t?t:{},this.onSubmit=()=>{const{url:e,network:t}=this.state,{onBoarding:a,onNext:s}=this.props,i=/^(http:\/\/|https:\/\/).+/;let o=!1;if(e.includes("instagram.com")?o=e.match(/instagram\.com\/(?:p|reel)\/([^/?]+)/):e.includes("tiktok.com")&&(o=(0,v.hB)(e)),e&&o){this.setState({spinner:!0});const o={networkId:parseInt(t),postUrl:i.test(e)?e:"https://".concat(e),wallId:localStorage.getItem("wallId")};(0,P.N_)(o).then(e=>{var t,i,o,n,l,d;200==e.data.responseCode&&("success"==e.data.responseStatus?((0,v.k1)(null!==(t=null===(i=this.appContent)||void 0===i||null===(o=i.manual_upload)||void 0===o?void 0:o.post_created)&&void 0!==t?t:""),a?s():this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId")))):(0,v.r$)(null!==(n=null===(l=this.appContent)||void 0===l||null===(d=l.common)||void 0===d?void 0:d.some_error_occured)&&void 0!==n?n:""));this.setState({spinner:!1})}).catch(e=>{const{responseMessage:t}=e.response.data;(0,v.r$)(t),this.setState({spinner:!1})})}else this.setState({urlError:!0})},this.state={spinner:!1,network:"",showManual:!1,urlError:!1,url:""}}componentDidMount(){const{onBoarding:e,manualSelect:t}=this.props;if(e)this.setState({network:t,showManual:0==t});else{const e=g.A.parse(window.location.search);e&&this.setState({network:e.network,showManual:"0"==e.network})}}render(){var e,t,a,s,g,x,b,y,w,f,j,k,_,N,C,A,S,I,T,B,F,D,P,z;const{spinner:E,network:U,showManual:O,urlError:L}=this.state,{onBoarding:R,navigate:$,setNetwork:H,onNext:q}=this.props,W=(0,v.Oi)((0,v.$J)(U));return(0,M.jsx)("div",{className:"d-flex flex-column flex-column-fluid w-100 py-5 manual_upload_wrap",children:(0,M.jsx)(i.A,{children:(0,M.jsx)(o.A,{className:"f-center manual_upload_card",children:(0,M.jsx)(n.A,{lg:8,xl:6,children:(0,M.jsxs)(l.A,{className:"".concat(R?"shadow-none border-0":""),children:[R?(0,M.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,M.jsx)("div",{className:"symbol symbol-40 flex-shrink-0 me-3",children:(0,M.jsx)(d.A,{height:40,width:40,src:(0,m.pc)("media/icons/social-icons-square/".concat((0,v.EC)(U?parseInt(U):0),".svg")),alt:"",fluid:!0})}),(0,M.jsxs)("div",{className:"d-flex flex-column flex-grow-1 my-lg-0 my-2 pr-3",children:[(0,M.jsx)("span",{className:"fs-6 fw-bold text-gray-800",children:W}),(0,M.jsx)("p",{className:"fs-9 mb-0 fw-medium",children:(0,v.dz)(null!==(e=null===(t=this.appContent)||void 0===t||null===(a=t.manual_upload)||void 0===a?void 0:a.header_add_post)&&void 0!==e?e:"",{network_name:W})})]})]}):(0,M.jsx)(l.A.Header,{className:"".concat(R?"border-0":""),children:(0,M.jsxs)("div",{className:"d-flex flex-wrap align-items-center py-4",children:[(0,M.jsx)("div",{className:"symbol symbol-50 flex-shrink-0 me-4",children:(0,M.jsx)(d.A,{src:(0,m.pc)("media/icons/social-icons-square/".concat("0"==U?"manual-upload":(0,v.EC)(U?parseInt(U):0),".svg")),fluid:!0})}),(0,M.jsxs)("div",{className:"d-flex flex-column flex-grow-1 my-lg-0 my-2 pe-3",children:[(0,M.jsx)("h3",{className:"mb-1",children:W}),(0,M.jsx)("p",{className:"text-muted mb-0 fw-medium",children:(0,v.dz)(null!==(s=null===(g=this.appContent)||void 0===g||null===(x=g.manual_upload)||void 0===x?void 0:x.header_add_post)&&void 0!==s?s:"",{network_name:W})})]})]})}),O?(0,M.jsx)(G,{onBoarding:R,setNetwork:H,onNext:q}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(l.A.Body,{className:"".concat(R?"p-0":"p-lg-8"),children:(0,M.jsxs)("div",{className:"my-4",children:[(0,M.jsxs)(r.A,{className:"mb-4",children:[(0,M.jsxs)(c.A,{className:"".concat(L?"is-invalid":""),children:[(0,M.jsx)(c.A.Text,{id:"basic-addon2",children:(0,M.jsx)(m.gc,{type:"solid",icon:"link"})}),(0,M.jsx)(u.A.Control,{size:"lg",placeholder:null!==(b=null===(y=this.appContent)||void 0===y||null===(w=y.manual_upload)||void 0===w?void 0:w.input_ph)&&void 0!==b?b:"",onChange:e=>this.setState({url:e.target.value,urlError:!1})})]}),L&&(0,M.jsx)("span",{className:"invalid-feedback",children:null!==(f=null===(j=this.appContent)||void 0===j||null===(k=j.common)||void 0===k?void 0:k.valid_url)&&void 0!==f?f:""})]}),(0,M.jsxs)(p.A,{variant:"warning",className:"border border-warning",children:[(0,M.jsx)(p.A.Heading,{className:"f-center alert_icon_head",children:(0,M.jsxs)("span",{className:"f-center",children:[(0,M.jsx)(m.gc,{icon:"lightbulb",iconClass:"me-1"}),null!==(_=null===(N=this.appContent)||void 0===N||null===(C=N.manual_upload)||void 0===C?void 0:C.alert_title_pro_tip)&&void 0!==_?_:""]})}),(0,M.jsx)("p",{className:"fw-medium mb-0 fs-8 text-gray-700",children:null!==(A=null===(S=this.appContent)||void 0===S||null===(I=S.manual_upload)||void 0===I?void 0:I.alert_desc_pro_tip)&&void 0!==A?A:""})]})]})}),(0,M.jsx)(l.A.Footer,{className:R?"p-0 border-0":"px-lg-8",children:(0,M.jsxs)("div",{className:"d-flex w-100 align-items-center p-2 ".concat(R?" justify-content-between":" justify-content-end"),children:[(0,M.jsxs)(h.A,{variant:R?"link":"secondary",onClick:()=>R?H():$("/manual-upload"),children:[R?(0,M.jsx)(m.gc,{icon:"arrow-left",iconClass:"me-2"}):"",null!==(T=null===(B=this.appContent)||void 0===B||null===(F=B.manual_upload)||void 0===F?void 0:F.btn_back)&&void 0!==T?T:""]}),(0,M.jsx)(h.A,{id:"create_feed",className:"ms-3 ".concat(E?"spinner":""," "),onClick:this.onSubmit,children:null!==(D=null===(P=this.appContent)||void 0===P||null===(z=P.manual_upload)||void 0===z?void 0:z.btn_import)&&void 0!==D?D:""})]})})]})]})})})})})}}const W=(0,U.A)(q)},68047:(e,t,a)=>{a.d(t,{A:()=>g});var s=a(9950),i=a(3302),o=a.n(i),n=a(75794),l=(a(34461),a(57182),a(93766),a(55856),a(44747),a(35131)),d=(a(21784),a(67972),a(76955)),r=a(97937),c=a(51960),u=a(85608),p=a(54810),h=a(38092),m=a.n(h),v=a(44414);class g extends s.Component{constructor(e){super(e),this.state={backgroundModal:!1},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},()=>{o()(".uppy-Dashboard-close").click(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})})})};const{allowedFile:t}=e;this.uppy=new n.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e6,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:t||["image/*"]}}).use(l.Ay,{target:"#a",params:{auth:{key:u.bG},steps:{store:{robot:u._8,bucket_region:u.YL,bucket:u.I2,key:u.jZ,secret:u.mD,path:u.yQ+"${file.id}.${file.ext}"}}},waitForEncoding:!0})}componentDidMount(){this.uppy.on("transloadit:result",(e,t)=>{this.props.onClickTouploadImage("".concat(u.$r).concat(t.id,".").concat(t.ext),()=>{setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},300)})})}render(){var e,t,a,s,i;const{backgroundImage:o,id:n,isVideo:l,showStatus:u}=this.props,{backgroundModal:h}=this.state,g=null!==(e=null===(t=window)||void 0===t||null===(a=t.APP_CONTENT)||void 0===a?void 0:a.common)&&void 0!==e?e:{};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:[o?null:(0,v.jsxs)(r.A,{id:n,variant:"secondary",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,v.jsx)(p.gc,{icon:"circle-plus"}),l?null!==(s=null===g||void 0===g?void 0:g.attach_video)&&void 0!==s?s:"":null!==(i=null===g||void 0===g?void 0:g.attach_image)&&void 0!==i?i:""]}),o?(0,v.jsxs)("div",{className:"bg-white w-100 rounded-1 position-relative",children:[l?(0,v.jsx)(m(),{height:300,width:300,id:"bg_image",className:"object-fit-contain",url:o,autoPlay:!0,muted:!0,loop:!0}):(0,v.jsx)(c.A,{id:"bg_image",className:"object-fit-contain",src:o,height:300,width:300,alt:"",style:{maxHeight:120},fulid:!0}),(0,v.jsxs)("div",{className:"position-absolute bottom-0 start-0 w-100 f-center",children:[(0,v.jsx)(r.A,{variant:"icon",size:"sm",className:"rounded-circle btn-active-primary m-2 box-shadow border-0",onClick:()=>this.setState({backgroundModal:!0}),children:(0,v.jsx)(p.gc,{type:"solid",icon:"pen"})}),u?null:(0,v.jsx)(r.A,{variant:"icon",size:"sm",className:"rounded-circle btn-active-primary m-2 box-shadow border-0",onClick:()=>this.props.onClickTouploadImage("",()=>{}),children:(0,v.jsx)(p.gc,{icon:"xmark"})})]})]}):null]}),h?(0,v.jsx)(d.KG,{animateOpenClose:!0,open:h,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}},75623:(e,t,a)=>{a.d(t,{A:()=>x});var s=a(80045),i=a(89379),o=a(48738),n=a.n(o),l=a(9950),d=a(44089),r=a(14531),c=a(54947),u=a(44414);const p=["className","bsPrefix","as"],h=l.forwardRef((e,t)=>{let{className:a,bsPrefix:o,as:l="span"}=e,r=(0,s.A)(e,p);return o=(0,d.oU)(o,"input-group-text"),(0,u.jsx)(l,(0,i.A)({ref:t,className:n()(a,o)},r))});h.displayName="InputGroupText";const m=h,v=["bsPrefix","size","hasValidation","className","as"],g=l.forwardRef((e,t)=>{let{bsPrefix:a,size:o,hasValidation:r,className:p,as:h="div"}=e,m=(0,s.A)(e,v);a=(0,d.oU)(a,"input-group");const g=(0,l.useMemo)(()=>({}),[]);return(0,u.jsx)(c.A.Provider,{value:g,children:(0,u.jsx)(h,(0,i.A)((0,i.A)({ref:t},m),{},{className:n()(p,a,o&&"".concat(a,"-").concat(o),r&&"has-validation")}))})});g.displayName="InputGroup";const x=Object.assign(g,{Text:m,Radio:e=>(0,u.jsx)(m,{children:(0,u.jsx)(r.A,(0,i.A)({type:"radio"},e))}),Checkbox:e=>(0,u.jsx)(m,{children:(0,u.jsx)(r.A,(0,i.A)({type:"checkbox"},e))})})},97696:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(9950),i=a(38092),o=a.n(i),n=a(17327),l=a(85608),d=a(10274),r=a(44414);const c=e=>{let{item:t,mediaClass:a,size:i,height:c,width:u,url:p,poster:h,autoPlay:m,muted:v,isCover:g,controls:x,loop:b,isupdate:y}=e;const[w,f]=(0,s.useState)(!1),[j,k]=(0,s.useState)(i||100);return(0,s.useEffect)(()=>{(async()=>{if(i)k(i);else if(c&&""!=c&&u&&""!=u)k(100*c/u);else try{const{width:e,height:t}=await(0,n.A)(h);k(100*t/e)}catch(e){k(100)}})()},[i]),(0,r.jsx)("div",{className:"".concat(a," overflow-hidden position-relative"),style:{paddingBottom:"".concat(j,"%")},children:(0,r.jsx)("div",{className:"position-absolute object-center-cover h-100 w-100",children:(0,r.jsx)(o(),{poster:h,className:"",url:p,config:{facebook:{appId:l.TG},attributes:{"data-item-id":null===t||void 0===t?void 0:t.id,poster:h,"data-network":null===t||void 0===t?void 0:t.networkId,"data-stories":null===t||void 0===t?void 0:t.stories,"data-load":"0","data-filter":null===t||void 0===t?void 0:t.feedFilter,"data-wall-id":null===t||void 0===t?void 0:t.wallId,"data-type":"video"}},autoPlay:m,muted:!0,volume:m?1:0,playsinline:!0,onReady:()=>{f(!0)},playing:m,height:"100%",width:"100%",loop:b,controls:x,onError:y?d.mr:null,style:{backgroundImage:w?"":"url(".concat(h,")"),backgroundSize:g?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",textAlign:"center"}})})})}}}]);