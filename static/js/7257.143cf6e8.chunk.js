"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[7257],{5385:(e,t,s)=>{s.d(t,{A:()=>x});var l=s(9950),i=s(54810),o=s(80322),a=s(28429),n=s(51960),d=s(63195),c=s(48796),r=s(38092),h=s.n(r),m=s(44414);const u=e=>{let{show:t,handleClose:s,navigate:l}=e;const{heading:o,description:a,url:r,isVideo:u,btnText:p}=(()=>{var e,t,s,l,o,a;const n=null===(e=window)||void 0===e?void 0:e.APP_CONTENT,d=null!==(t=null===n||void 0===n||null===(s=n.auto_pilot)||void 0===s?void 0:s.upgrade_popup)&&void 0!==t?t:{};return{heading:null!==(l=null===d||void 0===d?void 0:d.title)&&void 0!==l?l:"",description:null!==(o=null===d||void 0===d?void 0:d.dics)&&void 0!==o?o:"",url:(0,i.pc)("media/products/auto-pilot-feature.mp4"),btnText:null!==(a=null===d||void 0===d?void 0:d.btn_text)&&void 0!==a?a:"",isVideo:!0}})();return(0,m.jsx)(d.A,{show:t,onHide:s,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,m.jsx)(c.A,{className:"p-8 socialwall-popup-body",children:(0,m.jsxs)("div",{className:"row align-itmes-center",children:[(0,m.jsx)("h2",{className:"font-weight-boldest w-100 text-center mt-0",children:o}),(0,m.jsx)("p",{className:"mb-5 text-dark text-center",children:a}),(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsx)("div",{className:"switch_image ugc-switch-video mb-4 w-100",children:u?(0,m.jsx)(h(),{height:300,id:"bg_image",className:"object-fit-contain",url:r,autoPlay:!0,playing:!0,loop:!0,muted:!0,controls:!1,playsinline:!0}):(0,m.jsx)(n.A,{isPrefix:!0,className:"img-fluid",src:r,alt:""})})}),(0,m.jsx)("div",{className:"col-lg-12",children:(0,m.jsx)("div",{className:"switch_text_inner text-center",children:(0,m.jsx)("button",{onClick:()=>{l("/price")},className:"btn btn-primary btn-lg btn-min-w mt-2",children:p})})})]})})})};var p=s(73878),v=s(85608);const x=e=>{var t,s,n,d,c,r,h,x;let{getWallData:g}=e;const{name:j,id:b}=g||{},f=(0,a.Zp)(),y=window.location.pathname,[w,N]=(0,l.useState)(!1),_=(0,p.d4)(e=>{var t,s,l,i;return null===(t=e.authorized)||void 0===t||null===(s=t.userData)||void 0===s||null===(l=s.user_data)||void 0===l||null===(i=l.UserPlan)||void 0===i?void 0:i.planId},p.bN),k=v.vm.freePlan.includes(_)||v.vm.freeTrail.includes(_),C=(e,t,s)=>{e.stopPropagation(),((0,o.Yj)("networkManager","manageFeed",!0)||[4,5].includes(s))&&f(t)},A=(0,l.useMemo)(()=>{var e,t,s;return null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.sideBar)&&void 0!==e?e:{}},[]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"custom-side-menu-inn h-100",children:[(0,m.jsxs)("div",{className:"custom-side-menu-body",children:[(0,m.jsx)("p",{className:"csm-title mb-0 pb-3 pb-sm-2 border-bottom text-uppercase",children:null!==(t=null===A||void 0===A?void 0:A.content)&&void 0!==t?t:""}),(0,m.jsxs)("ul",{className:"list-unstyled",children:[(0,m.jsxs)("li",{id:"add_feed",className:"py-3 border-bottom cursor-pointer ".concat(null===y||void 0===y||!y.includes("addfeed")||null!==y&&void 0!==y&&null!==(s=y.split("/"))&&void 0!==s&&s.includes("29")?"":"active"),onClick:e=>C(e,"/content/addfeed/".concat(b),2),children:[(0,m.jsx)(i.gc,{iconClass:"me-2",icon:"square-plus"}),(0,m.jsx)("span",{children:null!==(n=null===A||void 0===A?void 0:A.addFeed)&&void 0!==n?n:""})]}),(0,m.jsxs)("li",{id:"manage_feed",className:"py-3 border-bottom cursor-pointer ".concat(null!==y&&void 0!==y&&y.includes("managefeed")?"active":""),onClick:e=>C(e,"/content/managefeed/".concat(b),3),children:[(0,m.jsx)(i.gc,{iconClass:"me-2",icon:"rectangle-history-circle-plus"}),(0,m.jsx)("span",{children:null!==(d=null===A||void 0===A?void 0:A.manageFeed)&&void 0!==d?d:""})]}),(0,m.jsxs)("li",{id:"autopilot",className:"py-3 border-bottom cursor-pointer ".concat(null!==y&&void 0!==y&&y.includes("autopilot")?"active":""),onClick:e=>k?N(!0):C(e,"/autopilot",4),children:[(0,m.jsx)(i.gc,{iconClass:"me-2",icon:"toggle-on"}),(0,m.jsx)("span",{children:null!==(c=null===A||void 0===A?void 0:A.autopilot)&&void 0!==c?c:""})]}),(0,m.jsxs)("li",{id:"review_hub",className:"py-3 border-bottom cursor-pointer ".concat(null!==y&&void 0!==y&&null!==(r=y.split("/"))&&void 0!==r&&r.includes("29")?"active":""),onClick:e=>C(e,"/content/addfeed/".concat(b,"/29"),5),children:[(0,m.jsx)(i.gc,{iconClass:"me-2",icon:"messages"}),(0,m.jsx)("span",{children:null!==(h=null===A||void 0===A?void 0:A.reviewHub)&&void 0!==h?h:""})]})]})]}),(0,m.jsx)("div",{className:"custom-side-menu-footer d-flex justify-content-end border-top",children:(0,m.jsx)("div",{className:"f-between w-100 gap-3",children:(0,m.jsx)("button",{type:"button",id:"publish_btn",className:"w-100 btn btn-primary",onClick:e=>{e.stopPropagation(),f("/publish/".concat(b))},children:null!==(x=null===A||void 0===A?void 0:A.publish_)&&void 0!==x?x:""})})})]}),w?(0,m.jsx)(u,{show:w,handleClose:()=>N(!1),navigate:f}):null]})}},22587:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Et});var l=s(89379),i=s(9950),o=s(73878),a=s(45358),n=s(98361),d=s(4342),c=s(34483),r=s(62849),h=s(10274),m=s(97937),u=s(75623),p=s(17595),v=s(54810),x=s(44414);class g extends i.Component{constructor(){super(...arguments),this.state={tagSearchList:[],searchPost:"",selected:"",openSearch:!1},this.onLoad=()=>{const{searchPost:e}=this.state;e.length>0?(0,h.nX)(e).then(e=>{const{responseData:t,totalTag:s,responseCode:l}=e.data;200===l?this.setState({tagSearchList:null===t||void 0===t?void 0:t.totalTag}):this.setState({tagSearchList:[]})}):this.setState({tagSearchList:[]})},this.onSearchText=e=>this.setState({searchPost:e},()=>this.onLoad()),this.onClickToSearchTags=e=>t=>{this.setState({searchPost:e,selected:e,tagSearchList:[]},()=>this.props.searchTagsFilter(this.state.selected))},this.onClickToSearchPost=e=>t=>{e&&String(e).length>0&&this.setState({searchPost:"",selected:e,tagSearchList:[]},()=>this.props.searchPostFilter(e))}}render(){var e,t,s,l;const{tagSearchList:i,openSearch:o,searchPost:a}=this.state;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.A,{variant:"icon",size:"sm","aria-label":"search",className:"btn-active-primary",onClick:()=>this.setState({openSearch:!o}),children:(0,x.jsx)(v.gc,{icon:o?"xmark":"magnifying-glass"})}),(0,x.jsx)(c.A,{show:!!(i&&i.length>0),className:"assets_search_input position-absolute me-lg-2",style:{display:o?"block":"none"},children:(0,x.jsxs)("div",{className:"quick_search d-flex align-items-center",children:[(0,x.jsxs)(u.A,{id:"inputSpinner",className:"p-0 spinner-gray spinner-sm",children:[o&&(0,x.jsx)(p.A.Control,{size:"sm",style:{minHeight:"32px"},className:"",id:"assets_search_input",placeholder:null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s||null===(l=s.moderation)||void 0===l?void 0:l.ph_search)&&void 0!==e?e:"",value:a,onChange:e=>this.onSearchText(e.target.value),autoComplete:"off"}),(0,x.jsx)(m.A,{className:"",size:"sm",id:"inputCloseButton","aria-label":"search",variant:"primary",onClick:this.onClickToSearchPost(a),children:(0,x.jsx)(v.gc,{icon:"magnifying-glass"})})]}),i&&i.length>0?(0,x.jsx)(c.A.Menu,{className:"w-100 dropdwon-height top-100",style:{overflowY:"auto"},children:i.map(e=>(0,x.jsx)(c.A.Item,{onClick:this.onClickToSearchTags(e),children:e},e))}):null]})})]})}}const j=g;var b=s(59051),f=s.n(b),y=(s(52010),s(32796));const w=e=>{const{children:t,maxDate:s,handleOnApply:l,startDate:i,endDate:o}=e;return(0,x.jsx)(y.A,{onApply:l,startDate:i,endDate:o,initialSettings:{locale:{format:"DD-MM-YYYY",separator:"-"},maxDate:s,showDropdowns:!1,startDate:i,endDate:o,ranges:{Today:[f()().format("DD-MM-YYYY"),f()().format("DD-MM-YYYY")],Yesterday:[f()().subtract(1,"days").format("DD-MM-YYYY"),f()().subtract(1,"days").format("DD-MM-YYYY")],"Last 7 Days":[f()().subtract(6,"days").format("DD-MM-YYYY"),f()().format("DD-MM-YYYY")],"Last 30 Days":[f()().subtract(29,"days").format("DD-MM-YYYY"),f()().format("DD-MM-YYYY")],"This Month":[f()().startOf("month").format("DD-MM-YYYY"),f()().endOf("month").format("DD-MM-YYYY")],"Last Month":[f()().subtract(1,"month").startOf("month").format("DD-MM-YYYY"),f()().subtract(1,"month").endOf("month").format("DD-MM-YYYY")]}},children:t})};class N extends i.Component{constructor(){super(...arguments),this.state={startDate:f()().endOf("month").format("DD-MM-YYYY"),endDate:f()().format("DD-MM-YYYY"),maxDate:f()().endOf("month").format("DD-MM-YYYY")},this.handleOnApply=(e,t)=>{this.setState({startDate:t.startDate.format("YYYY-MM-DD"),endDate:t.endDate.format("YYYY-MM-DD")}),this.props.onDateRangeFilter(t.startDate.format("YYYY-MM-DD"),t.endDate.format("YYYY-MM-DD"))}}componentWillReceiveProps(e){const{moderation:t}=e;t&&Object.keys(t.filter).length>0&&""!=t.filter.startDate&&this.setState({startDate:f()(t.filter.startDate).format("DD-MM-YYYY"),endDate:f()(t.filter.endDate).format("DD-MM-YYYY")}),t.filterBody&&t.filterBody.dateRanges&&0==Object.keys(t.filterBody.dateRanges).length&&this.state.startDate!=f()().subtract(30,"days").format("DD-MM-YYYY")&&this.setState({startDate:f()().subtract(30,"days").format("DD-MM-YYYY"),endDate:f()().format("DD-MM-YYYY")})}render(){const{children:e}=this.props,{startDate:t,endDate:s,maxDate:l}=this.state;return(0,x.jsx)(w,{children:e,startDate:t,endDate:s,maxDate:l,handleOnApply:this.handleOnApply},7*Math.random())}}const _=N;var k=s(1391),C=s(80322),A=s(52867);const T=(0,k.A)(e=>{var t;const[s,a]=(0,i.useState)(),n=(0,o.d4)(e=>{var t;return null===(t=e.moderation)||void 0===t?void 0:t.filter});(0,i.useEffect)(()=>{var t;const s=(null===(t=e.allWalls)||void 0===t?void 0:t.length)&&e.allWalls.find(t=>t.id==e.params.id);a((null===s||void 0===s?void 0:s.carouselPost)||0)},[e]);return(0,x.jsxs)("div",{className:"d-flex flex-wrap",children:[null!==e&&void 0!==e&&e.isShoppable?(0,x.jsxs)("div",{className:"f-center me-2",children:[(0,x.jsx)(p.A.Label,{htmlFor:"carousalStatus",className:"me-2 mb-0 d-none d-sm-inline-block",children:null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.carousel_btn}),(0,x.jsx)(p.A.Check,{className:"mt-1",type:"switch","aria-label":"Carousal",id:"carousalStatus",checked:s,onChange:t=>n.taggedPost?void(0,A.r$)("To enable the Carousel feature, please remove the Product Filter first."):e.postCarosal(Number(t.target.checked))})]}):null,(0,x.jsx)(j,(0,l.A)({},e)),(0,x.jsx)(_,(0,l.A)((0,l.A)({},e),{},{children:(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"btn-active-primary ms-2","aria-label":"calendar",id:"calander_",children:(0,x.jsx)(v.gc,{icon:"calendar-range"})})})),(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"btn-active-primary ms-2","aria-label":"filter",id:"filter_aside",children:(0,x.jsx)(v.gc,{icon:"filter"})})]})});var S=s(30615),P=s(5830),D=s(95942);const I=e=>{let{moderation:t,onNextNavigateClick:s,onPrevNavigateClick:l,onChangePage:o}=e;const{paginateData:a}=t;return a&&Object.keys(a).length?(0,x.jsxs)("ul",{className:"pagination pagination-sm my-1 ms-3",children:[(0,x.jsx)("li",{className:"page-item",children:(0,x.jsx)("span",{className:"page-link ".concat(1==a.currentPage?" disabled":" cursor-pointer"),onClick:1==a.currentPage?null:l,children:(0,x.jsx)(v.gc,{type:"solid",icon:"angle-left"})})},"li-prev"),a.pages&&a.pages.length>0?a.pages.map((e,t)=>parseInt(t)<1?(0,x.jsx)("li",{className:"page-item".concat(a.currentPage==e?" active":" cursor-pointer"),onClick:o(e),children:(0,x.jsx)("span",{className:"page-link",children:e})},"li-".concat(e)):a.currentPage<=3&&(2===parseInt(t)||1===parseInt(t))||a.currentPage>=parseInt(a.pages.length)-2&&parseInt(t)>=parseInt(a.pages.length)-3?(0,x.jsxs)(i.Fragment,{children:[t===parseInt(a.pages.length)-3&&parseInt(a.pages.length)>4?(0,x.jsx)("li",{className:"page-item disabled",children:(0,x.jsx)("span",{className:"page-link",children:"..."})},"li-2-".concat(t)):null,(0,x.jsx)("li",{className:"page-item".concat(a.currentPage==e?" active":" cursor-pointer"),onClick:o(e),children:(0,x.jsx)("span",{className:"page-link",children:e})},"li-3-".concat(t))]},"fragment-".concat(t)):parseInt(a.pages.length)-3==t?a.currentPage>3&&a.currentPage<a.pages.length-2?(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)("li",{className:"page-item disabled",children:(0,x.jsx)("span",{className:"page-link",children:"..."})},"li-4-".concat(t)),(0,x.jsx)("li",{className:"page-item active",onClick:o(e),children:(0,x.jsx)("span",{className:"page-link",children:a.currentPage})},"li-5-".concat(t)),(0,x.jsx)("li",{className:"page-item disabled",children:(0,x.jsx)("span",{className:"page-link",children:"..."})},"li-6-".concat(t))]},"fragment-".concat(t)):(0,x.jsxs)("li",{className:"page-item disabled",children:[" ",(0,x.jsx)("span",{className:"page-link",children:"..."})," "]},"li-7-".concat(t)):parseInt(a.pages.length)-1==t?(0,x.jsx)("li",{className:"page-item ".concat(a.currentPage==e?" active":" cursor-pointer"),onClick:o(e),children:(0,x.jsx)("span",{className:"page-link",children:e})},"li-8-".concat(t)):null):null,(0,x.jsx)("li",{className:"page-item",children:(0,x.jsx)("span",{className:"page-link ".concat(a.currentPage==a.totalPages?" disabled":" cursor-pointer"),onClick:a.currentPage==a.totalPages?null:s,children:(0,x.jsx)(v.gc,{type:"solid",icon:"angle-right"})})},"li-next")]}):null};var F=s(63195),M=s(51960);const O=e=>{var t,s;let{show:l,onHide:o}=e;const a=(0,i.useMemo)(()=>{var e,t;return null!==(e=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==e?e:{}},[]);return(0,x.jsx)(F.A,{show:l,centered:!0,onHide:o,children:(0,x.jsxs)(F.A.Body,{className:"text-center p-7",children:[(0,x.jsx)(M.A,{className:"my-3",src:(0,v.pc)("media/images/error/ugc-request.png"),height:206,width:500,fluid:!0}),(0,x.jsx)("p",{className:"text-center my-5 fs-6 mx-auto fw-bold text-muted",style:{maxWidth:400},children:(null===a||void 0===a||null===(t=a.moderation)||void 0===t?void 0:t.ugc_right_error_2)||""}),(0,x.jsx)(m.A,{className:"btn-min-w",size:"lg",onClick:o,children:(null===a||void 0===a||null===(s=a.common)||void 0===s?void 0:s.OK)||""})]})})};var L=s(42074);const U=e=>{var t,s,l;let{show:o,onHide:a}=e;const n=(0,i.useMemo)(()=>{var e,t;return null!==(e=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==e?e:{}},[]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(F.A,{show:o,centered:!0,onHide:a,children:(0,x.jsxs)(F.A.Body,{className:"text-center p-7",children:[(0,x.jsx)(M.A,{className:"my-7",src:(0,v.pc)("media/images/error/warning.svg"),height:70,width:70,fluid:!0}),(0,x.jsx)("p",{className:"text-center my-5 fs-6 mx-auto fw-bold text-muted",style:{maxWidth:400},children:(null===n||void 0===n||null===(t=n.moderation)||void 0===t?void 0:t.ugc_right_error)||""}),(0,x.jsx)(L.N_,{className:"btn-min-w mb-5 btn btn-lg btn-primary",size:"lg",to:"/price",title:(null===n||void 0===n||null===(s=n.common)||void 0===s?void 0:s.upgrade_now)||"",children:(null===n||void 0===n||null===(l=n.common)||void 0===l?void 0:l.upgrade_now)||""})]})})})},E=e=>{const[t,s]=(0,i.useState)(!1),[n,d]=(0,i.useState)({label:"50",value:50}),[c,r]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!1),[j,b]=(0,i.useState)(!1),[f,y]=(0,i.useState)(!1),{moderation:w,activeTab:N}=e,_=(0,o.wA)(),k=(0,i.useMemo)(()=>{var e,t;return null===(e=window)||void 0===e||null===(t=e.APP_CONTENT)||void 0===t?void 0:t.moderation},[window.APP_CONTENT]);(0,i.useEffect)(()=>()=>{A()},[w]);const A=()=>{const{check_uncheck_all:e}=w;var t=!1;e.data.map(e=>{1!=e.ugcstatus||t||(t=!0),29==e.networkId&&(t=!0),1==e.type&&(t=!0),3==e.networkId&&62==e.feedFilter||18==e.networkId&&(24==e.feedFilter||25==e.feedFilter||26==e.feedFilter)||(t=!0)}),b(!t)};return(0,x.jsxs)(a.A,{fluid:!0,children:[(0,x.jsxs)("div",{className:"f-between py-1 mod_header",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(p.A.Check,{type:"checkbox",id:"select_all_",className:"btn btn-secondary btn-sm px-2 me-2 text-nowrap my-1",label:"".concat(w.check_uncheck_all.data.length?w.check_uncheck_all.data.length+((null===k||void 0===k?void 0:k.lbl_selected)||""):(null===k||void 0===k?void 0:k.lbl_select_all)||""),onChange:e.clickToCheckAll(w.check_uncheck_all.status),checked:w.check_uncheck_all.status}),(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:(null===k||void 0===k?void 0:k.tt_refresh)||""}),children:(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"btn-active-primary","aria-label":"refresh",disabled:"true"==localStorage.getItem("wallLimitExceed"),onClick:()=>{e.clickToRefresh()},children:(0,x.jsx)("span",{className:"d-inline-block",children:(0,x.jsx)(v.gc,{icon:"arrows-rotate"})})})}),w.check_uncheck_all&&w.check_uncheck_all.data.length>0?(0,x.jsxs)("div",{className:"d-flex align-items-center mx-lg-2 mod_actions flex-wrap",children:[0==N||2==N?(0,x.jsxs)(m.A,{variant:"success",size:"sm",className:"me-2 my-1",disabled:"true"==localStorage.getItem("wallLimitExceed"),onClick:e.onClickToFilterUpdateStatus(1),children:[(0,x.jsx)(v.gc,{icon:"check",iconClass:"me-1"}),(null===k||void 0===k?void 0:k.tab_public)||""]}):null,0==N||1==N?(0,x.jsxs)(m.A,{variant:"danger",size:"sm",className:"me-2 my-1",disabled:"true"==localStorage.getItem("wallLimitExceed"),onClick:e.onClickToFilterUpdateStatus(2),children:[(0,x.jsx)(v.gc,{icon:"xmark",iconClass:"me-1"}),(null===k||void 0===k?void 0:k.tab_private)||""]}):null,(0,x.jsxs)(m.A,{variant:"warning",size:"sm",className:"me-2 my-1",onClick:e.onClickToFilterDeleteAll,children:[(0,x.jsx)(v.gc,{icon:"trash-can",iconClass:"me-1"}),(null===k||void 0===k?void 0:k.btn_delete)||""]}),j?(0,x.jsxs)(m.A,{variant:"dark",size:"sm",className:"me-2 my-1",onClick:()=>(0,C.Yj)("contentGallery","editGallery",!0)?(()=>{const{check_uncheck_all:e}=w;let t=null;var s=!1;if(e.data.map(e=>{1!=e.ugcstatus||s||(r(!0),s=!0),29==e.networkId&&(r(!0),y(!0),s=!0),1==e.type&&(g(!0),s=!0),3==e.networkId&&62==e.feedFilter||18==e.networkId&&(24==e.feedFilter||25==e.feedFilter||26==e.feedFilter)||(r(!0),y(!0),s=!0),null==t?t=e.username:null==t||t==e.username||s||(g(!0),s=!0)}),!s){const t=e.data.map(e=>e.id);_((0,h.Qb)({is_carausel:0,postId:t,id:t})),_((0,h.$k)(!0))}})():{},children:[(0,x.jsx)(v.gc,{icon:"user-check",iconClass:"me-1"}),(null===k||void 0===k?void 0:k.btn_get_rights)||""]}):null]}):null]}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(S.Ay,{className:"selectpicker selectpicker-sm d-none d-lg-flex",classNamePrefix:"selectpicker",isSearchable:!1,options:[{label:"50",value:50},{label:"100",value:100},{label:"200",value:200}],value:n,onChange:t=>{return s=t,e.limitUpdate(parseInt(s.value)),void d(s);var s}}),(0,x.jsx)(I,(0,l.A)({},e))]})]}),(0,x.jsx)(U,{show:c,fromSnapup:f,onHide:()=>r(!1)}),(0,x.jsx)(O,{show:u,onHide:()=>g(!1)})]})},B=e=>{var t,s,i;const o=!!(e.moderation.details&&Object.keys(e.moderation.details).length>0);var{activeTab:h,totalpost:m,publicpost:u,privatepost:p,tabName:v,TabTotal:g}=0,j=[];const b=null!==(t=null===(s=window)||void 0===s||null===(i=s.APP_CONTENT)||void 0===i?void 0:i.moderation)&&void 0!==t?t:{};o&&(h=e.activeTab,m=e.moderation.details.totalpost,u=e.moderation.details.publicpost,p=e.moderation.details.privatepost,j=e.moderation.details.upcomingpost,v=0==h?null===b||void 0===b?void 0:b.tab_all:1==h?null===b||void 0===b?void 0:b.tab_public:2==h?null===b||void 0===b?void 0:b.tab_private:null===b||void 0===b?void 0:b.tab_upcoming,g=0==h?m:1==h?u:2==h?p:j);const f=(0,A.C2)();return(0,x.jsxs)("div",{className:"dualheader ".concat(f?"":"subheader"),children:[(0,x.jsxs)(a.A,{className:"f-between flex-wrap border-bottom",fluid:!0,children:[(0,x.jsxs)("div",{className:"d-flex align-items-center flex-wrap h-50px",children:[(0,x.jsxs)(n.A,{variant:"underline",className:"d-none d-lg-flex",children:[(0,x.jsx)(n.A.Item,{children:(0,x.jsxs)(n.A.Link,{id:"allPost",style:{padding:"14px 0px"},className:0==e.activeTab?"active":"",eventKey:"allPost",onClick:o?e.clickToTab(0):null,disabled:!o,children:[null===b||void 0===b?void 0:b.tab_all,(0,x.jsx)(d.A,{bg:"",className:"m-0 py-1 ms-2 ".concat(0==h?"badge-primary":"badge-light-primary"),children:m})]})}),(0,x.jsx)(n.A.Item,{children:(0,x.jsxs)(n.A.Link,{id:"public",style:{padding:"14px 0px"},className:1==e.activeTab?"active":"",eventKey:"public",onClick:o?e.clickToTab(1):null,disabled:!o,children:[null===b||void 0===b?void 0:b.tab_public,(0,x.jsx)(d.A,{bg:"",className:"m-0 py-1 ms-2 ".concat(1==h?"badge-primary":"badge-light-primary"),children:u})]})}),(0,x.jsx)(n.A.Item,{children:(0,x.jsxs)(n.A.Link,{id:"private",style:{padding:"14px 0px"},className:2==e.activeTab?"active":"",eventKey:"private",onClick:o?e.clickToTab(2):null,disabled:!o,children:[null===b||void 0===b?void 0:b.tab_private,(0,x.jsx)(d.A,{bg:"",className:"m-0 py-1 ms-2 ".concat(2==h?"badge-primary":"badge-light-primary"),children:p})]})}),j&&j>0?(0,x.jsx)(n.A.Item,{children:(0,x.jsxs)(n.A.Link,{id:"upcomming",style:{padding:"14px 0px"},className:3==e.activeTab?"active":"",eventKey:"upcomming",children:[null===b||void 0===b?void 0:b.tab_upcoming,(0,x.jsx)(d.A,{bg:"",className:"m-0 py-1 ms-2 ".concat(3==h?"badge-primary":"badge-light-primary"),children:j})]})}):null]}),(0,x.jsxs)(c.A,{className:"d-flex d-lg-none",children:[(0,x.jsxs)(c.A.Toggle,{variant:"secondary",size:"sm",id:"mod-tab",children:[v," ",(0,x.jsx)(d.A,{bg:"",className:"m-0 py-1 badge-light-primary mx-1",children:g})]}),(0,x.jsxs)(c.A.Menu,{children:[(0,x.jsxs)(r.A.Item,{id:"allPost",eventKey:"1",onClick:o?e.clickToTab(0):null,children:[null===b||void 0===b?void 0:b.tab_all," ",(0,x.jsx)(d.A,{className:"ms-2 rounded-3",bg:"light-primary",children:m})," "]}),(0,x.jsxs)(r.A.Item,{id:"public",eventKey:"2",onClick:o?e.clickToTab(1):null,children:[null===b||void 0===b?void 0:b.tab_public," ",(0,x.jsx)(d.A,{className:"ms-2 rounded-3",bg:"light-primary",children:u})," "]}),(0,x.jsxs)(r.A.Item,{id:"private",eventKey:"3",onClick:o?e.clickToTab(2):null,children:[null===b||void 0===b?void 0:b.tab_private," ",(0,x.jsx)(d.A,{className:"ms-2 rounded-3",bg:"light-primary",children:p})," "]}),j&&j>0?(0,x.jsxs)(r.A.Item,{id:"upcomming",eventKey:"4",onClick:o?e.clickToTab(3):null,children:[null===b||void 0===b?void 0:b.tab_upcoming," ",(0,x.jsx)(d.A,{className:"ms-2 rounded-3",bg:"light-primary",children:j})," "]}):null]})]})]}),(0,x.jsx)("div",{className:"d-flex align-items-center flex-wrap flex-grow-1 justify-content-end",children:(0,x.jsx)(T,(0,l.A)({content:b},e))})]}),(0,x.jsx)(E,(0,l.A)({},e))]})};var R=s(54480),Y=s(28981),z=s(70804);class H extends i.Component{constructor(){super(...arguments),this.state={searchData:[],searchPost:"",selected:[],loading:!1,textSearch:""},this.onSearchText=e=>{this.setState({loading:!0,textSearch:e}),(null===e||void 0===e?void 0:e.length)>0?(0,h.nX)(e).then(e=>{const{responseData:t,responseCode:s}=e.data;this.setState({searchData:200===s?null===t||void 0===t?void 0:t.totalTag:[],loading:!1})}):this.setState({searchData:[],loading:!1,searchPost:"",textSearch:""})},this.onClickToSearch=(e,t)=>s=>{if(t)this.setState({searchData:[],searchPost:"",textSearch:""}),this.props.removeFilterPostTags(e);else{const{selected:t}=this.state;this.state.selected.push(e),this.setState({searchPost:e,selected:t,textSearch:"",searchData:[]},()=>{this.props.updateFilterPostTags(this.state.searchPost)})}}}componentWillReceiveProps(e){const{filterBody:t}=e;0==t.postTags.length&&this.state.searchData.length>0&&this.setState({searchData:[],searchPost:"",textSearch:""})}render(){const{searchData:e,loading:t,textSearch:s}=this.state,{postTags:l,content:i}=this.props;return(0,x.jsxs)("div",{className:"form-group tag_search mb-5 mt-3 position-relative",children:[(0,x.jsxs)(u.A,{id:"searchTagElements",className:"spinner-secondary spinner-right position-relarive w-100 mb-3",children:[(0,x.jsx)(p.A.Control,{placeholder:null===i||void 0===i?void 0:i.search,className:"spinner",value:s,onChange:e=>this.onSearchText(e.target.value),autoComplete:"off"}),(0,x.jsx)(u.A.Text,{children:(0,x.jsx)(v.gc,{icon:"magnifying-glass"})})]}),e&&(e.length>0||s.length>0)&&(0,x.jsx)(c.A.Menu,{show:!0,className:"w-100 dropdwon-height",style:{overflowY:"auto"},children:e.map((e,t)=>{const s=l.includes(e)||!1;return(0,x.jsx)(c.A.Item,{onClick:this.onClickToSearch(e,s),children:e},t)})}),(0,x.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,x.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:l&&l.map((e,t)=>parseInt(t)<9?(0,x.jsxs)(d.A,{className:"me-1 mb-1 px-3 py-2 f-center bg-secondary",children:[(0,x.jsx)("span",{className:" text-ellipsis d-block",children:e}),(0,x.jsx)(m.A,{variant:"link",size:"sm","aria-label":"close",className:"p-0 ms-1 text-gray-800",onClick:this.onClickToSearch(e,!0),children:(0,x.jsx)(v.gc,{icon:"xmark",iconClass:"me-0"})})]},t):null)})})]})}}const G=H;var W=s(49639),q=s(8966),K=s(43523),$=s(85608),V=s(66345);const Q=e=>{let{value:t,onClickPostType:s,moderation:l,label:i,id:o}=e;const a=Object.keys(l.filterBody).length>0&&l.filterBody.postType.length>0?l.filterBody.postType.filter(e=>e==t):[],n=!!(a&&a.length>0);return(0,x.jsx)(p.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:i,id:o,onChange:s(t,n),checked:n},o)},Z=e=>{let{value:t,onClickOther:s,moderation:l,label:i,id:o}=e;const a=Object.keys(l.filterBody).length>0&&l.filterBody.other.length>0?l.filterBody.other.filter(e=>e.key==o):[],n=!!(a&&a.length>0);return(0,x.jsx)(p.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:i,id:o,onChange:s(o,t,n),checked:n},o)},J=e=>{var t;let{value:s,onClickAi:l,moderation:i,label:o,id:a}=e;const n=null===(t=i.filterBody)||void 0===t?void 0:t.recommendation.includes(s),d=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"d-inline-block h-10px w-10px rounded-circle me-2 bg-".concat("1"==s?"success":"2"==s?"warning":"danger")}),o]});return(0,x.jsx)("div",{className:"f-center justify-content-start",children:(0,x.jsx)(p.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:d,id:a,onChange:l(s,n),checked:n})},a)},X=e=>{var t;let{value:s,onClickSentiment:l,moderation:o,label:a,id:n}=e;const d=null===(t=o.filterBody)||void 0===t?void 0:t.sentiment.includes(s),c=(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(v.gc,{icon:"face-".concat("1"==s?"smile":"2"==s?"meh":"frown"),iconClass:"text-muted fs-8 d-inline-block me-1"}),a]},"fragment-".concat(n));return(0,x.jsx)("div",{className:"f-center justify-content-start",children:(0,x.jsx)(p.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:c,id:n,onChange:l(s,d),checked:d})},n)},ee=e=>{var t,s;let{value:l,onClickRating:i,moderation:o,label:a,id:n}=e;const d=null===(t=o.filterBody)||void 0===t||null===(s=t.rating)||void 0===s?void 0:s.includes(l),c=(0,x.jsxs)("div",{className:"d-flex ",children:[(0,x.jsx)(K.A,{rating:l})," ",(0,x.jsx)("span",{className:"text-muted fs-8 d-inline-block me-1 ms-2",children:"".concat(l," Star")})]},"fragment-".concat(n));return(0,x.jsx)("div",{className:"f-center justify-content-start",children:(0,x.jsx)(p.A.Check,{type:"checkbox",className:"mb-4",value:"1",label:c,id:n,onChange:i(l,d),checked:d})},n)};class te extends i.Component{constructor(e){super(e),this.toogleFilter=()=>{this.setState({isActiveAside:!this.state.isActiveAside}),setTimeout(()=>{var e=document.querySelector(".offcanvas-backdrop");e&&e.classList.add("filter-backdrop")},100)},this.onSelectFeeds=(e,t,s)=>l=>{s?this.props.removeFilterSocialFeeds({key:e,value:t}):this.props.updateFilterSocialFeeds({key:e,value:t})},this.onClickPostType=(e,t)=>s=>{t?this.props.removeFilterPostType(e):this.props.updateFilterPostType(e)},this.onClickOther=(e,t,s)=>l=>{if("tagProduct"==e){var i;const e=(null===(i=this.props.allWalls)||void 0===i?void 0:i.length)&&this.props.allWalls.find(e=>String(e.id)==String(localStorage.getItem("wallId")));if(null!==e&&void 0!==e&&e.carouselPost)return(0,A.r$)("To apply this filter, please disable the Carousel feature first.")}s?this.props.removeFilterOthers({key:e,value:t}):this.props.updateFilterOthers({key:e,value:t})},this.onClickAi=(e,t)=>s=>{t?this.props.removeAiFilter(e):this.props.aiFilter(e)},this.onClickSentiment=(e,t)=>s=>{t?this.props.removeSentimentFilter(e):this.props.sentimentFilter(e)},this.onClickRating=(e,t)=>s=>{t?this.props.removeRatingFilter(e):this.props.ratingFilter(e)},this.onClickLanguage=(e,t)=>s=>{t?this.props.removePostLangFilter():this.props.postLangFilter(e)},this.state={isActiveAside:!1},this.toogleFilter=this.toogleFilter.bind(this)}componentDidMount(){if(this.addEventListeners(),window.feedId&&""!=window.feedId){const{manageFeeds:e}=this.props,t=(null===e||void 0===e?void 0:e.feeds)||[];t.length>0&&t.forEach(e=>{window.feedId==e.id&&this.props.updateFilterSocialFeeds({key:e.name,value:window.id})})}}componentDidUpdate(){this.addEventListeners()}addEventListeners(){const e=document.getElementById("filter_aside");e&&e.addEventListener("click",this.toogleFilter)}render(){var e,t,s,i,o,a,n,d;const{moderation:c,manageFeeds:r}=this.props,{isActiveAside:h}=this.state,u=!1,g=null===c||void 0===c||null===(e=c.filterBody)||void 0===e?void 0:e.postTags,{userDetail:j}=this.props,b=null===j||void 0===j?void 0:j.truSense,{feeds:f,postLanguageData:y}=r||{},w=!!f&&(null!==(t=null===f||void 0===f?void 0:f.some(e=>[4,38,19,23,35,34,37,29].includes(e.networkId)))&&void 0!==t&&t),N=null!==(s=null===(i=window)||void 0===i||null===(o=i.APP_CONTENT)||void 0===o?void 0:o.moderation)&&void 0!==s?s:{};return(0,x.jsx)(W.A,{show:h,placement:"end",onHide:this.toogleFilter,className:"filter_aside ".concat(null!==j&&void 0!==j&&null!==(a=j.user)&&void 0!==a&&a.isPaymentFailed&&null!==j&&void 0!==j&&null!==(n=j.user)&&void 0!==n&&n.isPaymentFailedUrl&&null!==j&&void 0!==j&&null!==(d=j.user)&&void 0!==d&&d.isPaymentTypeUser?"appeared-review-offcanvas":"dis-appeared-review-offcanvas"),children:(0,x.jsxs)(W.A.Body,{children:[(0,x.jsxs)("div",{className:"f-between px-4 py-3 border-bottom",children:[(0,x.jsx)("span",{className:"fs-6 fw-medium",children:(null===N||void 0===N?void 0:N.filter_add)||""}),(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"btn-active-primary",onClick:this.toogleFilter,children:(0,x.jsx)(v.gc,{icon:"xmark"})})]}),(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_tags)||""})}),(0,x.jsxs)(q.A.Body,{className:"px-5 py-1",children:[u,(0,x.jsx)("div",{id:"tag_post_btn",className:"collapse show","data-parent":"#tagspost",children:(0,x.jsx)(G,(0,l.A)({content:N,postTags:g},this.props))})]})]})}),(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_feeds)||""})}),(0,x.jsx)(q.A.Body,{className:"px-5 py-1",children:(0,x.jsx)("div",{id:"social_feed_btn",className:"collapse show","data-parent":"#post_type_drop",children:(0,x.jsx)("div",{className:"checkbox-list",children:null===f||void 0===f?void 0:f.map((e,t)=>{const s=Object.keys(c.filterBody).length>0&&c.filterBody.socialFeed.length>0?c.filterBody.socialFeed.filter(t=>t.value==e.id):[],l=!!(s&&s.length>0);return e.status?(0,x.jsxs)(p.A.Label,{className:"d-flex align-items-start mb-4",htmlFor:"moderationfeed".concat(e.id),children:[(0,x.jsx)(p.A.Check,{type:"checkbox",id:"moderationfeed".concat(e.id),value:e.id,"data-filter":e.filterId,onChange:this.onSelectFeeds(e.name,e.id,l),checked:l,style:{marginTop:2}}),(0,x.jsx)(M.A,{className:"mx-2",src:(0,v.pc)("media/icons/social-icons/".concat((0,A.EC)(e.networkId),".svg")),height:20,width:20,fluid:!0}),(0,x.jsx)("span",{className:"fil_network",children:(0,z.Ay)(e.name)})]},t):""})})})})]})}),(null===y||void 0===y?void 0:y.length)>0?(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_language)||""})}),(0,x.jsx)(q.A.Body,{className:"px-5 py-1",children:(0,x.jsx)("div",{id:"lang_post_btn",className:"collapse show","data-parent":"#post_type_drop",children:(0,x.jsx)("div",{className:"checkbox-list",children:null===y||void 0===y?void 0:y.map((e,t)=>{var s,l;const i=$.Co.find(t=>t.value==e),o=(null===c||void 0===c||null===(s=c.filterBody)||void 0===s?void 0:s.languageCodes.value)==e;return i?(0,x.jsxs)(p.A.Label,{className:"d-flex align-items-start mb-4",htmlFor:"moderationLang".concat(t),children:[(0,x.jsx)(p.A.Check,{type:"checkbox",id:"moderationLang".concat(t),value:e,onChange:this.onClickLanguage(i,o),checked:o,style:{marginTop:2}}),(0,x.jsx)(M.A,{className:"mx-2 border",src:"".concat(V.P_W,"media/images/flags/").concat(null===i||void 0===i?void 0:i.value,".svg"),height:20,width:20,fluid:!0}),(0,x.jsx)("span",{className:"fil_network",children:null!==(l=null===i||void 0===i?void 0:i.label)&&void 0!==l?l:""})]},t):null})})})})]})}):null,(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_type)||""})}),(0,x.jsxs)(q.A.Body,{className:"px-5 py-1",children:[(0,x.jsx)(Q,(0,l.A)((0,l.A)({value:"1",onClickPostType:this.onClickPostType},this.props),{},{label:"".concat((null===N||void 0===N?void 0:N.type_text)||""),id:"text_only"}),"00"),(0,x.jsx)(Q,{value:"2,4",onClickPostType:this.onClickPostType,moderation:c,label:"".concat((null===N||void 0===N?void 0:N.type_image)||""),id:"image_only"},"01"),(0,x.jsx)(Q,{value:"3,5",onClickPostType:this.onClickPostType,moderation:c,label:"".concat((null===N||void 0===N?void 0:N.type_video)||""),id:"video_only"},"02"),(0,x.jsx)(Z,{value:"1",onClickOther:this.onClickOther,moderation:c,label:"".concat((null===N||void 0===N?void 0:N.type_ugc)||""),id:"tagProduct"},"03")]})]})}),(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_ai)||""})}),(0,x.jsxs)("div",{style:{position:"relative"},children:[!b&&(0,x.jsx)("div",{style:{position:"absolute",top:"45%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1,textAlign:"center"},children:(0,x.jsx)(L.N_,{to:"/price",className:"btn btn-sm btn-primary",children:(null===N||void 0===N?void 0:N.btn_upgrade)||""})}),(0,x.jsx)("div",{style:{filter:b?"none":"blur(4px)",pointerEvents:b?"auto":"none",opacity:b?1:.7},children:(0,x.jsx)(q.A.Body,{className:"px-5 py-1",children:(0,A.OZ)(3).map((e,t)=>(0,x.jsx)(J,(0,l.A)((0,l.A)({value:String(t+1),onClickAi:this.onClickAi},this.props),{},{label:"".concat(0==t?(null===N||void 0===N?void 0:N.ai_recom)||"":1==t?(null===N||void 0===N?void 0:N.ai_consider)||"":(null===N||void 0===N?void 0:N.ai_not_recom)||""),id:0==t?"recom":1==t?"consider":"not_recom"}),t))})})]})]})}),(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_sentiment)||""})}),(0,x.jsx)(q.A.Body,{className:"px-5 py-1",children:(0,A.OZ)(3).map((e,t)=>(0,x.jsx)(X,(0,l.A)((0,l.A)({value:String(t+1),onClickSentiment:this.onClickSentiment},this.props),{},{label:"".concat(0==t?(null===N||void 0===N?void 0:N.sent_pos)||"":1==t?(null===N||void 0===N?void 0:N.sent_neut)||"":(null===N||void 0===N?void 0:N.sent_neg)||""),id:0==t?"pos":1==t?"neut":"neg"}),t))})]})}),w?(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_rating)||""})}),(0,x.jsx)(q.A.Body,{className:"px-5 py-1",children:(0,A.OZ)(5).map((e,t)=>(0,x.jsx)(ee,(0,l.A)((0,l.A)({value:5-t,onClickRating:this.onClickRating},this.props),{},{id:5-t}),t))})]})}):null,(0,x.jsx)(q.A,{className:"border-bottom",flush:!0,children:(0,x.jsxs)(q.A.Item,{defaultactivekey:"0",children:[(0,x.jsx)(q.A.Header,{children:(0,x.jsx)("span",{className:"text-uppercase fs-8 fw-medium",children:(null===N||void 0===N?void 0:N.filter_other)||""})}),(0,x.jsxs)(q.A.Body,{className:"px-5 py-1",children:[(0,x.jsx)(Z,{value:"1",onClickOther:this.onClickOther,moderation:c,label:"".concat((null===N||void 0===N?void 0:N.other_pin)||""),id:"pinFilter"},0),(0,x.jsx)(Z,{value:"1",onClickOther:this.onClickOther,moderation:c,label:"".concat((null===N||void 0===N?void 0:N.other_recent)||""),id:"recentFilter"},1)]})]})}),(0,x.jsx)("div",{className:"d-flex flex-column mx-5 py-4",children:(0,x.jsx)(m.A,{variant:"link",onClick:this.props.removeAllFilterBody,className:"",children:(null===N||void 0===N?void 0:N.btn_reset)||""})})]})})}}const se=(0,o.Ng)(e=>{var t,s;return{moderation:e.moderation,manageFeeds:e.manageFeeds,allWalls:null===(t=e.dashboardData)||void 0===t||null===(s=t.dashboarddata)||void 0===s?void 0:s.allWalls}},e=>({updateFilterPostTags:t=>e((0,h.Ln)(t)),updateFilterSocialFeeds:t=>e((0,h.g0)(t)),updateFilterPostType:t=>e((0,h.qO)(t)),updateFilterOthers:t=>e((0,h.x8)(t)),removeFilterSocialFeeds:t=>e((0,h.dA)(t)),removeFilterPostType:t=>e((0,h.J0)(t)),removeFilterOthers:t=>e((0,h.iq)(t)),removeFilterPostTags:t=>e((0,h.Sm)(t)),removeAllFilterBody:()=>e((0,h.ud)()),aiFilter:t=>e((0,h.xo)(t)),removeAiFilter:t=>e((0,h.BC)(t)),sentimentFilter:t=>e((0,h.mm)(t)),removeSentimentFilter:t=>e((0,h.KC)(t)),ratingFilter:t=>e((0,h.Um)(t)),removeRatingFilter:t=>e((0,h.Ag)(t)),postLangFilter:t=>e((0,h.hk)(t)),removePostLangFilter:()=>e((0,h.lO)())}))(te),le=e=>{let{children:t}=e;return(0,x.jsx)(d.A,{bg:"gray-200",className:"rounded-pill badge-light-secondary",children:t})};class ie extends i.Component{constructor(){super(...arguments),this.onSelectFeeds=e=>t=>this.props.removeFilterSocialFeeds(e),this.onClickPostType=e=>t=>this.props.removeFilterPostType(e),this.onClickOther=e=>t=>this.props.removeFilterOthers(e),this.onClickRemovePostTags=e=>t=>this.props.removeFilterPostTags(e),this.onClickToDateRangeRemove=e=>this.props.removeDateRanges(),this.onClickAi=e=>t=>this.props.removeAiFilter(e),this.onClickSentiment=e=>t=>this.props.removeSentimentFilter(e),this.onClickRating=e=>t=>this.props.removeRatingFilter(e),this.onClickLanguage=()=>this.props.removePostLangFilter()}render(){var e,t,s,l,i,o;const{filterBody:a}=this.props,n=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{};return a.socialFeed.length>0||a.postType.length>0||a.postTags.length>0||a.other.length>0||Object.keys(a.dateRanges).length>0||a.recommendation.length>0||a.sentiment.length>0||a.rating.length>0||null!==(l=a.languageCodes)&&void 0!==l&&l.value?(0,x.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,x.jsxs)("span",{className:"text-muted fw-medium me-2 my-2 text-nowrap",children:[(null===n||void 0===n?void 0:n.filter_by)||"",": "]}),(0,x.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object.keys(a.dateRanges).length>0?(0,x.jsx)(ae,{label:"".concat(a.dateRanges.startDate," - ").concat(a.dateRanges.endDate),onClick:this.onClickToDateRangeRemove}):null,a.postTags&&a.postTags.map((e,t)=>(0,x.jsx)(ae,{label:e,onClick:this.onClickRemovePostTags(e)},t)),a.socialFeed&&a.socialFeed.map((e,t)=>(0,x.jsx)(ae,{label:"onsiteupload"==e.key?"SnapUp":(0,z.Ay)(e.key),onClick:this.onSelectFeeds(e)},t)),a.postType&&a.postType.map((e,t)=>"1"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.type_text)||"",onClick:this.onClickPostType(e)},t):"2,4"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.type_image)||"",onClick:this.onClickPostType(e)},t):"3,5"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.type_video)||"",onClick:this.onClickPostType(e)},t):null),a.other&&a.other.map(e=>"highlightFilter"==e.key?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.highlight_post)||"",onClick:this.onClickOther(e)},e.key):"pinFilter"==e.key?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.other_pin)||"",onClick:this.onClickOther(e)},e.key):"recentFilter"==e.key?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.other_recent)||"",onClick:this.onClickOther(e)},e.key):"retweetsFilter"==e.key?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.other_retweets)||"",onClick:this.onClickOther(e)},e.key):"tagProduct"==e.key?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.type_ugc)||"",onClick:this.onClickOther(e)},e.key):null),a.recommendation&&a.recommendation.map(e=>"1"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.ai_recom)||"",onClick:this.onClickAi(e)},e):"2"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.ai_consider)||"",onClick:this.onClickAi(e)},e):"3"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.ai_not_recom)||"",onClick:this.onClickAi(e)},e):null),a.sentiment&&a.sentiment.map(e=>"1"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.sent_pos)||"",onClick:this.onClickSentiment(e)},e):"2"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.sent_neut)||"",onClick:this.onClickSentiment(e)},e):"3"==e?(0,x.jsx)(ae,{label:(null===n||void 0===n?void 0:n.sent_neg)||"",onClick:this.onClickSentiment(e)},e):null),a.rating&&a.rating.map(e=>(0,x.jsx)(ae,{label:"".concat(e," Star"),onClick:this.onClickRating(e)},e)),null!==(i=a.languageCodes)&&void 0!==i&&i.value?(0,x.jsx)(ae,{label:(null===(o=a.languageCodes)||void 0===o?void 0:o.label)||"",onClick:this.onClickLanguage}):null,(0,x.jsx)(m.A,{variant:"dark",className:"rounded-pill py-1 m-1",onClick:this.props.removeAllFilterBody,children:(null===n||void 0===n?void 0:n.reset)||""})]})]}):null}}const oe=(0,o.Ng)(e=>({moderation:e.moderation}),e=>({removeFilterSocialFeeds:t=>e((0,h.dA)(t)),removeFilterPostType:t=>e((0,h.J0)(t)),removeFilterOthers:t=>e((0,h.iq)(t)),removeFilterPostTags:t=>e((0,h.Sm)(t)),removeDateRanges:()=>e((0,h.DC)()),removeAllFilterBody:()=>e((0,h.ud)()),removeAiFilter:t=>e((0,h.BC)(t)),removeSentimentFilter:t=>e((0,h.KC)(t)),removeRatingFilter:t=>e((0,h.Ag)(t)),removePostLangFilter:()=>e((0,h.lO)())}))(ie),ae=e=>{let{label:t,onClick:s}=e;return(0,x.jsxs)(le,{children:[t,(0,x.jsx)(m.A,{variant:"icon",className:"p-0 bg-gray-200 rounded-circle border-0 h-18px w-18px ms-2",onClick:s,children:(0,x.jsx)(v.gc,{type:"solid",icon:"xmark"})})]})};var ne=s(53556),de=(s(44444),s(92329)),ce=s(82094),re=s(36431);class he extends i.Component{constructor(e){super(e),this.handleThumbs=e=>{this.mainRef.current&&this.mainRef.current.go(e)},this.mainRef=i.createRef()}render(){const{ugcData:e}=this.props;return e.data&&e.data.length,(0,x.jsx)("div",{className:"mx-auto",style:{maxWidth:450},children:(0,x.jsxs)(ne.eB,{hasTrack:!1,options:{arrows:!1},children:[(0,x.jsx)(ne.v9,{children:e.data&&e.data.length?e.data.map((e,t)=>(0,x.jsx)(ne.Nn,{children:(0,x.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,x.jsx)(ce.A,{mediaClass:"position-relative overflow-hidden w-100",size:100,height:64,width:64,url:e.postFile,alt:"",isCover:!0}),(0,x.jsxs)("div",{className:"p-3",children:[(0,x.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,x.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,x.jsx)(re.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fw-bolder fs-5",name:e.name,profileUrl:e.picture,networkId:e.networkId}),(0,x.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,x.jsx)("p",{className:" mb-0",children:(0,x.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.name})}),(0,x.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",e.username]})]})]}),(0,x.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:(0,A.Oi)(e.networkId)}),children:(0,x.jsx)("img",{className:"img-fluid h-100",src:(0,v.pc)("media/icons/social-icons/".concat((0,A.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,A.Oi)(e.networkId),"data-invert":(0,A.Oi)(e.networkId)})})})]}),(0,x.jsx)(de.A,{classes:"mb-3",content:e.content,idIndex:e.id,line:4})]})]})},t)):null}),e.data&&e.data.length>1?(0,x.jsxs)("div",{className:"splide__arrows",children:[(0,x.jsx)(m.A,{variant:"secondary",className:"splide__arrow splide__arrow--prev start-0",children:(0,x.jsx)(v.gc,{type:"solid",icon:"arrow-right"})}),(0,x.jsx)(m.A,{variant:"secondary",className:"splide__arrow splide__arrow--next end-0",children:(0,x.jsx)(v.gc,{type:"solid",icon:"arrow-right"})})]}):null]})})}}var me=s(96011),ue=s.n(me);s(70703);class pe extends i.Component{constructor(){var e,t,s;super(...arguments),this.state={openSteps:!1,copied:!1,hash:"yes",accountDetails:{},postUrl:""},this.content=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{},this.sendRequest=()=>{const{onRaiseRequest:e,setUserName:t}=this.props;e(this.state.hash)},this.copyText=()=>{var e,t;const{ugcData:s,custom_msg:l,requestMode:i,userData:o}=this.props,a=null!==s&&void 0!==s&&s.data&&null!==s&&void 0!==s&&s.data[0]?null===s||void 0===s?void 0:s.data[0].link:"";(e=>{var t=JSON.stringify({url:e}),s={method:"post",url:"".concat(V.PXB,"?api_token=").concat("YhhvoiyS1HLShf3CsiZAUsUZK2qTY1JGrJ045Z12sipRKGeEbM1FVHnQVd4f"),headers:{accept:"application/json","Content-Type":"application/json"},data:t};return ue()(s)})(a).then(e=>{const{data:t}=e.data;this.setState({postUrl:null===t||void 0===t?void 0:t.tiny_url})}).catch(e=>{this.setState({postUrl:a})}),0==i?navigator.clipboard.writeText(s.bitlyurl):142546==(null===o||void 0===o||null===(e=o.user)||void 0===e?void 0:e.id)?navigator.clipboard.writeText(l):navigator.clipboard.writeText((0,A.dz)(null===(t=this.content)||void 0===t?void 0:t.copy_msg,{custom_msg:l,hash:this.state.hash}))},this.raiseReq=()=>{var e,t;const{ugcData:s,custom_msg:l,requestMode:i,userData:o}=this.props;""!=this.state.hash&&this.state.hash?(this.sendRequest(),0==i?navigator.clipboard.writeText(l+" Post : "+this.state.postUrl+" . Form Link : "+s.bitlyurl):142546==(null===o||void 0===o||null===(e=o.user)||void 0===e?void 0:e.id)?navigator.clipboard.writeText(l):navigator.clipboard.writeText((0,A.dz)(null===(t=this.content)||void 0===t?void 0:t.copy_msg,{custom_msg:l,hash:this.state.hash})),18!=s.data[0].networkId&&2!=s.data[0].networkId||0!=i?setTimeout(()=>window.open(s.data[0].link,"_blank"),400):setTimeout(()=>window.open("https://ig.me/m/".concat(s.data[0].username),"_blank"),400),setTimeout(()=>{window.location.replace("".concat(V.btP,"content/moderation/").concat(localStorage.getItem("wallId")))},400)):(0,A.r$)("Hashtag for UGC Rights is required!")}}componentDidMount(){this.copyText()}render(){var e,t,s,l,i,o,a,n,d,c,r,h,g,j,b,f,y,w,N,_,k,C,T,S,P,D;const{ugcData:I,custom_msg:F,setStep:M,requestMode:O,isRequesting:L,userData:U}=this.props,{openSteps:E,copied:B,hash:R}=this.state;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap",children:[(0,x.jsx)("h3",{className:"mb-3",children:null!==(e=null===(t=this.content)||void 0===t?void 0:t.ready_title)&&void 0!==e?e:""}),(0,x.jsx)("div",{className:"form-group ugc_right_col",children:(0,x.jsx)(p.A.Group,{className:"mb-3",children:(0,x.jsx)(p.A.Control,{as:"textarea",id:"r_msg",maxLength:"255",cols:"30",rows:"6",value:0==O?F:142546==(null===U||void 0===U||null===(s=U.user)||void 0===s?void 0:s.id)?"".concat(F):(0,A.dz)(null===(l=this.content)||void 0===l?void 0:l.copy_msg,{custom_msg:F,hash:R})||"",disabled:!0})})}),1==O?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"form-group ugc_right_col",children:(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{htmlFor:"ugc_rights_hash_value",children:[null!==(i=null===(o=this.content)||void 0===o?void 0:o.ready_enter_hashtag)&&void 0!==i?i:""," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,x.jsx)(p.A.Control,{as:"textarea",id:"ugc_rights_hash_value",maxLength:"255",cols:"30",rows:"6",value:R,onChange:e=>this.setState({hash:e.target.value})})]})})}):null,0==O?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(u.A,{className:"mb-3",children:[(0,x.jsx)(u.A.Text,{className:"cursor-pointer",children:(0,x.jsx)(v.gc,{type:"solid",icon:"link"})}),(0,x.jsx)(p.A.Control,{className:"p-2",size:"lg",value:I.bitlyurl?String(I.bitlyurl):"---"})]}),(0,x.jsx)(m.A,{variant:"primary",className:"w-100 mb-4",onClick:()=>this.setState({copied:!0},()=>this.copyText()),children:B?null!==(d=null===(c=this.content)||void 0===c?void 0:c.btn_url_copied)&&void 0!==d?d:"":null!==(a=null===(n=this.content)||void 0===n?void 0:n.copy_url)&&void 0!==a?a:""})]}):null,(0,x.jsx)("h5",{children:null!==(r=null===(h=this.content)||void 0===h?void 0:h.ready_steps_title)&&void 0!==r?r:""}),(0,x.jsxs)("ul",{className:"list-unstyled list-points fs-8",children:[(0,x.jsx)("li",{className:"mb-1",children:null!==(g=null===(j=this.content)||void 0===j?void 0:j.step_1)&&void 0!==g?g:""}),(0,x.jsx)("li",{className:"mb-1",children:null!==(b=null===(f=this.content)||void 0===f?void 0:f.step_2)&&void 0!==b?b:""}),(0,x.jsx)("li",{className:"mb-1",children:null!==(y=null===(w=this.content)||void 0===w?void 0:w.step_3)&&void 0!==y?y:""}),(0,x.jsx)("li",{className:"mb-1",children:null!==(N=null===(_=this.content)||void 0===_?void 0:_.step_4)&&void 0!==N?N:""}),(0,x.jsx)("li",{className:"mb-1",children:null!==(k=null===(C=this.content)||void 0===C?void 0:C.step_5)&&void 0!==k?k:""})]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end p-4 border-top",children:[(0,x.jsx)(m.A,{variant:"secondary",className:"me-2",onClick:()=>M(2),children:null!==(T=null===(S=this.content)||void 0===S?void 0:S.btn_back)&&void 0!==T?T:""}),(0,x.jsx)(m.A,{className:L?"spinner":"",onClick:()=>this.raiseReq(),children:null!==(P=null===(D=this.content)||void 0===D?void 0:D.btn_raise_request)&&void 0!==P?P:""})]})]})}}const ve=(0,o.Ng)(e=>{var t,s;return{userData:null===(t=e.authorized)||void 0===t||null===(s=t.userData)||void 0===s?void 0:s.user_data}})(pe);var xe=s(76955),ge=s(3302),je=s.n(ge),be=s(49332);class fe extends i.Component{constructor(){super(...arguments),this.uppyUploader=new be.A,this.uppyUploaderPdf=new be.A(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),this.state={postauthor:null,posthandle:null,authorpicture:null,postcarousel:!1,content:null,data:null,modalOpen:!1,createTemplate:!1,brandFilename:this.props.editData.client_logo,selectedBrand:this.props.editData.client_logo_name,selectedBrandFile:this.props.editData.client_logo,tncFilename:this.props.editData.custom_terms,selectedtnc:this.props.editData.custom_terms_name,selectedtncFile:this.props.editData.custom_terms,selectedTemplate:null,acceptTnc:!1,logoError:!1,tncError:!1,templateName:this.props.editData.name,custom_msg:this.props.editData.custom_message,tncerrorMsg:!1,nameerrorMsg:!1,msgerrorMsg:!1},this.onClickToOpenBrand=()=>{this.setState({brandModalOpen:!0}),je()(".uppy-Dashboard-close").click(()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})})},this.onClickToCloseBrand=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},this.onClickToOpenTnc=()=>{this.setState({tncModalOpen:!0}),je()(".uppy-Dashboard-close").click(()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})})},this.onClickToCloseTnc=()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},this.removeBrandLogo=()=>{this.setState({selectedBrand:"",selectedBrandFile:null,brandFilename:null})},this.removeTnc=()=>{this.setState({tncFilename:null,selectedtnc:"",selectedtncFile:null})},this.onSaveTemplate=()=>{const{createTemplate:e,selectedBrand:t,tncFilename:s,brandFilename:i,selectedtnc:o,selectedtncFile:a,selectedTemplate:n,templateName:d,selectedBrandFile:c,custom_msg:r}=this.state;if(r&&d&&s&&i){var h={owner:localStorage.getItem("ownerId"),name:d,custom_message:r,custom_terms:o,custom_terms_name:s,client_logo:t,client_logo_name:i};this.props.edit&&(h=(0,l.A)((0,l.A)({},h),{},{id:this.props.editData.id})),this.props.ADD_UGC_TEMPLATE(h,this.props.onAddNewTemplate)}else r||this.setState({msgerrorMsg:!0}),d||this.setState({nameerrorMsg:!0}),s||this.setState({tncerrorMsg:!0}),i||this.setState({logoError:!0})}}componentDidMount(){this.uppyUploader.uppy.on("transloadit:result",(e,t)=>{this.setState({selectedBrandFile:"".concat($.$r).concat(t.id,".").concat(t.ext),brandFilename:t.name,selectedBrand:"".concat($.$r).concat(t.id,".").concat(t.ext),logoError:!1},()=>{setTimeout(()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},300)})}),this.uppyUploaderPdf.uppy.on("transloadit:result",(e,t)=>{this.setState({selectedtncFile:"".concat($.$r).concat(t.id,".").concat(t.ext),tncFilename:t.name,selectedtnc:"".concat($.$r).concat(t.id,".").concat(t.ext),tncerrorMsg:!1},()=>{setTimeout(()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},300)})})}render(){var e,t,s,l,i,o;const{show:a,onHide:n,saveTemplate:d,edit:c}=this.props,{brandModalOpen:r,tncModalOpen:h,createTemplate:g,selectedBrand:j,tncFilename:b,logoError:f,selectedtncFile:y,selectedTemplate:w,acceptTnc:N,tncError:_,selectedBrandFile:k,templateName:C,custom_msg:A,brandFilename:T,tncerrorMsg:S,nameerrorMsg:I,msgerrorMsg:O}=this.state,L=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(F.A,{size:"lg",show:a,onHide:n,centered:!0,children:[(0,x.jsx)(F.A.Header,{closeButton:!0,children:(0,x.jsxs)(F.A.Title,{children:[c?null===L||void 0===L?void 0:L.tmpl_edit:null===L||void 0===L?void 0:L.tmpl_create," ",null===L||void 0===L?void 0:L.tmpl_title]})}),(0,x.jsxs)(F.A.Body,{children:[(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{htmlFor:"t_name",children:[null===L||void 0===L?void 0:L.tmpl_name_label," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,x.jsx)(p.A.Control,{placeholder:null===L||void 0===L?void 0:L.tmpl_name_ph,autoComplete:"off",id:"t_name",className:"".concat(I?"is-invalid":""),value:C,onChange:e=>this.setState({templateName:e.target.value,nameerrorMsg:!1}),maxLength:"255"}),(0,x.jsx)("span",{id:"t_nameerror",className:"invalid-feedback",children:I?null===L||void 0===L?void 0:L.tmpl_name_error:""})]}),(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{htmlFor:"t_msg",children:[null===L||void 0===L?void 0:L.tmpl_msg_label," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,x.jsx)(p.A.Control,{as:"textarea",className:"".concat(O?"is-invalid":""),id:"t_msg",maxLength:"255",cols:"30",rows:"6",value:A,onChange:e=>this.setState({custom_msg:e.target.value,msgerrorMsg:!1})}),(0,x.jsx)("span",{id:"t_msgerror",className:"invalid-feedback",children:O?null===L||void 0===L?void 0:L.tmpl_msg_error:""})]}),(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{htmlFor:"t_logo",children:[null===L||void 0===L?void 0:L.tmpl_logo_label," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),k?(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"me-3 me-xxl-4",children:(0,x.jsx)("div",{className:"symbol h-90px w-90px position-relative rounded-2 overflow-hidden",children:(0,x.jsx)(M.A,{src:null!==k&&void 0!==k&&k.includes("https://cloud.tag")?k:"".concat(V.kuD).concat(V.CcE,"/").concat(k),alt:"",height:90,width:90,className:"object-center-cover",load:"lazy",fluid:!0})})}),(0,x.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,x.jsx)("div",{className:"d-flex flex-column align-items-center flex-nowrap mb-0",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null===L||void 0===L?void 0:L.tmpl_logo_remove}),children:(0,x.jsx)(m.A,{variant:"icon",className:"btn-active-danger","aria-label":"remove",onClick:this.removeBrandLogo,children:(0,x.jsx)(v.gc,{type:"solid",icon:"trash-can"})})})})})]}):(0,x.jsx)("div",{className:"p-6 border border-dashed rounded-2 cursor-pointer ".concat(f?"is-invalid border-danger":""),onClick:()=>this.onClickToOpenBrand(),style:{maxWidth:300},children:(0,x.jsx)("p",{className:"mb-0 text-center text-muted fw-medium",children:null===L||void 0===L?void 0:L.tmpl_logo_upload})}),(0,x.jsx)("span",{id:"t_logoerror",className:"invalid-feedback",children:null===L||void 0===L?void 0:L.tmpl_logo_error})]}),(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{htmlFor:"t_msg",children:[null===L||void 0===L?void 0:L.tmpl_tnc_label,(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsxs)(u.A,{className:"".concat(S?"is-invalid":""),children:[(0,x.jsx)("div",{className:"form-control form-control-lg",children:y?(0,x.jsxs)("div",{className:"overflow-hidden d-flex align-items-center",children:[(0,x.jsx)("span",{className:"text-ellipsis fs-8 p-1 rounded-1",children:b}),(0,x.jsx)("span",{className:"cursor-pointer p-1 mx-1 rounded-1 f-center text-center text-danger",onClick:this.removeTnc,children:(0,x.jsx)(v.gc,{type:"solid",icon:"xmark"})})]}):""}),(0,x.jsx)(u.A.Text,{className:"cursor-pointer",onClick:()=>this.onClickToOpenTnc(),children:null===L||void 0===L?void 0:L.tmpl_tnc_attach})]}),(0,x.jsx)("span",{id:"tcError",className:"invalid-feedback",children:S?null===L||void 0===L?void 0:L.tmpl_tnc_error:""})]})]}),(0,x.jsxs)(F.A.Footer,{children:[(0,x.jsx)(m.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:n,children:null===(l=window)||void 0===l||null===(i=l.APP_CONTENT)||void 0===i||null===(o=i.common)||void 0===o?void 0:o.cancel}),(0,x.jsx)(m.A,{className:"ms-3 btn-min-w",onClick:this.onSaveTemplate,children:null===L||void 0===L?void 0:L.btn_save})]}),(0,x.jsx)(xe.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:r,onRequestCloseModal:this.onClickToCloseBrand,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam"]}),(0,x.jsx)(xe.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploaderPdf.uppy,open:h,onRequestCloseModal:this.onClickToCloseTnc,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Url","Webcam"]})]})})}}const ye=(0,o.Ng)(e=>({}),e=>({ADD_UGC_TEMPLATE:(t,s)=>e((0,h.Zu)(t,s))}))(fe);var we=s(78700);class Ne extends i.Component{constructor(){super(...arguments),this.state={postauthor:null,posthandle:null,authorpicture:null,postcarousel:!1,content:null,data:null,modalOpen:!1,createTemplate:!1,brandFilename:null,selectedBrand:"",selectedBrandFile:null,tncFilename:null,selectedtnc:"",selectedtncFile:null,selectedTemplate:this.props.selectedTemplate,tncError:this.props.tncError,custom_message:this.props.custom_msg,isEdit:!1,editData:{}},this.uppyUploader=new be.A,this.uppyUploaderPdf=new be.A(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]),this.onClickToOpenBrand=()=>{this.setState({brandModalOpen:!0}),je()(".uppy-Dashboard-close").click(()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})})},this.onClickToCloseBrand=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},this.onClickToOpenTnc=()=>{this.setState({tncModalOpen:!0}),je()(".uppy-Dashboard-close").click(()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})})},this.onClickToCloseTnc=()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},this.onCreateTemplate=()=>{this.setState({createTemplate:!0})},this.onAddNewTemplate=e=>{this.getSelectedTemplate(e)&&this.onTemplateChange(e),this.setState({createTemplate:!1,isEdit:!1,editData:{}})},this.onHideTemplate=()=>{this.setState({createTemplate:!1,isEdit:!1,editData:{}})},this.getSelectedTemplate=e=>{const{ugcData:t}=this.props,{selectedTemplate:s}=this.state,l=e||s;if(localStorage.setItem("selectedTemplate",l),t&&t.template&&t.template.length){if(!l)return t.template[0];return t.template.filter(e=>e.id==l)[0]}return null},this.onNextStep=()=>{const{acceptTnc:e,requestMode:t,onUpdateTemplate:s}=this.props;s(),1==t||e&&0==t?this.props.setStep(2):this.setState({tncError:!0},()=>this.props.setTncError(!0))},this.onTemplateChange=e=>{const t=this.getSelectedTemplate(e);t&&this.setState({selectedTemplate:e},()=>{this.setState({custom_message:t.custom_message,tncFilename:t.custom_terms_name,selectedtnc:t.custom_terms,selectedtncFile:t.custom_terms,brandFilename:t.client_logo_name,selectedBrand:t.client_logo,selectedBrandFile:t.client_logo}),this.props.setCustom_msg(null===t||void 0===t?void 0:t.custom_message),this.props.setSelectedTemplate(e)})},this.onTemplateRemove=e=>{this.props.deleteTemplate({owner:e.owner,id:e.id},()=>this.onTemplateChange(1))},this.onTemplateEdit=e=>{this.onCreateTemplate(),this.setState({isEdit:!0,editData:e})},this.removeBrandLogo=()=>{this.setState({selectedBrand:"",selectedBrandFile:null,brandFilename:null})},this.removeTnc=()=>{this.setState({tncFilename:null,selectedtnc:null,selectedtncFile:null})}}componentDidMount(){const{ugcData:e,setBrand_link:t,setTermslink:s,setTermstype:l,brand_link:i}=this.props;this.uppyUploader.uppy.on("transloadit:result",(e,s)=>{t("".concat($.$r).concat(s.id,".").concat(s.ext)),this.setState({selectedBrandFile:"".concat(s.id,".").concat(s.ext),brandFilename:s.name,selectedBrand:"".concat($.$r).concat(s.id,".").concat(s.ext)},()=>{setTimeout(()=>{this.uppyUploader.uppy.cancelAll(),this.setState({brandModalOpen:!1})},300)})}),this.uppyUploaderPdf.uppy.on("transloadit:result",(e,t)=>{this.setState({selectedtncFile:"".concat(t.id,".").concat(t.ext),tncFilename:t.name,selectedtnc:"".concat($.$r).concat(t.id,".").concat(t.ext)},()=>{setTimeout(()=>{this.uppyUploaderPdf.uppy.cancelAll(),this.setState({tncModalOpen:!1})},300)}),s("".concat($.$r).concat(t.id,".").concat(t.ext)),l(t.name)}),this.onTemplateChange(this.props.selectedTemplate),setTimeout(()=>{e&&e.template&&e.template.length&&!this.state.selectedTemplate&&this.setState({tncFilename:e.template[0].custom_terms_name,selectedtnc:e.template[0].custom_terms,selectedtncFile:e.template[0].custom_terms}),i&&this.setState({selectedBrandFile:i})},500)}render(){var e,t,s,l,i,o,a,n,d,r,h;const{brandModalOpen:g,tncModalOpen:j,createTemplate:b,selectedBrand:f,selectedBrandFile:y,tncFilename:w,selectedtncFile:N,selectedTemplate:_,tncError:k,custom_message:C,isEdit:A,editData:T,brandFilename:S}=this.state,{ugcData:I,setCustom_msg:F,setAcceptTnc:O,acceptTnc:U,hideUgc:E,setBrand_link:B,setTermslink:R,setTermstype:Y,requestMode:z}=this.props,H=null!==(e=null===(t=window.APP_CONTENT)||void 0===t?void 0:t.moderation)&&void 0!==e?e:{};return(0,x.jsxs)(x.Fragment,{children:[I&&I.template&&I.template.length?(0,x.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap",children:[(0,x.jsxs)("div",{className:"form-group ugc_right_col",children:[(0,x.jsxs)("div",{className:"d-flex f-between mb-3",children:[(0,x.jsx)(p.A.Label,{className:"mb-0",children:null===H||void 0===H?void 0:H.tmpl_choose}),(0,x.jsxs)(m.A,{variant:"link",size:"sm",onClick:this.onCreateTemplate,children:[(0,x.jsx)(v.gc,{icon:"plus"}),null===H||void 0===H?void 0:H.tmpl_create," ",null===H||void 0===H?void 0:H.tmpl_title]})]}),(0,x.jsxs)(c.A,{className:"ugc-templates mb-3",onSelect:e=>this.onTemplateChange(e),children:[(0,x.jsx)(c.A.Toggle,{variant:"secondary",className:"w-100 d-flex f-between",children:null===(s=this.getSelectedTemplate())||void 0===s?void 0:s.name}),(0,x.jsx)(c.A.Menu,{className:"w-100 dropdown-height",children:I.template&&I.template.map(e=>(0,x.jsxs)(c.A.Item,{eventKey:e.id,className:"f-between",children:[(0,x.jsx)("span",{className:"text-ellipsis",children:e.name}),0!=e.owner?(0,x.jsxs)("span",{className:"dropdown-option",children:[(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"ms-2 p-1 border-0 h-24px w-24px","aria-label":"edit",onClick:()=>this.onTemplateEdit(e),children:(0,x.jsx)(v.gc,{type:"solid",icon:"pen"})}),(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"ms-2 p-1 border-0 h-24px w-24px","aria-label":"delete",onClick:()=>this.onTemplateRemove(e),children:(0,x.jsx)(v.gc,{type:"solid",icon:"trash-can"})})]}):null," "]},"drp_".concat(e.id)))})]})]}),(0,x.jsx)("div",{className:"form-group ugc_right_col",children:(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{htmlFor:"r_msg",children:[H.tmpl_msg_label," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})," "]}),(0,x.jsx)(p.A.Control,{as:"textarea",id:"r_msg",maxLength:"255",cols:"30",rows:"6",value:C,onChange:e=>this.setState({custom_message:e.target.value},()=>F(e.target.value)),children:null!==(l=this.getSelectedTemplate())&&void 0!==l&&l.custom_message?null===(i=this.getSelectedTemplate())||void 0===i?void 0:i.custom_message:null===H||void 0===H?void 0:H.tmpl_msg_default})]})}),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsx)(p.A.Label,{htmlFor:"t_logo",children:null===H||void 0===H?void 0:H.tmpl_logo_label}),y?(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)("div",{className:"me-3 me-xxl-4",children:(0,x.jsx)("div",{className:"symbol h-90px w-90px position-relative rounded-2 bg-light overflow-hidden",children:(0,x.jsx)(M.A,{src:null!==(o=this.getSelectedTemplate())&&void 0!==o&&o.client_logo?null!==(a=this.getSelectedTemplate())&&void 0!==a&&null!==(n=a.client_logo)&&void 0!==n&&n.includes("https://cloud.tag")?null===(d=this.getSelectedTemplate())||void 0===d?void 0:d.client_logo:"".concat(V.kuD).concat(V.CcE,"/").concat(null===(r=this.getSelectedTemplate())||void 0===r?void 0:r.client_logo):f,alt:"",height:90,width:90,className:"object-center-cover",load:"lazy",fluid:!0})})}),(0,x.jsx)("div",{className:"d-flex align-items-center flex-wrap",children:(0,x.jsx)("div",{className:"d-flex flex-column align-items-center flex-nowrap mb-0",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null===H||void 0===H?void 0:H.tmpl_logo_remove}),children:(0,x.jsx)(m.A,{variant:"icon",className:"btn-active-danger","aria-label":"delete",onClick:this.removeBrandLogo,children:(0,x.jsx)(v.gc,{type:"solid",icon:"trash-can"})})})})})]}):(0,x.jsx)("div",{className:"p-6 border border-dashed rounded-2 cursor-pointer",onClick:()=>this.onClickToOpenBrand(),style:{maxWidth:300},children:(0,x.jsx)("p",{className:"mb-0 text-center text-muted fw-medium",children:null===H||void 0===H?void 0:H.tmpl_logo_upload})})]}),(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsx)(p.A.Label,{htmlFor:"t_msg",children:null===H||void 0===H?void 0:H.tmpl_tnc_label}),(0,x.jsxs)(u.A,{className:"mb-1",children:[(0,x.jsx)("div",{className:"form-control p-2",children:N?(0,x.jsxs)("div",{className:"overflow-hidden d-flex align-items-center",children:[(0,x.jsx)("span",{className:"text-ellipsis fs-8 bg-light p-1 rounded-1",children:w}),(0,x.jsx)("span",{className:"cursor-pointer p-1 mx-1 rounded-1 f-center text-center text-danger",onClick:this.removeTnc,children:(0,x.jsx)(v.gc,{icon:"xmark"})})]}):""}),(0,x.jsx)(u.A.Text,{className:"cursor-pointer",onClick:()=>this.onClickToOpenTnc(),children:null===H||void 0===H?void 0:H.tmpl_tnc_attach})]}),(0,x.jsx)("div",{className:"d-flex justify-content-end",children:(0,x.jsxs)(L.N_,{to:(0,v.pc)("media/downloads/Terms&ConditionsforuseofUGC.docx"),target:"_blank",className:"btn btn-link p-0 text-nowrap btn-sm",title:"Download Terms & Conditions",download:!0,children:[null===H||void 0===H?void 0:H.tnc_predefined,(0,x.jsx)(v.gc,{type:"solid",icon:"download",iconClass:"ms-1"})]})})]}),(0,x.jsxs)(p.A.Group,{className:"mb-1 d-flex",children:[(0,x.jsx)(p.A.Check,{type:"checkbox",id:"ugc-tc",className:"me-2 mt-1",value:U,onChange:e=>O(e.target.checked),checked:!!U}),(0,x.jsxs)(p.A.Label,{htmlFor:"ugc-tc",children:[null===H||void 0===H?void 0:H.accept_tc," ",(0,x.jsx)("a",{href:null===we.n||void 0===we.n||null===(h=we.n.links)||void 0===h?void 0:h.term,rel:"noreferrer",className:"fw-bold text-primary",target:"_blank",title:"Terms & Conditions",children:null===H||void 0===H?void 0:H.tmpl_tnc_label})," ",null===H||void 0===H?void 0:H.tnc_click]})]}),k&&!U?(0,x.jsx)("span",{id:"term_error",className:"text-danger",children:null===H||void 0===H?void 0:H.tnc_error}):null]})]}):null,(0,x.jsxs)("div",{className:"d-flex justify-content-end p-4 border-top",children:[(0,x.jsx)(m.A,{variant:"secondary",className:"me-2",onClick:()=>{this.props.setStep(4),this.setState({tncError:!1})},children:null===H||void 0===H?void 0:H.btn_back}),(0,x.jsx)(m.A,{onClick:()=>this.onNextStep(),children:null===H||void 0===H?void 0:H.btn_next})]}),(0,x.jsx)(xe.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:g,onRequestCloseModal:this.onClickToCloseBrand,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam"]}),(0,x.jsx)(xe.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploaderPdf.uppy,open:j,onRequestCloseModal:this.onClickToCloseTnc,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Url","Webcam"]}),b?(0,x.jsx)(ye,{show:!0,edit:A,editData:T,onHide:this.onHideTemplate,onAddNewTemplate:this.onAddNewTemplate}):null]})}}const _e=(0,o.Ng)(e=>({}),e=>({deleteTemplate:(t,s)=>e((0,h.fQ)(t,s))}))(Ne);var ke=s(80858),Ce=s(23317),Ae=s(59074),Te=s(28429),Se=s(9697);class Pe extends i.Component{constructor(){super(...arguments),this.state={socialAccount:0,authorName:null,authorAvatar:null,errorMsg:!1,otherAc:!1,accountDetails:{},accountList:[],selectedPersonalAccount:null},this.handleMessage=async e=>{try{const t=(0,A.KK)(e.data),{code:s,networkId:l,type:i}=t;"moderation-ugc"==i&&s&&await(0,Se.CJ)(l,s,()=>this.props.dispatch((0,Ae.xv)(null,()=>this.filterAccountData(l,null))))}catch(t){console.log("--- handleMessage error ---",t)}},this.filterAccountData=(e,t)=>{var s;const{socialAccountsData:l,setUserName:i}=this.props;let o=[];null===l||void 0===l||null===(s=l.accountInformations)||void 0===s||s.forEach(t=>{t.Network.id==e&&t.ConnectedAccounts&&(t.ConnectedAccounts.value2=t.ConnectedAccounts.accountName,o.push(t))}),1==e&&t&&o.unshift({ConnectedAccounts:{id:t.id_str,value2:t.name,profilePicture:t.picture},Network:{color:"#0F1419",description:"Twitter",icon:"fa-twitter",id:1,name:"Twitter",status:1}}),this.setState({accountList:o,selectedPersonalAccount:o[0]||""},()=>{var e;return i((null===(e=o[0])||void 0===e?void 0:e.ConnectedAccounts.value2)||"")})},this.sendRequest=()=>{const{setStep:e,setUserName:t}=this.props;this.state.accountDetails?(t(this.state.accountDetails.username),e(3)):this.setState({errorMsg:!0})},this.nextStep=()=>{const{setStep:e}=this.props;this.state.selectedPersonalAccount?e(3):this.setState({errorMsg:!0})}}componentDidMount(){var e;this.filterAccountData(2,null),document.cookie="callBackUrl=React",window.addEventListener("message",this.handleMessage),window.Application&&window.Application.reInit(),this.props.networkId==parseInt(null===(e=JSON.parse(localStorage.getItem("instagram_ugc")))||void 0===e?void 0:e.networkId)?this.setState({accountDetails:JSON.parse(localStorage.getItem("instagram_ugc"))}):this.setState({accountDetails:null})}componentWillUnmount(){localStorage.removeItem("networkId"),window.removeEventListener("message",this.handleMessage)}render(){var e,t,s,l,i,o;const{setStep:a,networkId:n,setUserName:d}=this.props,{errorMsg:r,accountList:h,selectedPersonalAccount:u}=this.state,p=null!==(e=null===(t=window.APP_CONTENT)||void 0===t?void 0:t.moderation)&&void 0!==e?e:{};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap",children:[(0,x.jsx)("div",{className:"ugc_steps ugc-logged-ac modal-body",children:(0,x.jsxs)(x.Fragment,{children:[u?(0,x.jsxs)(c.A,{style:{minWidth:220},id:"connectedAll",children:[(0,x.jsx)(c.A.Toggle,{variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between ".concat(r?"is-invalid border-danger":""),children:(0,x.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,x.jsx)(re.A,{className:"symbol symbol-30 symbol-circle flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label fs-8",name:u?null===u||void 0===u||null===(s=u.ConnectedAccounts)||void 0===s?void 0:s.accountName:"",profileUrl:u?null===u||void 0===u||null===(l=u.ConnectedAccounts)||void 0===l?void 0:l.profilePicture:"",networkId:u?null===u||void 0===u||null===(i=u.ConnectedAccounts)||void 0===i?void 0:i.networkId:""}),(0,x.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,x.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-8",children:u?null===u||void 0===u||null===(o=u.ConnectedAccounts)||void 0===o?void 0:o.accountName:""})})]})}),(0,x.jsxs)(c.A.Menu,{className:"w-100",children:[(0,x.jsxs)("div",{className:"navi flex-column navi-hover py-2 px-5 connectedAllAccounts",children:[(null===p||void 0===p?void 0:p.acct_select)||"",":"]}),h.map(e=>{var t,s;return(0,x.jsx)(c.A.Item,{onClick:()=>{this.setState({selectedPersonalAccount:e},()=>d(e.ConnectedAccounts.value2))},children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(re.A,{className:"symbol symbol-30 symbol-circle flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label fs-8",name:e.ConnectedAccounts.value2,profileUrl:null===(t=e.ConnectedAccounts)||void 0===t?void 0:t.profilePicture,networkId:null===(s=e.ConnectedAccounts)||void 0===s?void 0:s.networkId}),(0,x.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,x.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-8",children:e.ConnectedAccounts.value2})})]})},e.ConnectedAccounts.id)}),(0,x.jsx)(c.A.Item,{onClick:()=>{localStorage.setItem("connectionType","moderation-ugc"),(0,A.go)({id:n},!1,!1)},children:(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(re.A,{className:"symbol symbol-30 symbol-circle flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label fs-8",name:"",profileUrl:(0,v.pc)("media/images/error/no-profile.jpg"),networkId:""}),(0,x.jsx)("div",{className:"overflow-hidden",style:{maxWidth:130},children:(0,x.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-8",children:(null===p||void 0===p?void 0:p.acct_add_another)||""})})]})})]})]}):(0,x.jsx)(m.A,{variant:"secondary",size:"sm",className:"d-flex align-items-center w-100 justify-content-between ".concat(r?"is-invalid border-danger":""),onClick:()=>{localStorage.setItem("connectionType","moderation-ugc"),(0,A.go)({id:n},!1,!1)},children:(0,x.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[(0,x.jsx)(re.A,{className:"symbol symbol-30 symbol-circle flex-shrink-0 me-2",imageSize:30,symbolClass:"symbol-label fs-8",name:"",profileUrl:(0,v.pc)("media/images/error/no-profile.jpg"),networkId:n}),(0,x.jsxs)("div",{className:"overflow-hidden f-between w-100 pe-3",children:[(0,x.jsx)("p",{className:"fw-medium mb-0 text-ellipsis fs-8",children:(null===p||void 0===p?void 0:p.acct_add)||""}),(0,x.jsx)(v.gc,{icon:"plus"})]})]})}),r?(0,x.jsx)("span",{id:"social_account_error",className:"invalid-feedback",children:(null===p||void 0===p?void 0:p.acct_error)||""}):null]})}),(0,x.jsx)("span",{id:"reSearch_cookies",onClick:()=>this.getCookieData()})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end p-4 border-top",children:[(0,x.jsx)(m.A,{variant:"secondary",className:"me-2",onClick:()=>a(1),children:(null===p||void 0===p?void 0:p.btn_back)||""}),(0,x.jsx)(m.A,{onClick:()=>this.nextStep(),children:(null===p||void 0===p?void 0:p.btn_next)||""})]})]})}}const De=(0,Ce.A)(e=>{const[t,s]=(0,ke.A)([]),i=(0,Te.Zp)(),a=(0,o.wA)(),n=(0,o.d4)(e=>e.userAccountData.socialAccounts);return(0,x.jsx)(Pe,(0,l.A)((0,l.A)({},e),{},{cookies:t,navigation:i,dispatch:a,socialAccountsData:n}))});class Ie extends i.Component{constructor(){var e,t,s;super(...arguments),this.state={},this.content=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{},this.onNextStep=()=>{const{requestMode:e}=this.props;null!=e?this.props.setStep(1):(0,A.r$)("Please select the mode for Right Request")}}componentDidMount(){}render(){var e,t,s,l,i,o,a,n,d,c,r,h,u,g,j,b,f,y;const{setRequestMode:w,requestMode:N}=this.props;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,x.jsx)("h3",{className:"mb-1 h5",children:null!==(e=null===(t=this.content)||void 0===t?void 0:t.mode_title)&&void 0!==e?e:""}),(0,x.jsx)("p",{className:"text-muted",children:(0,A.dz)(null!==(s=null===(l=this.content)||void 0===l?void 0:l.mode_desc)&&void 0!==s?s:"",{company:V.SxH})}),(0,x.jsxs)("div",{className:"mb-3 d-flex flex-column",children:[(0,x.jsxs)("div",{value:"viaComments",className:"cursor-pointer mb-4 d-flex border justify-content-between p-3 rounded-1 ".concat(1==N?"border-success":""),onClick:()=>w(1),children:[(0,x.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,x.jsx)(v.gc,{icon:"comment",iconClass:"fs-2 mt-1"}),(0,x.jsxs)("span",{className:"text-start ps-2",children:[(0,x.jsx)("p",{className:"h5 mb-0 fw-bold",children:null!==(i=null===(o=this.content)||void 0===o?void 0:o.mode_comment_title)&&void 0!==i?i:""}),(0,x.jsx)("span",{className:"fs-9",children:null!==(a=null===(n=this.content)||void 0===n?void 0:n.mode_comment_desc)&&void 0!==a?a:""})]})]}),(0,x.jsx)(p.A.Check.Input,{type:"radio",name:"rights-via",className:"d-none"}),(0,x.jsx)("span",{className:"w-20px fs-6 ".concat(1==N?"text-success":"text-muted"),children:(0,x.jsx)(v.gc,{type:1==N?"solid":"",icon:"check-circle"})})]}),(0,x.jsxs)("div",{className:"cursor-pointer mb-4 d-flex border justify-content-between p-3 rounded-1 ".concat(0==N?"border-success":""),onClick:()=>w(0),children:[(0,x.jsxs)("div",{className:"d-flex me-3 fw-normal",children:[(0,x.jsx)(v.gc,{icon:"message",iconClass:"fs-2 mt-1"}),(0,x.jsxs)("span",{className:"text-start ps-2",children:[(0,x.jsx)("p",{className:"h5 mb-0 fw-bold",children:null!==(d=null===(c=this.content)||void 0===c?void 0:c.mode_dm_title)&&void 0!==d?d:""}),(0,x.jsx)("span",{className:"fs-9",children:null!==(r=null===(h=this.content)||void 0===h?void 0:h.mode_dm_desc)&&void 0!==r?r:""})]})]}),(0,x.jsx)(p.A.Check.Input,{type:"radio",name:"rights-via",className:"d-none"}),(0,x.jsx)("span",{className:"w-20px fs-6 ".concat(0==N?"text-success":"text-muted"),children:(0,x.jsx)(v.gc,{type:0==N?"solid":"",icon:"check-circle"})})]})]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end p-4 border-top",children:[(0,x.jsx)(m.A,{variant:"secondary",className:"me-2",onClick:this.props.hideUgc,children:null!==(u=null===(g=window)||void 0===g||null===(j=g.APP_CONTENT)||void 0===j||null===(b=j.common)||void 0===b?void 0:b.cancel)&&void 0!==u?u:""}),(0,x.jsx)(m.A,{onClick:this.onNextStep,children:null!==(f=null===(y=this.content)||void 0===y?void 0:y.btn_next)&&void 0!==f?f:""})]})]})}}const Fe=(0,o.Ng)(e=>({}),e=>({}))(Ie);var Me=s(40143);const Oe=e=>{const{hideUgc:t,ugcData:s}=e,[l,a]=(0,i.useState)("general"),[d,c]=(0,i.useState)(""),[r,u]=(0,i.useState)(localStorage.getItem("selectedTemplate")||""),[p,g]=(0,i.useState)(!1),[j,b]=(0,i.useState)(!1),[f,y]=(0,i.useState)(4),[w,N]=(0,i.useState)(""),[_,k]=(0,i.useState)(""),[C,T]=(0,i.useState)(""),[S,P]=(0,i.useState)(""),[D,I]=(0,i.useState)(""),[M,O]=(0,i.useState)(),[L,U]=(0,i.useState)(!1),E=(0,o.wA)(),B=(0,i.useMemo)(()=>{var e,t,s;return null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{}},[]);(0,i.useEffect)(()=>{E((0,Ae.xv)())},[]);const R=()=>{const{template:e,data:t,unique_code:l,bitlyurl:i}=s;let o=[];return t.length>0&&t.map((e,t)=>{o.push(e.referenceId)}),o.join(",")},Y=e=>{var t,l,i;const{template:o,data:a,unique_code:n,bitlyurl:c}=s;U(!0);const m=o.findIndex(e=>e.id==r);let u=o[m];u||(u=o[0]);var p={custom_message:d,feedId:a[0].feedId,networkId:a[0].networkId,selectedImage:a[0].postFile,selectedVideo:"",selectedUsername:a[0].username,handle:_,postId:a.length>1?R():a[0].referenceId,brand_link:C||(null===(t=u)||void 0===t?void 0:t.client_logo),termslink:S||(null===(l=u)||void 0===l?void 0:l.custom_terms),termstype:D||(null===(i=u)||void 0===i?void 0:i.custom_terms_name),bitlylink:c,unique_code:n,rightsVia:M,hashtag:e,networkPostId:a[0].postId,wallId:localStorage.getItem("wallId"),client:localStorage.getItem("ownerId")};(0,h.b7)(p,()=>U(!1))};return(0,x.jsxs)(F.A,{size:"full",show:!0,className:"assets_modal p-0",backdrop:!1,children:[(0,x.jsxs)(F.A.Header,{className:"justify-content-between py-0",children:[(0,x.jsxs)("span",{className:"text-muted fw-medium",children:[(0,x.jsx)(v.gc,{type:"solid",icon:"user-check",iconClass:"me-1"}),(null===B||void 0===B?void 0:B.ugc_request)||""]}),(0,x.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,x.jsx)(m.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:()=>t()})})]}),(0,x.jsxs)(F.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,x.jsx)("div",{className:"rights_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:s?(0,x.jsx)(he,{ugcData:s}):null}),(0,x.jsxs)("div",{className:"rights_modal_sidebar position-relative",children:[4!=f?(0,x.jsx)("div",{className:"ugc-wizard-nav",children:(0,x.jsxs)(n.A,{variant:"nav",className:"bg-gray-200 justify-content-between row gx-0",children:[(0,x.jsx)(n.A.Item,{className:"col-4",children:(0,x.jsxs)(n.A.Link,{className:"py-3 py-xl-4 f-center ".concat([1,2,3].includes(f)?"active":""),onClick:()=>y(1),children:[(0,x.jsx)("span",{className:"d-flex flex-shrink-0 me-1 ".concat([1,2,3].includes(f)?"text-success":"text-muted"),children:(0,x.jsx)(v.gc,{type:[1,2,3].includes(f)?"solid":"regular",icon:"circle-check"})}),(0,x.jsx)("span",{className:"fw-bold text-nowrap text-body",children:(null===B||void 0===B?void 0:B.general_request)||""})]})}),(0,x.jsx)(n.A.Item,{className:"col-4",children:(0,x.jsxs)(n.A.Link,{className:"py-3 py-xl-4 f-center ".concat(2==f||3==f?"active":"disabled"),onClick:()=>p?y(2):"",children:[(0,x.jsx)("span",{className:"d-flex flex-shrink-0 me-1 ".concat((p&&0==M||1==M)&&[2,3].includes(f)?"text-success":"text-muted"),children:(0,x.jsx)(v.gc,{type:(p&&0==M||1==M)&&[2,3].includes(f)?"solid":"regular",icon:"circle-check"})}),(0,x.jsx)("span",{className:"fw-bold text-nowrap text-body",children:(null===B||void 0===B?void 0:B.social_account)||""})]})}),(0,x.jsx)(n.A.Item,{className:"col-4",children:(0,x.jsxs)(n.A.Link,{className:"py-3 py-xl-4 f-center ".concat(3==f?"active":"disabled"),eventKey:"ugc-copyUrl",children:[(0,x.jsx)("span",{className:"d-flex flex-shrink-0 me-1 ".concat([3].includes(f)?"text-success":"text-muted"),children:(0,x.jsx)(v.gc,{type:[3].includes(f)?"solid":"regular",icon:"circle-check"})}),(0,x.jsx)("span",{className:"fw-bold text-nowrap text-body",children:(null===B||void 0===B?void 0:B.preview)||""})]})})]})}):(0,x.jsx)(x.Fragment,{}),s&&4==f?(0,x.jsx)(Me.A,{children:(0,x.jsx)(Fe,{ugcData:s,requestMode:M,setStep:y,setRequestMode:O,hideUgc:t})}):null,s&&1==f?(0,x.jsx)(Me.A,{children:(0,x.jsx)(_e,{ugcData:s,requestMode:M,setStep:y,setAcceptTnc:g,acceptTnc:p,tncError:j,setTncError:b,selectedTemplate:r,setSelectedTemplate:u,setCustom_msg:c,custom_msg:d,setBrand_link:T,brand_link:C,setTermslink:P,setTermstype:I,termstype:D,hideUgc:t,onUpdateTemplate:()=>{var e,t,l,i,o,a;const{template:n}=s,c=n.findIndex(e=>e.id==r);let m=n[c];m||(m=n[0]);var u={client_logo:C||(null===(e=m)||void 0===e?void 0:e.client_logo),custom_terms:S||(null===(t=m)||void 0===t?void 0:t.custom_terms),custom_terms_name:D||(null===(l=m)||void 0===l?void 0:l.custom_terms_name),custom_message:d,name:null===(i=m)||void 0===i?void 0:i.name,owner:localStorage.getItem("ownerId"),id:null===(o=m)||void 0===o?void 0:o.id};[1,2,3].includes(null===(a=m)||void 0===a?void 0:a.id)||(d?E((0,h.Zu)(u,"")):(0,A.r$)("Message field is required"))}})}):null,(p&&0==M||1==M)&&2==f?(0,x.jsx)(Me.A,{children:(0,x.jsx)(De,{setStep:y,setUserName:k,setIsAccount:N,networkId:18!=s.data[0].networkId?s.data[0].networkId:2})}):"",d&&s&&3==f?(0,x.jsx)(Me.A,{children:(0,x.jsx)(ve,{requestMode:M,onRaiseRequest:Y,setUserName:k,networkId:s.data[0].networkId,setUgcTabKey:a,setStep:y,ugcData:s,custom_msg:d,isRequesting:L})}):null]})]})]})};var Le=s(3158),Ue=s(34691);class Ee extends i.Component{constructor(){super(...arguments),this.onDownloadMedia=e=>{const t=5!=e.type&&3!=e.type?e.postFile:e.mediaUrl;(0,Ue.saveAs)(t,"".concat(e.id))}}render(){var e,t;const{ugcRequestData:s,ugcData:l,onHide:i}=this.props,o=(null===(e=window)||void 0===e||null===(t=e.APP_CONTENT)||void 0===t?void 0:t.moderation)||{};return s?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(F.A,{size:"full",show:!0,className:"assets_modal p-0",backdrop:!1,children:[(0,x.jsxs)(F.A.Header,{className:"justify-content-between py-0",children:[(0,x.jsxs)("span",{className:"text-muted fw-medium",children:[(0,x.jsx)(v.gc,{type:"solid",icon:"user-check",iconClass:"me-1 text-success"}),(null===o||void 0===o?void 0:o.modal_access_title)||""]}),(0,x.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,x.jsx)(m.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:i})})]}),(0,x.jsxs)(F.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,x.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:[(0,x.jsx)("h3",{className:"text-center mb-4",children:(null===o||void 0===o?void 0:o.modal_access_approved)||""}),(0,x.jsx)("div",{className:"mx-auto",style:{maxWidth:450},children:(0,x.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,x.jsx)(ce.A,{mediaClass:"position-relative overflow-hidden w-100",size:100,height:64,width:64,url:s.postFile,alt:"",isCover:!0}),(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,x.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,x.jsx)(re.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fw-bolder fs-5",name:s.name,profileUrl:s.picture,networkId:s.networkId}),(0,x.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,x.jsx)("p",{className:" mb-0",children:(0,x.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:s.name})}),(0,x.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",s.username]})]})]}),(0,x.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:(0,A.Oi)(s.networkId)}),children:(0,x.jsx)("img",{className:"img-fluid h-100",src:(0,v.pc)("media/icons/social-icons/".concat((0,A.EC)(s.networkId),".svg")),height:20,width:20,alt:(0,A.Oi)(s.networkId),"data-invert":(0,A.Oi)(s.networkId)})})})]}),(0,x.jsx)(de.A,{classes:"mb-3",content:s.content,idIndex:s.id,line:4})]})]})})]}),(0,x.jsxs)("div",{className:"full_modal_sidebar position-relative",children:[(0,x.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,x.jsxs)("div",{className:"ugc-information",children:[(0,x.jsx)("h2",{className:"mb-5 h3",children:(null===o||void 0===o?void 0:o.section_info)||""}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom px-5 py-4",children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_handle)||""}),(0,x.jsx)("span",{className:" m_grid_uername",children:"@".concat(s.username)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom px-5 py-4",children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_name)||""}),(0,x.jsx)("span",{className:" m_grid_name",children:s.name})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom px-5 py-3 ugc-approved-non-insta",style:18==s.networkId?{display:"none"}:{},children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_device)||""}),(0,x.jsx)("span",{className:" ugc-deviceupdate",children:s.userAgent?(0,A.Xo)(s.userAgent):null})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom px-5 py-3 ugc-approved-non-insta",style:18==s.networkId?{display:"none"}:{},children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_ip)||""}),(0,x.jsxs)("span",{className:" ugc-userIP",children:[" ",s.userIP]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom px-5 py-3 ugc-approved-non-insta",style:18==s.networkId?{display:"none"}:{},children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_location)||""}),(0,x.jsx)("span",{className:" ugc-userLocation",children:s.userLocation})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom px-5 py-4",children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_date)||""}),(0,x.jsx)("span",{className:" ugc-actionTime",children:f()(s.actionTime).utcOffset(0).format("YYYY-MM-DD  hh:mm:ss a")})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center px-5 py-3 ugc-approved-non-insta",style:18==s.networkId?{display:"none"}:{},children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_timezone)||""}),(0,x.jsx)("span",{className:" ugc-timezone",children:s.timezone?(0,A.Xo)(s.timezone):null})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-bottom px-5 py-4",children:[(0,x.jsx)("span",{className:"text-muted mr-2",children:(null===o||void 0===o?void 0:o.info_terms)||""}),(0,x.jsx)("span",{className:" ugc-tncdownload",children:(0,x.jsxs)("a",{className:"btn btn-link",href:"".concat(V.P_W,"media/document/").concat(s.custom_term_type),target:"_blank",children:[(0,x.jsx)("span",{className:"ugc-terms overflow-hidden text-ellipsis text-nowrap",title:s.custom_term_type,children:s.custom_term_type}),(0,x.jsx)(v.gc,{type:"solid",icon:"download",iconClass:"ms-1"})]})})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between flex-wrap align-items-center border-top px-5 py-3 ugc-approved-non-insta",style:18==s.networkId?{display:"none"}:{},children:[(0,x.jsx)("span",{className:"text-muted mb-2",children:(null===o||void 0===o?void 0:o.info_certificate)||""}),(0,x.jsxs)("span",{className:"f-between w-100",children:[(null===o||void 0===o?void 0:o.info_rights_mgmt)||"",(0,x.jsxs)("a",{className:"btn btn-dark ms-1",onClick:()=>(0,Le.Ny)(s.ugcid),title:(null===o||void 0===o?void 0:o.btn_download)||"",children:[(null===o||void 0===o?void 0:o.btn_download)||"",(0,x.jsx)(v.gc,{type:"solid",icon:"download",iconClass:"ms-1"})]})]})]})]})]}),s.comment?(0,x.jsxs)("div",{className:"ugc-user-comment mt-7",children:[(0,x.jsx)("h2",{className:"mb-5",children:(null===o||void 0===o?void 0:o.section_comment)||""}),(0,x.jsx)("div",{className:"user-comment-box p-5",children:(0,x.jsx)("p",{children:s.comment})})]}):null]}),(0,x.jsxs)("div",{className:"d-flex justify-content-end p-4 border-top",children:[(0,x.jsx)(m.A,{variant:"secondary",className:"me-3 btn-min-w",onClick:i,children:(null===o||void 0===o?void 0:o.btn_close)||""}),(0,x.jsx)(m.A,{className:"btn-min-w",onClick:()=>this.onDownloadMedia(s),children:(null===o||void 0===o?void 0:o.btn_download)||""})]})]})]})]})}):null}}const Be=Ee;var Re=s(39452);class Ye extends i.Component{constructor(e){super(e);var t=3.33*(30-e.ago);this.state={series:[t],options:{chart:{height:320,type:"radialBar"},plotOptions:{radialBar:{hollow:{margin:0,size:"65%"},dataLabels:{showOn:"always",name:{show:!0,fontWeight:"700",name:"TEST"},value:{color:["#545454"],fontSize:"30px",fontWeight:"700",offsetY:12,show:!1}},track:{background:["#f2f6f8"],strokeWidth:"100%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:"inter",fontWeight:600,color:"#545454",offsetY:-10},value:{show:!1,fontSize:"14px",fontFamily:"inter",fontWeight:800,color:"#545454",offsetY:16},total:{show:!0,label:e.ago+"Days",color:"#373d3f",fontSize:"16px",fontFamily:"inter",fontWeight:800}}}},colors:["#ffa800"],stroke:{lineCap:"round"}}}}componentDidUpdate(e){if(e.ago!==this.props.ago){var t=3.33*(30-this.props.ago);this.setState({series:[t],options:{chart:{height:320,type:"radialBar"},plotOptions:{radialBar:{hollow:{margin:0,size:"65%"},dataLabels:{showOn:"always",name:{show:!0,fontWeight:"700",name:"TEST"},value:{color:["#545454"],fontSize:"30px",fontWeight:"700",offsetY:12,show:!1}},track:{background:["#f2f6f8"],strokeWidth:"100%"},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:"inter",fontWeight:600,color:"#545454",offsetY:-10},value:{show:!1,fontSize:"14px",fontFamily:"inter",fontWeight:800,color:"#545454",offsetY:16},total:{show:!0,label:this.props.ago+"Days",color:"#373d3f",fontSize:"16px",fontFamily:"inter",fontWeight:800}}}},colors:["#ffa800"],stroke:{lineCap:"round"}}})}}render(){return(0,x.jsx)(Re.A,{options:this.state.options,series:this.state.series,type:"radialBar",height:350})}}const ze=Ye;class He extends i.Component{constructor(){super(...arguments),this.state={days:0,copied:!1},this.getNewdata=()=>{const{ugcData:e,ugcRequestData:t,onHide:s}=this.props;var l=30-f()().diff(f()(t.ugccreated,"YYYY-MM-DD"),"days");this.setState({days:l})},this.copyText=e=>{(0,A.x_)(e),this.setState({copied:!0}),setTimeout(()=>{this.setState({copied:!1})},1e3)}}componentDidMount(){this.getNewdata()}componentDidUpdate(e){e.ugcRequestData.ugccreated!==this.props.ugcRequestData.ugccreated&&this.getNewdata()}render(){var e,t,s;const{ugcData:l,ugcRequestData:i,onHide:o}=this.props,{days:a,copied:n}=this.state,d=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{};return(0,x.jsxs)(F.A,{size:"full",show:!0,className:"assets_modal p-0",backdrop:!1,children:[(0,x.jsxs)(F.A.Header,{className:"justify-content-between py-0",children:[(0,x.jsxs)("span",{className:"text-muted fw-medium",children:[(0,x.jsx)(v.gc,{type:"solid",icon:"user-clock",iconClass:"me-1 text-warning"}),(null===d||void 0===d?void 0:d.modal_pending_title)||""]}),(0,x.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,x.jsx)(m.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:o})})]}),(0,x.jsxs)(F.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,x.jsxs)("div",{className:"rights_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:[(0,x.jsx)("h3",{className:"text-center mb-4",children:(null===d||void 0===d?void 0:d.modal_pending_oops)||""}),l?(0,x.jsx)(he,{ugcData:l}):null]}),(0,x.jsxs)("div",{className:"rights_modal_sidebar position-relative",children:[(0,x.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,x.jsx)("div",{className:"mb-3",children:a?(0,x.jsx)(ze,{ago:a}):""}),(0,x.jsxs)(u.A,{className:"mb-3",children:[(0,x.jsx)(u.A.Text,{children:(0,x.jsx)(v.gc,{type:"solid",icon:"link"})}),(0,x.jsx)(L.N_,{id:"rights_link",className:"form-control form-control-lg",to:i.bitlyurl,target:"_blank",children:i.bitlyurl})]}),(0,x.jsx)(p.A.Group,{className:"mb-5",children:(0,x.jsx)(m.A,{size:"lg",onClick:()=>this.copyText("rights_link"),className:"w-100",children:n?(null===d||void 0===d?void 0:d.btn_url_copied)||"":(null===d||void 0===d?void 0:d.btn_copy_url)||""})}),(0,x.jsxs)("h5",{children:[" ",(null===d||void 0===d?void 0:d.steps_title)||""," "]}),(0,x.jsxs)("ul",{className:"list-unstyled list-points fs-8",children:[(0,x.jsx)("li",{className:"mb-1",children:(null===d||void 0===d?void 0:d.steps_1)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===d||void 0===d?void 0:d.steps_2)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===d||void 0===d?void 0:d.steps_3)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===d||void 0===d?void 0:d.steps_4)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===d||void 0===d?void 0:d.steps_5)||""})]})]}),(0,x.jsx)("div",{className:"d-flex justify-content-end p-4 border-top",children:(0,x.jsx)(m.A,{className:"btn-min-w",onClick:o,children:(null===d||void 0===d?void 0:d.btn_done)||""})})]})]})]})}}class Ge extends i.Component{render(){var e,t,s;const{ugcRequestData:l,ugcData:i,onHide:o,openugcModel:a}=this.props,n=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{};return(0,x.jsxs)(F.A,{size:"full",show:!0,className:"assets_modal p-0",backdrop:!1,children:[(0,x.jsxs)(F.A.Header,{className:"justify-content-between py-0",children:[(0,x.jsxs)("span",{className:"text-muted fw-medium",children:[(0,x.jsx)(v.gc,{type:"solid",icon:"user-clock",iconClass:"me-1 text-danger"}),(null===n||void 0===n?void 0:n.modal_rejected_title)||""]}),(0,x.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,x.jsx)(m.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:o})})]}),(0,x.jsxs)(F.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,x.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-auto",children:[(0,x.jsx)("h3",{className:"text-center mb-4",children:(null===n||void 0===n?void 0:n.modal_rejected_title)||""}),(0,x.jsx)("div",{className:"mx-auto",style:{maxWidth:450},children:(0,x.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,x.jsx)(ce.A,{mediaClass:"position-relative overflow-hidden w-100",size:100,height:64,width:64,url:l.postFile,alt:"",isCover:!0}),(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,x.jsxs)("div",{className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none",children:[(0,x.jsx)(re.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fw-bolder fs-5",name:l.name,profileUrl:null===l||void 0===l?void 0:l.postFile,networkId:l.networkId}),(0,x.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,x.jsx)("p",{className:" mb-0",children:(0,x.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:l.name})}),(0,x.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",l.username]})]})]}),(0,x.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:(0,A.Oi)(l.networkId)}),children:(0,x.jsx)("img",{className:"img-fluid h-100",src:(0,v.pc)("media/icons/social-icons/".concat((0,A.EC)(l.networkId),".svg")),height:20,width:20,alt:(0,A.Oi)(l.networkId),"data-invert":(0,A.Oi)(l.networkId)})})})]}),(0,x.jsx)(de.A,{classes:"mb-3",content:l.content,idIndex:l.id,line:4})]})]})})]}),(0,x.jsxs)("div",{className:"full_modal_sidebar position-relative",children:[(0,x.jsxs)("div",{className:"p-lg-6 p-4 py-3 rights_modal_aside_wrap rights_no_wizard",children:[(0,x.jsx)("h2",{className:"mb-5 text-center",children:(null===n||void 0===n?void 0:n.modal_rejected_oops)||""}),(0,x.jsx)("div",{className:"mb-7",children:(0,x.jsxs)(m.A,{size:"lg",className:"w-100",onClick:a,children:[(0,x.jsx)(v.gc,{type:"solid",icon:"user-check"}),(null===n||void 0===n?void 0:n.btn_get_rights)||""]})}),(0,x.jsxs)("ul",{className:"list-unstyled list-points fs-8",children:[(0,x.jsx)("li",{className:"mb-1",children:(null===n||void 0===n?void 0:n.guideline_1)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===n||void 0===n?void 0:n.guideline_2)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===n||void 0===n?void 0:n.guideline_3)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===n||void 0===n?void 0:n.guideline_4)||""}),(0,x.jsx)("li",{className:"mb-1",children:(null===n||void 0===n?void 0:n.guideline_5)||""})]})]}),(0,x.jsx)("div",{className:"d-flex justify-content-end p-4 border-top",children:(0,x.jsx)(m.A,{className:"btn-min-w",onClick:o,children:(null===n||void 0===n?void 0:n.btn_close)||""})})]})]})]})}}const We=Ge,qe=e=>{const{ugcData:t,statusPopup:s,ugcRequestData:l,onHide:i,openugcModel:o}=e;return(0,x.jsxs)(x.Fragment,{children:[1==s&&l&&l.username?(0,x.jsx)(He,{ugcData:t,ugcRequestData:l,onHide:i}):null,3==s&&l&&l.username?(0,x.jsx)(We,{ugcRequestData:l,ugcData:t,onHide:i,openugcModel:o}):null,2==s&&l&&l.username?(0,x.jsx)(Be,{ugcRequestData:l,onHide:i}):null]})};var Ke=s(351);const $e=()=>(0,x.jsx)("div",{className:"row gx-2",children:(0,A.OZ)(20).map((e,t)=>(0,x.jsx)("article",{className:"assetsItem","aria-labelledby":"skeleton-".concat(t),children:(0,x.jsxs)(Ke.A,{className:"border-0",children:[(0,x.jsxs)("section",{className:"f-between flex-wrap flex-sm-nowrap border-bottom p-2",children:[(0,x.jsxs)("span",{className:"d-flex",children:[(0,x.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,x.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,x.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"}),(0,x.jsx)("span",{className:"sk_rect h-14px w-14px my-1 me-2"})]}),(0,x.jsx)("span",{className:"sk_line h-10px w-20px"})]}),(0,x.jsx)("section",{className:"sk_img rounded-0 w-100 flex-shrink-0 overflow-hidden",style:{paddingBottom:"100%"}}),(0,x.jsxs)("section",{className:"d-flex align-items-center p-3",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center me-2 flex-grow-1 overflow-hidden",children:[(0,x.jsx)("div",{className:"sk_img symbol symbol-36 rounded-circle flex-shrink-0 me-2 overflow-hidden"}),(0,x.jsxs)("div",{className:"overflow-hidden w-100",style:{maxWidth:"130px"},children:[(0,x.jsx)("p",{className:"sk_line sk_line_100 sk_line_height_10 mb-2"}),(0,x.jsx)("span",{className:"sk_line sk_line_50 sk_line_height_8 mb-0 d-block"})]})]}),(0,x.jsx)("span",{className:"d-flex align-items-end flex-column flex-shrink-0",style:{width:"100px"},children:(0,x.jsx)("div",{className:"sk_img symbol symbol-28 rounded-1 flex-shrink-0 me-2 overflow-hidden"})})]}),(0,x.jsxs)("section",{className:"d-flex align-items-center p-3 border-top",children:[(0,x.jsx)("div",{className:"w-50 me-1",children:(0,x.jsx)("div",{className:"sk_line sk_line_100 h-34px rounded-1"})}),(0,x.jsx)("div",{className:"w-50 ms-1",children:(0,x.jsx)("div",{className:"sk_line sk_line_100 h-34px rounded-1"})})]})]})},t))});var Ve=s(86781),Qe=s(68459);class Ze extends i.Component{constructor(){super(...arguments),this.removeTaggProduct=(e,t,s,l)=>{if((0,C.Yj)("contentGallery","editGallery",!0)){const i=l.map(e=>e.product.shopify_product_id.toString());this.props.REMOVE_TAGGED_PRODUCT_ACTION(i,e,t,s,this.props.navigate)}}}render(){var e,t,s;const{item:l,index:i,openContent:o}=this.props,a="true"==localStorage.getItem("wallLimitExceed");return l.postproduct&&l.postproduct.length>0?(0,x.jsxs)(Ve.A,{className:"d-flex gx-2 flex-nowrap product-scroll",children:[l.postproduct.map((e,t)=>{var s,i,o;return(0,x.jsxs)(Qe.A,{role:"article","aria-label":(null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.product_title)||"",xs:2,style:{width:"20%"},className:"position-relative",children:[(0,x.jsx)(ce.A,{mediaClass:"rounded-1 bg-body",size:100,url:null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.product_image,height:50,width:50,alt:(null===e||void 0===e||null===(o=e.product)||void 0===o?void 0:o.product_title)||"",isCover:!0}),(0,x.jsx)("span",{className:"h-16px w-16px rounded-circle bg-danger cursor-pointer position-absolute f-center text-white fs-10",style:{top:-6,right:-3},onClick:()=>this.removeTaggProduct(e.product.product_sku,e.product.id,e.post_id,null===l||void 0===l?void 0:l.postproduct),children:(0,x.jsx)(v.gc,{icon:"xmark"})})]},t)}),(0,x.jsx)(Qe.A,{xs:2,style:{width:"20%"},children:(0,x.jsx)(m.A,{variant:"light-primary",className:"f-center flex-shrink-0 p-0 h-100 w-100 fs-6","aria-label":"add",onClick:()=>o(l,i),disabled:a,children:(0,x.jsx)(v.gc,{icon:"plus",iconClass:"me-0"})})})]}):(0,x.jsxs)(m.A,{variant:"light-primary",className:"w-100 box-shadow",id:"tag_pd_".concat(i),onClick:()=>(0,C.Yj)("contentGallery","editGallery",!0)?o(l,i):{},disabled:a,children:[(0,x.jsx)(v.gc,{type:"solid",icon:"tag",iconClass:"me-1"}),"  ",(null===(e=window)||void 0===e||null===(t=e.APP_CONTENT)||void 0===t||null===(s=t.moderation)||void 0===s?void 0:s.tab_tag)||""]})}}const Je=(0,o.Ng)(e=>({moderation:e.moderation}),e=>({REMOVE_TAGGED_PRODUCT_ACTION:(t,s,l,i,o)=>e((0,h.PB)(t,s,l,i))}))(Ze);class Xe extends i.Component{constructor(e){super(e),this.handleShowMore=()=>{this.setState(e=>({visibleCount:e.items.length}))},this.handleShowLess=()=>{this.setState({visibleCount:5})},this.state={items:this.props.item.tags?String(this.props.item.tags).split(","):[],visibleCount:5}}render(){var e,t,s,l,i,o;const{items:a,visibleCount:n}=this.state,c=a.slice(0,n);return(0,x.jsx)(x.Fragment,{children:c&&c.length>0?(0,x.jsx)("div",{className:"d-flex align-items-center flex-wrap mb-2 w-100 overflow-hidden",children:(0,x.jsxs)("div",{className:"w-100 d-flex flex-wrap",children:[c.map((e,t)=>e&&String(e).length>0?(0,x.jsx)(d.A,{bg:"",className:"badge-outline-secondary ".concat(99999==t?"border-gradient":"border"),onClick:this.props.onClickToPostTags(e),children:e},t):null),a.length>5?n<a.length?(0,x.jsx)(m.A,{variant:"secondary",onClick:this.handleShowMore,className:"rounded-pill px-3 py-0 h-26px fs-10 fst-italic m-1",children:(null===(e=window)||void 0===e||null===(t=e.APP_CONTENT)||void 0===t||null===(s=t.common)||void 0===s?void 0:s.btn_show_more)||""}):(0,x.jsx)(m.A,{variant:"secondary",onClick:this.handleShowLess,className:"rounded-pill px-3 py-0 h-26px fs-10 fst-italic m-1",children:(null===(l=window)||void 0===l||null===(i=l.APP_CONTENT)||void 0===i||null===(o=i.common)||void 0===o?void 0:o.btn_show_less)||""}):null]})}):null})}}const et=Xe;var tt=s(31355),st=s(18633);class lt extends i.Component{constructor(e){super(e),this.reArrangePosts=()=>{const{newArray:e,updateOrder:t}=this.state,s=e.map(e=>e.id),l=e.map((e,t)=>t+1);t&&(this.setState({spinner:!0}),this.props.GET_REORDER_PIN_TO_TOP(s,l,setTimeout(()=>{this.setState({spinner:!1})},1e3)))},this.onLoadData=e=>{const{pinToTop:t}=e;this.setState({items:t,newArray:t})},this.state={items:[],newArray:[],spinner:!1,updateOrder:!1},this.onDragEnd=this.onDragEnd.bind(this)}componentDidMount(){this.onLoadData(this.props)}componentDidUpdate(e){e.openpinToTopModal!==this.props.openpinToTopModal&&this.props.openpinToTopModal&&this.props.GET_PIN_TO_TOP_LIST(),e.pinToTop!==this.props.pinToTop&&this.onLoadData(this.props)}onDragEnd(e){if(!e.destination)return;const t=((e,t,s)=>{const l=Array.from(e),[i]=l.splice(t,1);return l.splice(s,0,i),l})(this.state.items,e.source.index,e.destination.index);this.setState({items:t,newArray:t,updateOrder:!0})}render(){var e;const{openpinToTopModal:t,closeModalPop:s}=this.props,{spinner:i}=this.state;return(0,x.jsxs)(F.A,{className:"pintotop_modal",size:"lg",show:t,onHide:s,centered:!0,children:[(0,x.jsx)(F.A.Header,{closeButton:!0,children:(0,x.jsx)(F.A.Title,{children:"Change Order"})}),(0,x.jsx)(F.A.Body,{children:(0,x.jsx)("div",{className:"mx-xl-4 px-lg-4 py-lg-2 mx-0 overflow-auto",style:{height:500},children:this.state.items&&(null===(e=this.state.items)||void 0===e?void 0:e.length)>0?(0,x.jsx)(tt.JY,{onDragEnd:this.onDragEnd,children:(0,x.jsx)(tt.gL,{droppableId:"droppable",children:(e,t)=>(0,x.jsx)("div",(0,l.A)((0,l.A)({},e.droppableProps),{},{ref:e.innerRef,style:(t.isDraggingOver,{}),children:this.state.items&&this.state.items.length&&this.state.items.map((e,t)=>(0,x.jsx)(tt.sx,{draggableId:"item-".concat(t),index:t,children:(s,i)=>{return(0,x.jsx)("div",(0,l.A)((0,l.A)((0,l.A)({ref:s.innerRef},s.draggableProps),s.dragHandleProps),{},{style:(i.isDragging,o=s.draggableProps.style,(0,l.A)({},o)),children:(0,x.jsx)(Ke.A,{"data-id":e.id,className:"mb-4",children:(0,x.jsxs)(Ke.A.Body,{className:"p-2",children:[(0,x.jsx)("span",{className:"position-absolute start-0 translate-middle h-18px w-18px rounded-circle f-center bg-dark text-gray-100 top-50 fs-10 fw-medium",style:{zIndex:1},children:t+1}),(0,x.jsxs)("div",{className:"d-flex flex-lg-row flex-column",children:[(0,x.jsx)("div",{className:"f-center h-100 text-gray-300 me-2 fs-6",children:(0,x.jsx)(v.gc,{type:"solid",icon:"grip-dots-vertical"})}),1!=e.type?(0,x.jsx)("div",{className:"d-flex flex-shrink-0 flex-column cursor-pointer pe-lg-4 mx-auto mb-lg-0 mb-5",style:{width:120},children:(0,x.jsx)(ce.A,{mediaClass:"position-relative rounded-1 overflow-hidden w-100",size:100,height:120,width:120,url:e.postFile||e.newMedia,alt:e.postname,isCover:!0})}):null,(0,x.jsxs)("div",{className:"d-flex flex-grow-1 flex-column pl-lg-5 w-100 overflow-hidden",children:[(0,x.jsxs)("div",{className:"d-flex align-items-start mb-1",children:[(0,x.jsxs)(L.N_,{href:e.link,target:"_blank",className:"d-flex align-items-start me-2 flex-grow-1 overflow-hidden text-decoration-none text-gray-800",title:e.postname,children:[(0,x.jsx)(re.A,{className:"symbol symbol-40 rounded-circle flex-shrink-0 me-2 overflow-hidden",imageSize:40,symbolClass:"symbol-label fw-bolder fs-5",name:e.postname,profileUrl:e.picture,networkId:e.networkId}),(0,x.jsxs)("div",{className:"pe-2 w-100 overflow-hidden",children:[(0,x.jsx)("p",{className:" mb-0",children:(0,x.jsx)("strong",{className:"text-break text-ellipsis w-100 d-block",children:e.postname})}),(0,x.jsxs)("p",{className:"mb-1 text-gray-500 text-break fs-9",children:["@",e.postname]})]})]}),(0,x.jsx)("span",{className:"d-flex align-items-center h-20px w-20px flex-shrink-0",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:(0,A.Oi)(e.networkId)}),children:(0,x.jsx)(M.A,{className:"h-100",src:(0,v.pc)("media/icons/social-icons/".concat((0,A.EC)(e.networkId),".svg")),height:20,width:20,alt:(0,A.Oi)(e.networkId),"data-invert":(0,A.Oi)(e.networkId),title:(0,A.Oi)(e.networkId),fluid:!0})})})]}),(0,x.jsx)("p",{className:"line-clamp line-clamp-3 mb-1",children:(0,z.Ay)(e.postcontent)})]})]})]})})}));var o}},"item-".concat(t)))}))})}):(0,x.jsx)(st.a,{})})}),(0,x.jsxs)(F.A.Footer,{children:[(0,x.jsx)(m.A,{variant:"secondary",className:"ms-3 btn-min-w",onClick:s,children:"Cancel"}),(0,x.jsx)(m.A,{id:"done_btn",className:"ms-3 btn-min-w ".concat(i?"spinner":""),onClick:this.reArrangePosts,children:"Done"})]})]})}}const it=(0,o.Ng)(e=>{var t;return{pinToTop:null===(t=e.moderation)||void 0===t?void 0:t.pinToTop}},e=>({GET_LIST_ALL_PIN_TO_TOP_POST:()=>e((0,R.vKj)()),GET_PIN_TO_TOP_LIST:()=>e((0,h.qz)()),GET_REORDER_PIN_TO_TOP:(t,s,l)=>e((0,h.Z4)(t,s,l))}))(lt);var ot=s(17327),at=s(74929),nt=s(68047);s(14981);const dt=new be.A;class ct extends i.Component{constructor(e){super(e),this.getTagsArray=()=>{var e;let t=((null===(e=this.props)||void 0===e?void 0:e.tags)||"").split(",").filter(e=>e.trim().length>0);this.setState({tagString:t})},this.onLoad=()=>{const{searchPost:e}=this.state;(null===e||void 0===e?void 0:e.length)>0?(this.setState({isLoading:!0}),(0,h.nX)(e).then(e=>{const{responseData:t,responseCode:s}=e.data;if(200===s){const e=null===t||void 0===t?void 0:t.totalTag.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}));this.setState({selectedOption:e,isLoading:!1})}else this.setState({selectedOption:[],isLoading:!1})}).catch(()=>{this.setState({isLoading:!1})})):this.setState({selectedOption:[],isLoading:!1})},this.onSearchText=e=>{this.setState({searchPost:e},()=>this.onLoad())},this.handleSelectChange=e=>{var t;const{tagString:s}=this.state;null!==e&&void 0!==e&&null!==(t=e.value)&&void 0!==t&&t.length&&(s.includes(e.value)?(0,A.r$)("Tag already exists"):this.setState({tagString:[...s,e.value]},()=>this.props.onChangeTag(this.state.tagString.join(","))))},this.onClickToRemoveTag=(e,t)=>s=>{let{tagString:l}=this.state;l.splice(e,1),this.props.onRemoveTag(t),this.setState({tagString:l},()=>this.props.onChangeTag(l.join(",")))},this.handleOpen=e=>{this.setState({uppyProfileOpen:!0}),je()(".uppy-Dashboard-close").click(()=>{dt.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})})},this.handleSave=()=>{const{author:e,handle:t,onSavePost:s}=this.props;e&&t&&s()},this.isValidNewOption=e=>e.length>=3,this.state={tagString:[],searchPost:"",selectedOption:[],isLoading:!1,uppyProfileOpen:!1,profile:""}}componentDidMount(){dt&&dt.uppy.on("transloadit:result",(e,t)=>{this.props.onChangeAuthorImg("".concat(V.kuD).concat($.yQ).concat(t.id,".").concat(t.ext)),setTimeout(()=>{dt.uppy.cancelAll(),this.setState({uppyProfileOpen:!1})},300)}),this.getTagsArray()}componentDidUpdate(e){e.tags!==this.props.tags&&this.getTagsArray()}render(){var e,t,s,l,i,o,a,n,c,r,h,u,g,j,b,f,y,w,N,_,k,C,T,S;const{onChangeAuthor:I,onChangeHandle:F,onChangeContent:O,onClickRemoveAuthorImg:L,author:U,handle:E,authorImage:B,onSavePost:R,onSaveTag:Y,content:z,handleClose:H,loading:G,isTaggModal:W,updatePost:q,modalData:K,onChangePost:$}=this.props,{tagString:V,isLoading:Q,selectedOption:Z}=this.state,J=null!==(e=null===(t=window)||void 0===t?void 0:t.APP_CONTENT)&&void 0!==e?e:{};return(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"p-4 m_sidebar_scroll_",children:[!W&&(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsx)(p.A.Label,{className:"mb-2",htmlFor:"author_p_",children:null===J||void 0===J||null===(s=J.moderation)||void 0===s?void 0:s.label_author_profile}),(0,x.jsxs)("div",{className:"d-flex align-items-center mb-5",children:[(0,x.jsx)("div",{className:"me-3 me-xxl-4",children:(0,x.jsx)("div",{className:"symbol h-70px w-70px position-relative rounded-circle bg-light overflow-hidden",children:B&&""!=B?(0,x.jsx)(M.A,{src:B,alt:U,height:70,width:70,className:"iobject-center-cover",load:"lazy",fluid:!0}):(0,x.jsx)("span",{className:"symbol-label bg-primary text-gray-100-alt fw-bold display-1 text-uppercase",children:(0,A.t$)(U)})})}),(0,x.jsxs)("div",{className:"d-flex align-items-start flex-column",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null!==(l=null===J||void 0===J||null===(i=J.common)||void 0===i?void 0:i.edit)&&void 0!==l?l:""}),children:(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1","aria-label":"edit",onClick:this.handleOpen,children:(0,x.jsx)(v.gc,{type:"solid",icon:"pen"})})}),(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null!==(o=null===J||void 0===J||null===(a=J.common)||void 0===a?void 0:a.remove)&&void 0!==o?o:""}),children:(0,x.jsx)(m.A,{variant:"icon",size:"sm",className:"btn-active-primary m-1","aria-label":"delete",onClick:L,children:(0,x.jsx)(v.gc,{type:"solid",icon:"trash-can"})})})]}),(0,x.jsx)("div",{className:"form-text mt-2",children:(0,A.dz)(null===J||void 0===J||null===(n=J.common)||void 0===n?void 0:n.allowed_file_types,{types:"png, jpg, jpeg"})})]})]})]}),!W&&(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{className:"mb-2",htmlFor:"author_n_",children:[null===J||void 0===J||null===(c=J.moderation)||void 0===c?void 0:c.label_author_name," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(p.A.Control,{id:"author_n_",name:"author_n_",className:null!==U&&void 0!==U&&U.length?"":"is-invalid",placeholder:null===J||void 0===J||null===(r=J.moderation)||void 0===r?void 0:r.ph_author_name,value:U,onChange:I}),null!==U&&void 0!==U&&U.length?null:(0,x.jsx)("span",{className:"invalid-feedback",children:null===J||void 0===J||null===(h=J.moderation)||void 0===h?void 0:h.req_author_name})]}),!W&&(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsxs)(p.A.Label,{className:"mb-2",htmlFor:"author_h_",children:[null===J||void 0===J||null===(u=J.moderation)||void 0===u?void 0:u.label_author_handle," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(p.A.Control,{id:"author_h_",name:"author_h_",className:null!==E&&void 0!==E&&E.length?"":"is-invalid",placeholder:null===J||void 0===J||null===(g=J.moderation)||void 0===g?void 0:g.ph_author_handle,value:E,onChange:F}),E.length?null:(0,x.jsx)("span",{className:"invalid-feedback",children:null===J||void 0===J||null===(j=J.moderation)||void 0===j?void 0:j.req_author_handle})]}),W?(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsx)(p.A.Label,{className:"mb-2",htmlFor:"tags__",children:null===J||void 0===J||null===(b=J.moderation)||void 0===b?void 0:b.label_add_tag}),(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsx)(at.A,{className:"selectpicker",placeholder:null===J||void 0===J||null===(f=J.moderation)||void 0===f?void 0:f.ph_tag,classNamePrefix:"selectpicker",isClearable:!0,isLoading:Q,options:Z,onChange:this.handleSelectChange,onInputChange:this.onSearchText,value:Z,isValidNewOption:this.isValidNewOption})}),(0,x.jsx)("div",{className:"mb-3 mb-xl-4",children:(0,x.jsx)("div",{className:"tags-group d-flex align-items-center flex-wrap",children:(()=>V.map((e,t)=>(0,x.jsxs)(d.A,{className:"me-1 mb-1 px-3 py-2 f-center bg-secondary",children:[(0,x.jsx)("span",{className:" text-ellipsis d-block",children:e}),(0,x.jsx)(m.A,{variant:"link",size:"sm",className:"p-0 ms-1 ",onClick:this.onClickToRemoveTag(t,e),children:(0,x.jsx)(v.gc,{icon:"xmark"})})]},e.toString())))()})})]}):"",!W&&(0,x.jsxs)(p.A.Group,{className:"mb-3",children:[(0,x.jsx)(p.A.Label,{className:"mb-2",htmlFor:"post_cont_",children:null===J||void 0===J||null===(y=J.moderation)||void 0===y?void 0:y.label_content}),(0,x.jsx)(p.A.Control,{as:"textarea",className:"textarea-min-row-7",id:"post_cont_",placeholder:null===J||void 0===J||null===(w=J.moderation)||void 0===w?void 0:w.ph_content,value:z,onChange:O})]}),1!=K.type?(0,x.jsxs)("div",{className:"mt-4 moderation-editThumbnail",children:[(0,x.jsx)(p.A.Label,{className:"mb-2",htmlFor:"s_pi",children:3==K.type||5==K.type?null===J||void 0===J||null===(N=J.moderation)||void 0===N?void 0:N.label_edit_thumbnail:null===J||void 0===J||null===(_=J.moderation)||void 0===_?void 0:_.label_edit_image}),(0,x.jsx)(nt.A,{id:"s_pi",imageStyle:{paddingBottom:"66%"},backgroundImage:null===K||void 0===K?void 0:K.postFile,onClickTouploadImage:e=>{q(K.postFile=e),$(e,"image")},showStatus:!0})]}):null,3==K.type||5==K.type?(0,x.jsxs)("div",{className:"mt-4 moderation-editThumbnail",children:[(0,x.jsx)(p.A.Label,{className:"mb-2",htmlFor:"s_pi",children:null===J||void 0===J||null===(k=J.moderation)||void 0===k?void 0:k.label_edit_video}),(0,x.jsx)(nt.A,{id:"s_pi",allowedFile:["video/*"],isVideo:!0,imageStyle:{paddingBottom:"66%"},backgroundImage:null===K||void 0===K?void 0:K.mediaUrl,onClickTouploadImage:e=>{q(K.mediaUrl=e),$(e,"video")},showStatus:!0})]}):null]}),(0,x.jsxs)("div",{className:"assets_btn_wrapper p-4 f-center flex-column",children:[W?(0,x.jsx)(m.A,{id:"save_changes",className:"w-100 mb-2 ".concat(G?"spinner":""),disabled:G,onClick:()=>Y(),children:null===J||void 0===J||null===(T=J.common)||void 0===T?void 0:T.save_changes}):(0,x.jsx)(m.A,{id:"save_changes",className:"w-100 mb-2 ".concat(G?"spinner":""),disabled:G||!(U&&E),onClick:this.handleSave,children:null===J||void 0===J||null===(C=J.common)||void 0===C?void 0:C.save_changes}),(0,x.jsx)(m.A,{variant:"link",className:"text-muted",onClick:H,children:null===J||void 0===J||null===(S=J.common)||void 0===S?void 0:S.cancel})]}),(0,x.jsx)(xe.KG,{id:"background-image",closeModalOnClickOutside:!0,closeAfterFinish:!0,open:this.state.uppyProfileOpen,onRequestClose:this.handleClose,uppy:dt.uppy,hideUploadButton:!1,autoOpenFileEditor:!1,plugins:["Instagram","GoogleDrive","Url","Webcam"],animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1})]})}}const rt=ct,ht=e=>{let{content:t,mediaClass:s,rating:l,fontSize:i,lineCount:o,size:a}=e;return(0,x.jsx)("div",{className:"position-relative overflow-hidden ".concat(s),style:{paddingBottom:"".concat(a||"100","%")},children:(0,x.jsxs)("div",{className:"w-100 f-center flex-column position-absolute start-0 top-0 h-100 p-3",children:[l?(0,x.jsx)("div",{className:"f-center ps-1 mb-4",children:(0,x.jsx)(K.A,{className:"mx-1 fs-3",iconClass:"mx-1",rating:l})}):null,(0,x.jsx)("div",{className:"overflow-hidden",children:(0,x.jsx)("p",{className:"text-center line-clamp-".concat(o||4," line-clamp mb-0 ").concat(i?"":"fs-7"),style:{fontSize:i},children:(0,A.Xo)((0,A.K$)(t||""))})})]})})};var mt=s(97696);class ut extends i.Component{constructor(e){super(e),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onMediaLoad=async e=>{if(e.mediaHeight&&e.mediaWidth)this.setState({mediaSize:{height:e.mediaHeight,width:e.mediaWidth}});else try{const{width:t,height:s}=await(0,ot.A)(e.newMedia);this.setState({mediaSize:{height:s,width:t}})}catch(t){this.setState({mediaSize:{height:100,width:100}})}},this.state={count:1,winWidth:window.innerWidth,winHeight:window.innerHeight,mediaSize:{height:400,width:400}},this.hotspotRef=i.createRef()}componentDidMount(){setTimeout(()=>{const e=this.hotspotRef.current;e&&this.setState({spotWidth:e.clientWidth,spotHeight:e.clientHeight})},100),window.addEventListener("resize",this.handleResize),this.onMediaLoad(this.props.modalData)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;this.props.modalData!==e.modalData&&(this.onMediaLoad(this.props.modalData),this.setState({enableHotspot:null===(t=this.props.modalData)||void 0===t?void 0:t.hotspot}))}render(){const{modalData:e,autoPlay:t,movePost:s}=this.props,{winWidth:l,winHeight:i,mediaSize:o}=this.state,a=Math.min((l-(l>1400?850:650))/o.width,(i-130)/o.height),n=o.height*a,d=o.width*a,c=100*n/d;return 1==e.type?(0,x.jsx)("div",{className:"mx-auto w-100 p-4",children:(0,x.jsx)(ht,{mediaClass:"bg-gray-200",size:120,content:e.postcontent,rating:e.rating,socialNetworkId:e.networkId,fontSize:"calc(14px + .3vw + .3vh)",lineCount:10})}):(0,x.jsx)("div",{className:"w-100 m-auto",style:{maxWidth:l>991?d:null},children:(0,x.jsx)("div",{className:"position-relative",children:2==e.type||4==e.type?(0,x.jsx)(ce.A,{mediaClass:"content_img_",size:c,url:e.postFile,height:n,width:d,icon:e.networkId,rating:e.rating,alt:"",handleAllImageError:!0,item:e,isCover:!0}):3==e.type||5==e.type?(0,x.jsx)(mt.A,{item:e,mediaClass:"content_video",size:c,url:e.mediaUrl||e.mediaFile||e.mediaClip||e.postFile,poster:e.postFile,height:n,width:d,autoPlay:t||!0,muted:!1,isCover:!0,controls:!0,loop:!1,isupdate:1},s):null})})}}const pt=ut;class vt extends i.Component{constructor(e){super(e),this.onChangeAuthor=e=>this.setState({author:e.target.value}),this.onChangeHandle=e=>this.setState({handle:e.target.value}),this.onChangeAuthorImg=e=>this.setState({authorImage:e}),this.onClickRemoveAuthorImg=e=>this.setState({authorImage:""}),this.onChangePostImg=e=>this.setState({postImage:e}),this.onChangePostType=e=>this.setState({type:4}),this.onChangeContent=e=>this.setState({content:e.target.value}),this.onChangeTag=e=>this.setState({tags:e}),this.onRemoveTag=e=>this.setState((0,l.A)((0,l.A)({},this.state),{},{removeTag:[...this.state.removeTag,e]})),this.onChangePost=(e,t)=>this.setState({[t]:e}),this.handleResize=()=>{const{modalData:e}=this.props;this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.onClickTouploadImage=(e,t)=>this.setState({postImage:e},()=>t()),this.onSavePost=e=>{const{modalData:t,handleClose:s}=this.props,{authorImage:l,author:i,content:o,handle:a,image:n,video:d}=this.state;this.setState({loading:!0});const c={content:o,wallId:localStorage.getItem("wallId"),postId:String(t.postId),postauthor:i,posthandle:a,authorpicture:l,video:d,image:n};this.props.editpost(c,s)},this.onSaveTag=e=>{var t;const{modalData:s,handleClose:l,isTaggModal:i}=this.props;this.setState({loading:!0});const o={postId:String(s.ptPost),wallId:String(localStorage.getItem("wallId")),tags:this.state.tags,removeTag:null===(t=this.state.removeTag)||void 0===t?void 0:t.join(","),referenceId:s.referenceId,feedId:s.feedId};this.props.onUpdateTags(o,i,l)},this.state={author:"",handle:"",authorImage:"",postImage:"",content:"",tags:"",type:"",mediaUrl:"",mediaWidth:"",mediaHeight:"",video:"",image:""}}componentDidMount(){window.addEventListener("resize",this.handleResize);const{modalData:e}=this.props;this.setState({author:e.postname,handle:e.username,authorImage:e.picture,postImage:e.postFile,content:e.postcontent,tags:e.tags,type:e.type,loading:!1,mediaUrl:e.mediaUrl,mediaWidth:e.mediaUrl,mediaHeight:e.mediaUrl,removeTag:[]})}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}render(){const{modalData:e,handleClose:t,isTaggModal:s,updatePost:i}=this.props,o=(0,A.C2)();return(0,x.jsxs)(F.A,{size:"full",show:!0,className:"assets_modal p-0",backdrop:!1,children:[o?null:(0,x.jsxs)(F.A.Header,{className:"justify-content-between py-0",children:[(0,x.jsx)("span",{className:"text-muted fw-medium",children:s?"Add Tag":"Edit Post"}),(0,x.jsx)("div",{className:"d-flex align-items-center h-100",children:(0,x.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,x.jsx)(m.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:t})})})]}),(0,x.jsxs)(F.A.Body,{className:"p-0 d-flex border-0 flex-wrap",children:[(0,x.jsx)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:(0,x.jsx)(pt,{modalData:e})}),(0,x.jsx)("div",{className:"full_modal_sidebar position-relative",children:(0,x.jsx)(rt,(0,l.A)((0,l.A)({modalData:e,onChangeAuthor:this.onChangeAuthor,onChangeHandle:this.onChangeHandle,onChangeAuthorImg:this.onChangeAuthorImg,onChangePostImg:this.onChangePostImg,onChangeContent:this.onChangeContent,onChangeTag:this.onChangeTag,onClickRemoveAuthorImg:this.onClickRemoveAuthorImg,handleClose:t,onSavePost:this.onSavePost,onSaveTag:this.onSaveTag,isTaggModal:s},this.state),{},{onRemoveTag:this.onRemoveTag,updatePost:i,onChangePost:this.onChangePost}))})]})]})}}const xt=(0,o.Ng)(e=>{var t;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,authorized:e.authorized}},e=>({editpost:(t,s)=>e((0,h.L2)(t,s)),onUpdateTags:(t,s,l)=>e((0,h.K)(t,s,l))}))(vt);var gt=s(31628),jt=s.n(gt);const bt=e=>{var t,s;let{ImageClass:l,item:o,enableHotspot:a,activeCarousalPostsList:n,activeCarousalPost:d,spotWidth:c,spotHeight:r,onControlledDrag:h,changePrdId:m,ctaData:u}=e;(0,i.useEffect)(()=>{},[null!==n&&void 0!==n&&n.length?n:o.postproduct]);const p=null!==n&&void 0!==n&&n.length?null===o||void 0===o||null===(t=o.imageList)||void 0===t?void 0:t.find(e=>e.referenceId===d):null,v=e=>e.map((e,t)=>{var s,l,i,o,a,n;const d=c*e.hotspot.left.replace("%","")/100,p=r*e.hotspot.top.replace("%","")/100;return(0,x.jsx)(jt(),{bounds:"parent",onStop:h,onStart:()=>m(e.ugc_product),defaultPosition:{x:d,y:p},children:(0,x.jsx)("div",{className:"h-16px w-16px position-absolute",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{"data-theme":"light",children:(0,x.jsxs)("div",{className:"text-start",children:[(null===(s=e.product)||void 0===s?void 0:s.product_title)||"",((null===(l=e.product)||void 0===l?void 0:l.product_discount)>0||(null===(i=e.product)||void 0===i?void 0:i.product_price)>0)&&(0,x.jsxs)("div",{className:"fw-bold fs-6",children:[null===(o=e.product)||void 0===o?void 0:o.price_currency_symbol,(null===(a=e.product)||void 0===a?void 0:a.product_discount)>0?e.product.product_discount:null===(n=e.product)||void 0===n?void 0:n.product_price]})]})}),children:(0,x.jsx)("div",{className:"blob ".concat(1===(null===u||void 0===u?void 0:u.hotspot_type)?"blob_002":"blob_001"),style:{backgroundColor:null===u||void 0===u?void 0:u.hotspot_color},children:(0,x.jsx)("div",{className:"f-center fw-medium fs-8",style:{color:null===u||void 0===u?void 0:u.hotspot_type_color,lineHeight:"20px"},children:1===(null===u||void 0===u?void 0:u.hotspot_type)?t+1:""})})})})},"hotspot_".concat(e.ugc_product))});return(0,x.jsx)("div",{className:"h-100 w-100 ".concat(l),children:1==a&&c?null!==n&&void 0!==n&&n.length&&null!==p&&void 0!==p&&p.hotspot?v(n):null!==(s=o.postproduct)&&void 0!==s&&s.length&&!d?v(o.postproduct):null:null})},ft=e=>{const{updateCarousalPost:t,item:s}=e,l=s.imageList.length>1,o=(0,i.useRef)(null),[a,n]=(window.innerWidth,window.innerHeight,(0,i.useState)({height:400,width:400})),[d,c]=(0,i.useState)(0),r={type:"slide",perPage:1,pagination:!0,arrows:l,start:0};(0,i.useEffect)(()=>{const e=s.imageList.map(e=>e.referenceId).join(",");m(s.imageList[0]),(0,h.nW)(e).then(e=>{let{data:{responseCode:l,responseData:i}}=e;200===l&&(c(s.imageList[0].referenceId),t(s.imageList[0].referenceId,i.postproduct))}).catch(e=>{console.log("error",e),t([])})},[s]);const m=async e=>{if(e.mediaHeight&&e.mediaWidth)n({height:e.mediaHeight,width:e.mediaWidth});else try{const{width:t,height:s}=await(0,ot.A)(e.newMedia);n({height:s,width:t})}catch(t){n({height:100,width:100})}};return(0,i.useEffect)(()=>{var e;const l=null===(e=o.current)||void 0===e?void 0:e.splide;return l&&l.on("move",()=>{m(s.imageList[l.index]),t(s.imageList[l.index].referenceId),c(s.imageList[l.index].referenceId)}),()=>{null===l||void 0===l||l.destroy()}},[s.imageList]),(0,x.jsx)("div",{className:"m_c_p m-auto",children:s.imageList&&s.imageList.length>0?(0,x.jsx)(ne.eB,{ref:o,hasTrack:!1,options:r,children:(0,x.jsx)(ne.v9,{children:s.imageList.map((e,t)=>(0,x.jsx)(ne.Nn,{className:"f-center",children:(0,x.jsx)(pt,{modalData:e,movePost:d,autoPlay:e.referenceId==d})},t))})},s.id):null})},yt=i.lazy(()=>s.e(6139).then(s.bind(s,96139)));class wt extends i.Component{constructor(e){var t,o;super(e),t=this,this.keyboardEvent=e=>{const{modalCallback:t,slideAssets:s,currentIndex:l}=this.props;39==e.keyCode||40==e.keyCode?s(l+1)(e):37==e.keyCode||38==e.keyCode?s(l-1)(e):27==e.keyCode&&t(e)},this.handleResize=()=>{this.setState({winWidth:window.innerWidth,winHeight:window.innerHeight})},this.checkTour=async()=>{var e;const t=null===(e=(0,A.lL)("isTour"))||void 0===e||e,l=(0,A.lL)("tourStep"),{default:i}=await s.e(8695).then(s.bind(s,8695)),{tour:o}=new i(this.props.navigate,!1,this.props.dispatch);t||("#search_pro_"==(null===l||void 0===l?void 0:l.id)?((0,A.n4)("tourStep",{id:"#pd_ctlog",step:5}),setTimeout(()=>{var e;return o.drive(null!==(e=null===l||void 0===l?void 0:l.step)&&void 0!==e?e:5)},400)):"#enable_hotspot"==(null===l||void 0===l?void 0:l.id)?((0,A.n4)("tourStep",{id:"#search_pro_select",step:8}),setTimeout(()=>o.highlight({element:"#enable_hotspot"}),400)):"#search_pro_select"==(null===l||void 0===l?void 0:l.id)&&((0,A.n4)("tourStep",{id:"#search_pro_select",step:8}),setTimeout(()=>o.highlight({element:"#search_pro_"}),400)))},this.updateCarousalPost=function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;const{modalData:o}=t.props,a=t=>t.filter(t=>t.post_id==e);if(s&&t.setState({carousalPostsList:s}),i){const e=2==i?s.filter(e=>e.id!=l):[...s];1==i&&e.push(l);const o=a(e);t.setState({carousalPostsList:e,activeCarousalPostsList:[]},()=>t.updateCarousalPostList(o))}else{var n;const l=null===o||void 0===o||null===(n=o.imageList)||void 0===n?void 0:n.find(t=>t.referenceId==e),i=a(s||t.state.carousalPostsList);t.setState({activeCarousalPost:e,enableHotspot:(null===l||void 0===l?void 0:l.hotspot)||!1,activeCarousalPostsList:[]},()=>t.updateCarousalPostList(i))}},this.updateCarousalPostList=e=>{setTimeout(()=>{const e=this.hotspotRef.current;e&&this.setState({spotWidth:e.clientWidth,spotHeight:e.clientHeight})},100),this.setState({activeCarousalPostsList:e})},this.updateHotspot=(e,t)=>{const{carousalPostsList:s,activeCarousalPost:i}=this.state,o=(null===s||void 0===s?void 0:s.length)&&s.map(s=>s.ugc_product==e?(0,l.A)((0,l.A)({},s),{},{hotspot:t,product:(0,l.A)((0,l.A)({},s.product),{},{hotspot:t})}):s);this.updateCarousalPost(i,o)},this.onControlledDrag=(e,t)=>{const{x:s,y:l}=t,{spotWidth:i,spotHeight:o,productId:a,activeCarousalPost:n}=this.state,{modalData:d}=this.props;let c=100*s/i,r=100*l/o;const h={left:"".concat(c,"%"),top:"".concat(r,"%")},m="left:".concat(c,"%;top:").concat(r,"%;");this.props.UPDATE_HOTSPOT_ACTION(a,n||(null===d||void 0===d?void 0:d.referenceId),h,m,n?this.updateHotspot:null)},this.changeHotspotStatus=(e,t)=>{const{activeCarousalPost:s}=this.state;let l=1==e?0:1;this.setState({enableHotspot:l}),this.props.ENABLE_HOTSPOT_ACTION(l,s||t,this.onSaveCallBack,s)},this.changePrdId=e=>{this.setState({productId:e})},this.onSaveCallBack=()=>{var e;const{activeCarousalPost:t}=this.state,{modalData:s}=this.props;var l=null===(e=this.props.modalData)||void 0===e?void 0:e.hotspot;if(t){var i;l=(null===s||void 0===s||null===(i=s.imageList)||void 0===i?void 0:i.find(e=>e.referenceId==t)).hotspot}this.setState({enableHotspot:l})},this.responceApi=()=>{this.setState({loading:!1})},this.handleClose=()=>this.props.modalCallback(!1),this.onMediaLoad=async e=>{if(e.mediaHeight&&e.mediaWidth)this.setState({mediaSize:{height:e.mediaHeight,width:e.mediaWidth}});else try{const{width:t,height:s}=await(0,ot.A)(e.newMedia);this.setState({mediaSize:{height:s,width:t}})}catch(t){this.setState({mediaSize:{height:100,width:100}})}},this.editPostFun=e=>(0,C.Yj)("contentGallery","editGallery",!0)?this.setState({editPost:!this.state.editPost,isTaggModal:e}):{},this.state={spotWidth:0,spotHeight:0,searchTag:"",selectedTag:[],productId:0,enableHotspot:null===(o=this.props.modalData)||void 0===o?void 0:o.hotspot,loading:!1,winWidth:window.innerWidth,winHeight:window.innerHeight,paddingBottom:100,mediaSize:{height:400,width:400},editPost:!1,isTaggModal:!1,activeCarousalPost:0,activeCarousalPostsList:[],carousalPostsList:[]},this.hotspotRef=i.createRef()}componentDidMount(){setTimeout(()=>{const e=this.hotspotRef.current;e&&this.setState({spotWidth:e.clientWidth,spotHeight:e.clientHeight})},100),window.addEventListener("resize",this.handleResize),window.addEventListener("keydown",this.keyboardEvent),this.onMediaLoad(this.props.modalData)}componentDidUpdate(e){var t,s;this.props.modalData!==(null===(t=e.moderation)||void 0===t?void 0:t.listData[this.props.currentIndex])&&(this.onMediaLoad(this.props.modalData),this.setState({enableHotspot:null===(s=this.props.modalData)||void 0===s?void 0:s.hotspot,activeCarousalPost:0,activeCarousalPostsList:[],carousalPostsList:[]}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("keydown",this.keyboardEvent)}render(){var e,t,s,l,o,a,n,d,r,h,u,p,g,j,b,f,y,w,N,_,k,C,T,S,P,D,I;const{authorized:M,modalToggle:O,modalData:L,onRefreshPost:U,filter:E,ctaData:B,postPostUpdate:R,currentIndex:Y,clickToPin:z,clickToGetUgc:H,clickToDeletePost:G,clickToBlockUser:W,isShoppable:q,updatePost:K,handleSingleEmbed:$}=this.props,{spotWidth:V,spotHeight:Q,enableHotspot:Z,winWidth:J,winHeight:X,mediaSize:ee,editPost:te,isTaggModal:se,activeCarousalPost:le,activeCarousalPostsList:ie,carousalPostsList:oe}=this.state,ae=Math.min((J-450)/ee.width,(X-130)/ee.height),ne=ee.height*ae,de=ee.width*ae,ce=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{};return(0,x.jsxs)(F.A,{size:"full",show:O,className:"assets_modal p-0".concat((0,A.C2)()?" assets_modal_full":""," ").concat(null!==M&&void 0!==M&&null!==(l=M.userData)&&void 0!==l&&null!==(o=l.user_data)&&void 0!==o&&null!==(a=o.user)&&void 0!==a&&a.isPaymentFailed&&null!==M&&void 0!==M&&null!==(n=M.userData)&&void 0!==n&&null!==(d=n.user_data)&&void 0!==d&&null!==(r=d.user)&&void 0!==r&&r.isPaymentFailedUrl&&null!==M&&void 0!==M&&null!==(h=M.userData)&&void 0!==h&&null!==(u=h.user_data)&&void 0!==u&&null!==(p=u.user)&&void 0!==p&&p.isPaymentTypeUser?"appeared-review":"0"),backdrop:!1,children:[(0,x.jsxs)(F.A.Header,{className:"justify-content-between py-0",children:[(0,x.jsx)("span",{className:"text-muted fw-medium",children:te?null!==(g=null===ce||void 0===ce?void 0:ce.modal_edit)&&void 0!==g?g:"":null!==(j=null===ce||void 0===ce?void 0:ce.modal_info)&&void 0!==j?j:""}),(0,x.jsxs)("div",{className:"d-flex align-items-center h-100",children:[te?null:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"d-none d-lg-flex h-100",children:(0,x.jsxs)(x.Fragment,{children:[[18,2].includes(null===L||void 0===L?void 0:L.networkId)?(0,x.jsxs)(m.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 btn-active-primary flex-shrink-0 refresh_post_media_Popup".concat(L.id),"aria-label":"refresh",onClick:()=>U(L),style:{display:"none"},children:[(0,x.jsx)(v.gc,{type:"solid",icon:"arrows-rotate",iconClass:"me-1"}),null!==(b=null===ce||void 0===ce?void 0:ce.btn_refresh)&&void 0!==b?b:""]}):null,(3==L.networkId&&62==L.feedFilter||7==L.networkId||18==L.networkId&&(24==L.feedFilter||25==L.feedFilter||26==L.feedFilter))&&null==L.ugcstatus&&1!=L.type?(0,x.jsxs)(m.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:H(L),children:[(0,x.jsx)(v.gc,{type:"solid",icon:"user-check",iconClass:"me-1"}),null!==(f=null===ce||void 0===ce?void 0:ce.btn_get_rights)&&void 0!==f?f:""]}):null,(0,x.jsxs)(m.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:()=>this.editPostFun(!0),children:[(0,x.jsx)(v.gc,{type:"solid",icon:"tag",iconClass:"me-1"}),null!==(y=null===ce||void 0===ce?void 0:ce.btn_tags)&&void 0!==y?y:""]}),[4,38,19,23,35,34,37].includes(null===L||void 0===L?void 0:L.networkId)?null:(0,x.jsxs)(m.A,{variant:"secondary",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary flex-shrink-0",onClick:()=>this.editPostFun(!1),children:[(0,x.jsx)(v.gc,{type:"solid",icon:"pen",iconClass:"me-1"}),null!==(w=null===ce||void 0===ce?void 0:ce.modal_edit)&&void 0!==w?w:""]})]})}),(0,x.jsxs)(c.A,{align:"end",className:"f-center position-relative h-100",children:[(0,x.jsxs)(c.A.Toggle,{variant:"secondary","aria-label":"more",className:"p-0 f-center border-0 me-3 text-muted btn-active-primary arrow_disabled h-100",children:[(0,x.jsx)(v.gc,{icon:"ellipsis",iconClass:"me-1"}),null!==(N=null===ce||void 0===ce?void 0:ce.btn_more)&&void 0!==N?N:"More"]}),(0,x.jsxs)(c.A.Menu,{children:[1==L.status?(0,x.jsxs)(c.A.Item,{onClick:()=>$(L),children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(v.gc,{type:"solid",icon:"paper-plane"})}),null!==(_=null===ce||void 0===ce?void 0:ce.single_post_embed)&&void 0!==_?_:""]}):null,1!=L.ugcstatus||2!=L.ugcstatus?(0,x.jsxs)(c.A.Item,{onClick:G(L,L.id,L.status,Y,L.feedId,L.feedFilter),children:[(0,x.jsx)(v.gc,{type:"solid",icon:"trash-can",iconClass:"me-1"}),(0,x.jsx)("span",{className:"navi-text",children:null!==(k=null===ce||void 0===ce?void 0:ce.menu_delete)&&void 0!==k?k:""})]}):null,(0,x.jsxs)(c.A.Item,{onClick:W(Y,L.username,"grid",localStorage.getItem("wallId")),children:[(0,x.jsx)(v.gc,{type:"solid",icon:"ban",iconClass:"me-1"}),(0,x.jsx)("span",{className:"navi-text",children:null!==(C=null===ce||void 0===ce?void 0:ce.menu_block)&&void 0!==C?C:""})]}),""!=L.link&&null!=L.link?(0,x.jsxs)(c.A.Item,{href:L.link,target:"_blank",children:[(0,x.jsx)(v.gc,{type:"solid",icon:"paper-plane",iconClass:"me-1"}),(0,x.jsx)("span",{className:"navi-text",children:null!==(T=null===ce||void 0===ce?void 0:ce.menu_view)&&void 0!==T?T:""})]}):(0,x.jsx)(x.Fragment,{})]})]})]}),(0,x.jsx)("div",{className:"ms-5 d-flex justify-content-end",children:(0,x.jsx)(m.A,{variant:"close",className:"me-0 text-muted btn-active-primary",onClick:this.handleClose})})]})]}),(0,x.jsxs)(F.A.Body,{className:"p-0 d-flex border-0 flex-lg-row flex-column",children:[(0,x.jsxs)("div",{className:"assets_modal_inner flex-column flex-grow-1 f-center p-lg-4 p-xxl-5 position-relative mb-lg-0 overflow-hidden",children:[(0,x.jsx)(m.A,{variant:"icon",className:"assets_modal_arrow_left rounded-circle position-absolute",onClick:this.props.slideAssets(Y-1),children:(0,x.jsx)(v.gc,{type:"solid",icon:"arrow-left"})}),(0,x.jsxs)("div",{className:"w-100 position-relative",id:"hotspot-section",style:{maxWidth:J>991?de:null},children:[L.imageList&&Object.keys(L.imageList).length?(0,x.jsx)(ft,{carousalPostsList:oe,updateCarousalPost:this.updateCarousalPost,item:L},"".concat(null===L||void 0===L||null===(S=L.imageList)||void 0===S||null===(P=S[0])||void 0===P?void 0:P.postFile,"-").concat(null===L||void 0===L||null===(D=L.imageList)||void 0===D||null===(I=D[0])||void 0===I?void 0:I.id)):(0,x.jsx)(pt,{modalData:L}),3!=L.type&&5!=L.type&&q?(0,x.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{zIndex:1},ref:this.hotspotRef,children:(0,x.jsx)(i.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:(0,x.jsx)(Me.A,{children:(0,x.jsx)(bt,{ImageClass:"hotspot-section",activeCarousalPostsList:ie,activeCarousalPost:le,ImageUrl:null===L||void 0===L?void 0:L.newMedia,spotWidth:V,spotHeight:Q,enableHotspot:Z,item:L,width:de,height:ne,onControlledDrag:this.onControlledDrag,changePrdId:this.changePrdId,imgHeight:null===L||void 0===L?void 0:L.mediaHeight,imgWidth:null===L||void 0===L?void 0:L.mediaWidth,ctaData:B})})})}):null]}),(0,x.jsx)(m.A,{variant:"icon",className:"assets_modal_arrow_right rounded-circle position-absolute",onClick:this.props.slideAssets(Y+1),children:(0,x.jsx)(v.gc,{type:"solid",icon:"arrow-right"})})]}),(0,x.jsx)("div",{className:"full_modal_sidebar position-relative",children:te?(0,x.jsx)(xt,{handleClose:()=>this.editPostFun(!1),modalData:L,filter:E,isTaggModal:se,updatePost:K}):(0,x.jsx)(i.Suspense,{fallback:(0,x.jsx)(x.Fragment,{}),children:L?(0,x.jsx)(yt,{updateCarousalPost:this.updateCarousalPost,carousalPostsList:oe,activeCarousalPostsList:ie,activeCarousalPost:le,modalData:L,changeHotspotStatus:this.changeHotspotStatus,enableHotspot:Z,postPostUpdate:R,modalCallback:this.props.modalCallback},null===L||void 0===L?void 0:L.id):null})})]})]})}}const Nt=(0,o.Ng)(e=>{var t,s,l,i,o;return{ctaData:null===(t=e.ctaData)||void 0===t?void 0:t.data,isShoppable:null===(s=e.authorized)||void 0===s||null===(l=s.userData)||void 0===l||null===(i=l.user_data)||void 0===i||null===(o=i.UserRule)||void 0===o?void 0:o.shoppableStatus,moderation:e.moderation}},e=>({UPDATE_HOTSPOT_ACTION:(t,s,l,i,o,a)=>e((0,h.Zl)(t,s,l,i,o,a)),REMOVE_TAGGED_PRODUCT_ACTION:(t,s,l)=>e((0,h.PB)(t,s,l)),ENABLE_HOTSPOT_ACTION:(t,s,l,i)=>e((0,h.Vi)(t,s,l,i)),getUserInfo_afterChanges:()=>e((0,Y.AW)())}))((0,k.A)(wt));var _t=s(74378),kt=s.n(_t);class Ct extends i.Component{constructor(){super(...arguments),this.state={isRequest:!1}}componentDidMount(){const{item:e}=this.props;[3,5].includes(null===e||void 0===e?void 0:e.type)&&!e.mediaUrl&&this.setState({isRequest:!0},()=>(0,h.Cj)(e))}render(){var e,t,s;const{refreshPostLoading:l,onRefreshPost:i,item:o}=this.props;return(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:(null===(e=window)||void 0===e||null===(t=e.APP_CONTENT)||void 0===t||null===(s=t.moderation)||void 0===s?void 0:s.btn_refresh)||""}),children:(0,x.jsx)("span",{className:"refresh_post_media_".concat(o.id," me-2 cursor-pointer ").concat(l?"disabled":""),onClick:()=>i(o),style:{display:"none"},children:(0,x.jsx)("span",{className:"refresh-icon-".concat(o.id," d-inline-block"),children:(0,x.jsx)(v.gc,{icon:"arrows-rotate"})})})})}}const At=Ct,Tt=e=>{let{item:t}=e;const[s,l]=(0,i.useState)(!1),o=20==t.networkId?null===t||void 0===t?void 0:t.postcontent:(0,A.w)(null===t||void 0===t?void 0:t.postcontent),a=Array.isArray(o)?o.length>0?o[0]:"":o,n=a.length>80,d=20==t.networkId?window.slackdown.parse(a,t.slackMember):a;return(0,x.jsx)(x.Fragment,{children:n?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"mb-1 gridpostContent ".concat(s?"trimPostContent2 ":"trimPostContent "),id:"gridpostContent".concat(t.id),children:(0,z.Ay)((0,A.K$)(String(d)||""))}),(0,x.jsxs)("span",{className:"readMore_btn position-relative text-muted fs-9 fw-semibold cursor-pointer",onClick:e=>{e.stopPropagation(),l(!s)},children:[" ",s?"Read Less":"... Read More"]})]}):(0,x.jsxs)("p",{id:"gridpostContent".concat(t.id),className:"gridpostContent fs-8",children:[" ",(0,z.Ay)((0,A.K$)(String(d)||""))]})})};var St=s(68849);const Pt=e=>{var t,s,o,a,n,d;let{isOpen:c,data:r,handleClose:m,listData:u}=e;const[p,v]=(0,i.useState)({buttonText:"",buttonUrl:"",ctaButtonColor:"",ctaTextColor:"",status:!1,buttonTextError:!1,buttonUrlError:!1,textColorError:!1,buttonColorError:!1}),[g,j]=(0,i.useState)(!1),b=(0,i.useMemo)(()=>{var e,t,s;return null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{}},[]),f=e=>{null===u||void 0===u||u.forEach(t=>{t.referenceId==(null===e||void 0===e?void 0:e.referenceId)&&t.cta&&Object.assign(t.cta,{id:null===e||void 0===e?void 0:e.id,buttonText:null===e||void 0===e?void 0:e.buttonText,buttonUrl:null===e||void 0===e?void 0:e.buttonUrl,ctaTextColor:null===e||void 0===e?void 0:e.textColor,ctaButtonColor:null===e||void 0===e?void 0:e.buttonColor,status:null===e||void 0===e?void 0:e.status})}),m(),j(!1)};return(0,i.useEffect)(()=>{if((0,A.Ki)(null===r||void 0===r?void 0:r.cta)){const{buttonText:e,buttonUrl:t,ctaButtonColor:s,ctaTextColor:i,status:o}=null===r||void 0===r?void 0:r.cta;v(a=>(0,l.A)((0,l.A)({},a),{},{buttonText:e,buttonUrl:t,ctaButtonColor:s,ctaTextColor:i,status:o}))}},[r]),(0,x.jsxs)(F.A,{show:c,onHide:m,backdrop:"static",keyboard:!1,size:"lg",centered:!0,children:[(0,x.jsx)(F.A.Header,{closeButton:!0,children:(0,x.jsx)(F.A.Title,{children:(null===b||void 0===b?void 0:b.modal_title)||""})}),(0,x.jsx)(F.A.Body,{children:(0,x.jsxs)("form",{children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsxs)("label",{htmlFor:"buttontext",className:"form-label",children:[(null===b||void 0===b?void 0:b.label_btn_text)||""," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)("input",{name:"buttontext",id:"buttontext",className:"form-control",maxLength:"25",placeholder:(null===b||void 0===b?void 0:b.ph_btn_text)||"",value:null===p||void 0===p?void 0:p.buttonText,onChange:e=>v(t=>(0,l.A)((0,l.A)({},t),{},{buttonText:e.target.value,buttonTextError:!1}))}),null!==p&&void 0!==p&&p.buttonTextError?(0,x.jsx)("div",{className:"form-text text-danger",children:(null===b||void 0===b?void 0:b.error_required)||""}):null]}),(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsxs)("label",{htmlFor:"color-ctaTextColor",className:"form-label",children:[" ",(null===b||void 0===b?void 0:b.label_text_color)||""," ",(0,x.jsx)("span",{className:"text-danger",children:"*"}),"  "]}),(0,x.jsx)(St.A,{id:"color-ctaTextColor",inheritStyle:!1,defaultColor:null===p||void 0===p?void 0:p.ctaTextColor,changeColor:e=>{v(t=>(0,l.A)((0,l.A)({},t),{},{ctaTextColor:e,textColorError:!1}))}}),null!==p&&void 0!==p&&p.textColorError?(0,x.jsx)("div",{className:"form-text text-danger",children:(null===b||void 0===b?void 0:b.error_required)||""}):null]}),(0,x.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,x.jsxs)("label",{htmlFor:"color-ctaButtonColor",className:"form-label",children:[(null===b||void 0===b?void 0:b.label_btn_color)||""," ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)(St.A,{id:"color-ctaButtonColor",inheritStyle:!1,defaultColor:null===p||void 0===p?void 0:p.ctaButtonColor,changeColor:e=>v(t=>(0,l.A)((0,l.A)({},t),{},{ctaButtonColor:e,buttonColorError:!1}))}),null!==p&&void 0!==p&&p.buttonColorError?(0,x.jsx)("div",{className:"form-text text-danger",children:(null===b||void 0===b?void 0:b.error_required)||""}):null]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsxs)("label",{htmlFor:"url",className:"form-label",children:["URL ",(0,x.jsx)("span",{className:"text-danger",children:"*"})]}),(0,x.jsx)("input",{type:"url",id:"url",name:"buttonUrl",className:"form-control",placeholder:"https://example.com",maxLength:"255",value:null===p||void 0===p?void 0:p.buttonUrl,onChange:e=>v(t=>(0,l.A)((0,l.A)({},t),{},{buttonUrl:e.target.value,buttonUrlError:!(0,A.hB)(e.target.value)})),required:!0}),p.buttonUrlError?(0,x.jsx)("div",{className:"form-text text-danger",children:(null===b||void 0===b?void 0:b.error_url)||""}):null]}),(0,x.jsxs)("div",{className:"mb-3 d-flex align-items-center justify-content-between",children:[(0,x.jsxs)("label",{htmlFor:"CtaStatus",className:"form-label mb-0",children:["  ",(null===b||void 0===b?void 0:b.label_status)||""," "]}),(0,x.jsx)("div",{className:"form-check form-switch",children:(0,x.jsx)("input",{type:"checkbox",className:"form-check-input",id:"CtaStatus",name:"data[status]",checked:null===p||void 0===p?void 0:p.status,onChange:e=>v(e=>(0,l.A)((0,l.A)({},e),{},{status:e.status?0:1}))})})]})]})}),(0,x.jsxs)(F.A.Footer,{children:[(0,x.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:m,children:[" ",(null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s||null===(o=s.common)||void 0===o?void 0:o.cancel)||"Cancel"," "]}),(0,x.jsxs)("button",{type:"button",className:"btn btn-primary cursor-pointer ".concat(g?"spinner spinner-gray":""),onClick:()=>{j(!0);const{wallId:e,referenceId:t,feedId:s}=r,{buttonText:i,buttonUrl:o,ctaButtonColor:a,ctaTextColor:n,status:d}=p;if(i&&o&&a&&n&&(0,A.hB)(o)){var c,m;let l=null!==r&&void 0!==r&&null!==(c=r.cta)&&void 0!==c&&c.id?2:1;const u={id:null===r||void 0===r||null===(m=r.cta)||void 0===m?void 0:m.id,referenceId:t,wallId:e,feedId:s,buttonText:i,buttonUrl:o,textColor:n,buttonColor:a,status:d,action:l};(0,h.SL)(u,f)}else{var u,x;const e={buttonTextError:!i,textColorError:0==(null===(u=String(n))||void 0===u?void 0:u.length),buttonColorError:0==(null===(x=String(a))||void 0===x?void 0:x.length),buttonUrlError:!o||!(0,A.hB)(o)};v(t=>(0,l.A)((0,l.A)({},t),e)),j(!1)}},children:[" ",(null===(a=window)||void 0===a||null===(n=a.APP_CONTENT)||void 0===n||null===(d=n.common)||void 0===d?void 0:d.save_changes)||""]})]})]})},Dt=e=>{var t,s,o;let{show:a,data:n,handleClose:d}=e;const[c,r]=(0,i.useState)({activeEmbed:1,width:100,height:100,wUnit:{value:"percent",label:"%"},hUnit:{value:"percent",label:"%"},loading:!1,caption:1,copied:!1,header:1}),{activeEmbed:h,width:u,height:g,wUnit:j,hUnit:b,loading:f,caption:y,copied:w,header:N}=c,_=null!==(t=null===(s=window)||void 0===s||null===(o=s.APP_CONTENT)||void 0===o?void 0:o.moderation)&&void 0!==t?t:{},k=e=>{(0,A.x_)(e),r(e=>(0,l.A)((0,l.A)({},e),{},{copied:!0})),setTimeout(()=>{r(e=>(0,l.A)((0,l.A)({},e),{},{copied:!1}))},1e3)};return(0,x.jsxs)(F.A,{show:a,onHide:d,backdrop:"static",keyboard:!1,size:"lg",centered:!0,children:[(0,x.jsx)(F.A.Header,{closeButton:!0,children:(0,x.jsx)(F.A.Title,{children:(null===_||void 0===_?void 0:_.single_post_embed)||""})}),(0,x.jsxs)(F.A.Body,{children:[(0,x.jsxs)("div",{className:"position-relative mb-4 embed_code embed_code_box iframe_embcode_box rounded-3",children:[(0,x.jsx)("div",{className:"embed-border p-2",children:(0,x.jsxs)("div",{className:"embed_code_wrap",children:[(0,x.jsxs)("div",{className:"nav-ul mb-2",children:[(0,x.jsx)("button",{className:"btn btn-sm me-1 ".concat(1==h?"btn-primary":""),onClick:()=>r(e=>(0,l.A)((0,l.A)({},e),{},{activeEmbed:1})),children:(null===_||void 0===_?void 0:_.btn_litecode)||""}),(0,x.jsx)("button",{className:"btn btn-sm ".concat(2==h?"btn-primary":""),onClick:()=>r(e=>(0,l.A)((0,l.A)({},e),{},{activeEmbed:2})),children:(null===_||void 0===_?void 0:_.btn_iframe)||""})]}),(0,x.jsx)("code",{className:"form-control textarea-min-row-4 p-lg-4 fs-6",id:"embed_code_",onClick:()=>k("embed_code_"),children:(0,A.dc)(1,h,u,g,j,b,"","","",null===n||void 0===n?void 0:n.id,null===n||void 0===n?void 0:n.wallId,y,N)})]})}),(0,x.jsx)("div",{className:"position-absolute end-0 bottom-0 pe-5 pb-5",children:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:w?(null===_||void 0===_?void 0:_.tooltip_copied)||"":(null===_||void 0===_?void 0:_.tooltip_copy)||""}),children:(0,x.jsx)(m.A,{variant:"link",className:"text-gray-300 fs-4 p-0",onClick:()=>k("embed_code_"),children:(0,x.jsx)(v.gc,{type:"solid",icon:w?"check":"copy",iconClass:w?"text-success":""})})})})]}),1!=n.type?(0,x.jsxs)("div",{className:"d-flex align-items-center w-100 ms-2 mb-2",children:[(0,x.jsxs)(p.A.Label,{className:"mb-0",htmlFor:"inherit_",children:[(0,x.jsx)("span",{className:"me-3 fs-7",children:(null===_||void 0===_?void 0:_.label_caption)||""})," "]}),(0,x.jsx)(p.A.Check,{type:"switch",id:"inherit_",className:"mt-1",defaultValue:y,checked:1===y,onChange:e=>r(t=>(0,l.A)((0,l.A)({},t),{},{caption:Number(e.target.checked)}))})]}):null,(0,x.jsxs)("div",{className:"d-flex align-items-center w-100 ms-2 mb-2",children:[(0,x.jsxs)(p.A.Label,{className:"mb-0",htmlFor:"inherit_",children:[(0,x.jsx)("span",{className:"me-3 fs-7",children:(null===_||void 0===_?void 0:_.label_header)||""})," "]}),(0,x.jsx)(p.A.Check,{type:"switch",id:"inherit_",className:"mt-1",defaultValue:N,checked:1===N,onChange:e=>r(t=>(0,l.A)((0,l.A)({},t),{},{header:Number(e.target.checked)}))})]})]}),(0,x.jsx)(F.A.Footer,{children:(0,x.jsx)("button",{type:"button",className:"btn btn-primary cursor-pointer ".concat(f?"spinner spinner-gray":""),onClick:()=>k("embed_code_"),children:w?(null===_||void 0===_?void 0:_.btn_copied)||"":(null===_||void 0===_?void 0:_.btn_copy_code)||""})})]})};class It extends i.Component{constructor(){super(...arguments),this.imageQueue=[],this.state={postID:null,id:null,data:null,itemIndex:null,modalData:null,firstRequest:!1,openpinToTopModal:!1,showModal:!1,currentIndex:null,isOpen:!1,ctaData:{},isOpenEmbed:!1},this.tourImport=null,this.clickToPin=(e,t,s)=>l=>{(0,C.Yj)("contentGallery","editGallery",!0)&&this.props.clickToPostPin(e,t,s)},this.clickToHighLight=(e,t,s)=>l=>{(0,C.Yj)("contentGallery","editGallery",!0)&&this.props.highLight(e,t,s)},this.clickToGetUgc=e=>t=>{(0,C.Yj)("contentGallery","editGallery",!0)&&(this.props.getUgcDetails(e),this.openUgcModal())},this.clickToDeletePost=(e,t)=>s=>{(0,C.Yj)("contentGallery","editGallery",!0)&&this.props.clickToDeletePost(e,t,this.props.navigate)},this.clickToBlockUser=(e,t)=>s=>{(0,C.Yj)("contentGallery","editGallery",!0)&&this.props.clickToBlockUser(e,t)},this.clickToPostStatus=(e,t,s)=>l=>{(0,C.Yj)("contentGallery","editGallery",!0)&&this.props.clickToPostStatus(e,t,s)},this.onClickToPostTags=e=>t=>{this.props.searchTagsFilter(e)},this.openUgcModal=e=>{this.props.ugcModal(!0)},this.handleCta=e=>{this.setState({ctaData:e,isOpen:!!e})},this.handleSingleEmbed=e=>{this.setState({isOpenEmbed:!!e,ctaData:e})},this.clickToGetLink=(e,t)=>s=>{this.props.getUgcDetails(t),this.props.GET_UGC_REQUEST(t),this.props.onShow(e,t.ugcmodified)},this.onRefreshPost=async e=>{const{UPDATE_INSTA_POST_ACTION:t}=this.props;(0,C.Yj)("contentGallery","editGallery",!0)&&await t(e)},this.handleModalShow=(e,t)=>{this.setState({showModal:!0,modalData:e,currentIndex:t})},this.handleCallback=e=>{this.setState({showModal:e,modalData:null,currentIndex:null})},this.slideAssets=e=>t=>{const{listData:s}=this.props;if(-1===e){let e=s.length-1;this.setState({currentIndex:e,modalData:s[e]})}else{let t=s.length==e?0:e;this.setState({currentIndex:t,modalData:s[t]})}},this.checkTour=async()=>{var e,t;const l=this,{moderation:i,navigate:o,dispatch:a}=l.props,n=(0,A.lL)("tourStep"),d=null===(e=(0,A.lL)("isTour"))||void 0===e||e;l.tourImport||(l.tourImport=s.e(8695).then(s.bind(s,8695)));const{default:c}=await l.tourImport,{tour:r}=new c(o,!1,a);if(!d&&("#content_menu"==(null===n||void 0===n?void 0:n.id)||"#tag_pd_0"==(null===n||void 0===n?void 0:n.id))&&null!==i&&void 0!==i&&null!==(t=i.listData)&&void 0!==t&&t.length)if("#tag_pd_0"==(null===n||void 0===n?void 0:n.id)&&8==n.step){var h;const e=null===i||void 0===i||null===(h=i.listData)||void 0===h?void 0:h.find(e=>1!=e.type);if(e){const t=2==e.type||4==e.type;(0,A.n4)("tourStep",{id:t?"#enable_hotspot":"#search_pro_select",step:8}),setTimeout(()=>r.highlight({element:"#content_id-".concat(e.id)}),400)}}else setTimeout(()=>{var e;return r.drive(null!==(e=null===n||void 0===n?void 0:n.step)&&void 0!==e?e:4)},200)},this.updatePost=e=>{this.setState({modalData:e})}}componentDidUpdate(e){this.state.modalData!==this.props.listData[this.state.currentIndex]&&this.setState({modalData:this.props.listData[this.state.currentIndex]})}componentDidMount(){}render(){var e,t,s;const{total:l,activeTab:i,filter:o,moderation:a,getUgcDetails:n,handleAllImageError:d,isShoppable:r}=this.props,{openpinToTopModal:h,showModal:u,modalData:g,ctaData:j,isOpen:b,isOpenEmbed:y}=this.state;let w=null===o||void 0===o?void 0:o.tags.join();const N="true"==localStorage.getItem("wallLimitExceed"),_=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{};return(0,x.jsxs)("div",{className:"w-100 mb-4 mb-lg-0",children:[(0,x.jsxs)(kt(),{className:"row gx-2",elementType:"div",disableImagesLoaded:!1,updateOnEachImageLoad:!0,enableResizableChildren:!0,children:[" ",null!==a&&void 0!==a&&a.listData&&(null===a||void 0===a?void 0:a.listData.length)>0?null===a||void 0===a?void 0:a.listData.map((e,t)=>{var s,o,a,d,h,u,g,j,b,y,k,T,S,I,F,O,U,E,B;return e.status==i||0==i?(0,x.jsx)("article",{"aria-labelledby":e.postcontent,"total-items":l,className:"assetsItem",id:"content_id-".concat(e.id),"data-post-id":e.id,"data-highlight":e.highlight,"data-pinned":e.pin,"data-created":e.createdAt,children:(0,x.jsx)(Me.A,{children:(0,x.jsxs)(Ke.A,{className:"border-0",style:{outline:null!==e&&void 0!==e&&e.highlight?"2px solid var(--bs-primary)":"",outlineOffset:2},children:[(0,x.jsxs)("section",{className:"f-between p-2",style:{boxShadow:"0px 1px 0px rgba(0,0,0,.1)"},children:[(0,x.jsxs)("div",{className:"d-flex align-items-center list-inline mb-0",id:"post-actions-".concat(e.id),children:[(0,x.jsx)(p.A.Check,{className:"me-2","aria-label":"select",checked:e.isChecked,value:e.isChecked,onChange:this.props.clickPostChecked(t)}),(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null===_||void 0===_?void 0:_.tooltip_pin}),children:(0,x.jsx)("span",{className:"w-18px f-center fs-8 me-2 cursor-pointer ".concat(e.pin?"text-primary":"text-muted"),onClick:N?null:this.clickToPin(t,null!==(s=e.imageList)&&void 0!==s&&s.length?e.ptPost:e.postId,e.pin),"data-value":e.pin,children:(0,x.jsx)(v.gc,{type:"solid",icon:"thumbtack"})})}),(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null===_||void 0===_?void 0:_.tooltip_highlight}),children:(0,x.jsx)("span",{className:"w-18px f-center fs-8 me-2 cursor-pointer ".concat(e.highlight?"text-primary":"text-muted"),onClick:N?null:this.clickToHighLight(t,e.referenceId,e.highlight),"data-value":e.highlight,children:(0,x.jsx)(v.gc,{type:"solid",icon:"star"})})}),(3!=e.networkId||62!=e.feedFilter)&&(18!=e.networkId||24!=e.feedFilter&&25!=e.feedFilter&&26!=e.feedFilter&&0!=e.feedFilter)||null!=e.ugcstatus||1==e.type||N?null:(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null===_||void 0===_?void 0:_.btn_get_rights}),children:(0,x.jsx)("span",{className:"w-18px f-center fs-8 me-2 cursor-pointer",onClick:()=>{(0,C.Yj)("contentGallery","editGallery",!0)&&(n(e),this.openUgcModal())},children:null==e.ugcRights||4==e.ugcstatus?(0,x.jsx)(v.gc,{type:"solid",icon:"user-check",iconClass:"text-muted"}):2==e.ugcstatus?(0,x.jsx)(v.gc,{type:"solid",icon:"user-check",iconClass:"text-success"}):1==e.ugcstatus?(0,x.jsx)(v.gc,{type:"solid",icon:"user-clock",iconClass:"text-warning"}):3==e.ugcstatus?(0,x.jsx)(v.gc,{type:"solid",icon:"user-xmark",iconClass:"text-danger"}):""})}),[18,2].includes(null===e||void 0===e?void 0:e.networkId)?(0,x.jsx)(At,{onRefreshPost:this.onRefreshPost,item:e}):null]}),(0,x.jsxs)(c.A,{children:[(0,x.jsx)(P.A,{placement:"top",overlay:(0,x.jsx)(D.A,{children:null===_||void 0===_?void 0:_.tooltip_more}),children:(0,x.jsx)(c.A.Toggle,{variant:"secondary","aria-label":"more",className:"arrow_disabled dropdown-toggle border-0 p-0",children:(0,x.jsx)(v.gc,{icon:"ellipsis"})})}),(0,x.jsxs)(c.A.Menu,{children:[1==e.status?(0,x.jsxs)(c.A.Item,{onClick:()=>this.handleSingleEmbed(e),children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(v.gc,{type:"solid",icon:"paper-plane"})}),null===_||void 0===_?void 0:_.single_post_embed]}):null,r?null:(0,x.jsxs)(c.A.Item,{onClick:()=>this.handleCta(e),children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(v.gc,{type:"solid",icon:null!==(o=Object.keys((null===e||void 0===e?void 0:e.cta)||{}))&&void 0!==o&&o.length?"edit":"add"})}),null!==(a=Object.keys((null===e||void 0===e?void 0:e.cta)||{}))&&void 0!==a&&a.length?null===_||void 0===_?void 0:_.action_edit_cta:null===_||void 0===_?void 0:_.action_add_cta]}),1!=e.ugcstatus||2!=e.ugcstatus?(0,x.jsxs)(c.A.Item,{onClick:this.clickToDeletePost(e,t),children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(v.gc,{type:"solid",icon:"trash-can"})}),null===_||void 0===_?void 0:_.menu_delete]}):null,(0,x.jsxs)(c.A.Item,{onClick:this.clickToBlockUser(t,e.username),disabled:N,children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(v.gc,{type:"solid",icon:"ban"})}),null===_||void 0===_?void 0:_.menu_block]}),""!=e.link&&null!=e.link?(0,x.jsxs)(c.A.Item,{href:e.link,target:"_blank",children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(v.gc,{type:"solid",icon:"paper-plane"})}),null===_||void 0===_?void 0:_.menu_view]}):null,e.pin?(0,x.jsxs)(c.A.Item,{disabled:N,onClick:()=>this.setState({openpinToTopModal:!0}),children:[(0,x.jsx)("span",{className:"me-2",children:(0,x.jsx)(v.gc,{type:"solid",icon:"right-left"})}),null===_||void 0===_?void 0:_.action_change_order]}):""]})]})]}),(0,x.jsxs)("section",{className:"cursor-pointer position-relative",children:[Object.keys((null===e||void 0===e?void 0:e.recommendation)||{}).length>0?(0,x.jsxs)("div",{className:"image_type position-absolute start-0 rounded-4 f-center mt-2 ms-2 block-center recomm_type_".concat(e.recommendation.type),children:[(0,x.jsx)("div",{className:"h-10px w-10px rounded-circle d-flex flex-shrink-0 ".concat(1==e.recommendation.type?"bg-success":2==e.recommendation.type?"bg-warning":3==e.recommendation.type?"bg-danger":null)}),(0,x.jsx)("div",{className:"img_quality_status",children:(0,x.jsx)("span",{className:"fs-10 text-ellipsis px-1 text-light fw-medium d-block",children:e.recommendation.label})})]}):null,(0,x.jsxs)("div",{onClick:()=>N?{}:this.handleModalShow(e,t),children:[e.imageList&&e.imageList.length?(0,x.jsx)("span",{className:"position-absolute top-0 end-0 p-2",style:{zIndex:2},children:(0,x.jsx)(v.gc,{type:"solid",icon:"clone",iconClass:"text-white filter-shadow"})}):null,1==e.type?(0,x.jsx)(ht,{mediaClass:"bg-light",content:e.postcontent,rating:e.rating,socialNetworkId:e.networkId}):2==e.type||4==e.type?(0,x.jsx)(ce.A,{mediaClass:"content_img_",size:!1,url:e.postFile,height:e.mediaHeight,width:e.mediaWidth,icon:e.networkId,isCover:!0,rating:e.rating,alt:"",handleAllImageError:!0,item:e}):3==e.type||5==e.type?(0,x.jsxs)(x.Fragment,{children:[e.mediaClip?(0,x.jsx)(mt.A,{item:e,mediaClass:"content_video",size:!1,url:e.mediaClip,poster:e.postFile,height:e.mediaHeight,width:e.mediaWidth,autoPlay:!0,muted:!0,isCover:!0,controls:!1,loop:!0,isupdate:1}):(0,x.jsx)(ce.A,{mediaClass:"content_img_",size:!1,url:e.postFile,height:e.mediaHeight,width:e.mediaWidth,icon:e.networkId,rating:e.rating,alt:"",handleAllImageError:!0,isCover:!0,item:e}),(0,x.jsx)("div",{className:"position-absolute f-center h-100 w-100 start-0 top-0 text-white",style:{fontSize:45},children:(0,x.jsx)(v.gc,{icon:"circle-play",iconClass:"filter-shadow"})})]}):null]}),r?(0,x.jsx)("div",{className:"position-absolute w-100 start-0 bottom-0 p-3 w-100",style:{overflowX:"auto",zIndex:1},children:(0,x.jsx)(Me.A,{children:(0,x.jsx)(Je,{item:e,openContent:(e,t)=>this.handleModalShow(e,t),index:t,navigate:this.props.navigate})})}):null]}),1==e.ugcstatus||2==e.ugcstatus||3==e.ugcstatus||4==e.ugcstatus?(0,x.jsxs)("section",{className:"w-100",children:[1==e.ugcstatus?(0,x.jsxs)("div",{onClick:this.clickToGetLink(1,e),className:"bg-warning f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(v.gc,{type:"solid",icon:"user-clock"})}),(null===_||void 0===_?void 0:_.status_pending)||"",e.ugccreated?(0,x.jsxs)("small",{children:["(",e.ugccreated?f()(f()(e.ugcmodified,"YYYY-MM-DD  HH:mm:ss").utcOffset(0)).fromNow():null,")"]}):null]}):null,2==e.ugcstatus?(0,x.jsxs)("div",{onClick:this.clickToGetLink(2,e),className:"bg-success f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(v.gc,{type:"solid",icon:"user-check"})}),(null===_||void 0===_?void 0:_.status_approved)||""]}):null,3==e.ugcstatus?(0,x.jsxs)("div",{onClick:this.clickToGetLink(3,e),className:"bg-danger f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(v.gc,{type:"solid",icon:"user-xmark"})}),(null===_||void 0===_?void 0:_.status_rejected)||""]}):null,4==e.ugcstatus?(0,x.jsxs)("div",{onClick:this.clickToGetLink(4,e),className:"bg-danger f-center text-white fw-medium p-1 w-100 fs-9",children:[(0,x.jsx)("span",{className:"me-1",children:(0,x.jsx)(v.gc,{type:"solid",icon:"user-xmark"})}),(null===_||void 0===_?void 0:_.status_expired)||""]}):null]}):null,!r&&null!==e&&void 0!==e&&null!==(d=e.cta)&&void 0!==d&&d.status&&null!==e&&void 0!==e&&null!==(h=e.cta)&&void 0!==h&&h.buttonText?(0,x.jsx)("section",{className:"d-flex p-2 w-100 grid-cta-status-".concat(e.id),children:(0,x.jsx)("a",{className:"btn font-weight-bold text-nowrap w-100",title:null===e||void 0===e||null===(u=e.cta)||void 0===u?void 0:u.buttonText,target:"_blank",href:"".concat(null!==e&&void 0!==e&&null!==(g=e.cta)&&void 0!==g&&g.buttonUrl&&null!==e&&void 0!==e&&null!==(j=e.cta)&&void 0!==j&&j.buttonUrl.includes("http")?null===e||void 0===e||null===(b=e.cta)||void 0===b?void 0:b.buttonUrl:"//".concat(null===e||void 0===e||null===(y=e.cta)||void 0===y?void 0:y.buttonUrl)),style:{backgroundColor:null===e||void 0===e||null===(k=e.cta)||void 0===k?void 0:k.ctaButtonColor,color:null===e||void 0===e||null===(T=e.cta)||void 0===T?void 0:T.ctaTextColor},children:(0,x.jsx)("span",{children:null===e||void 0===e||null===(S=e.cta)||void 0===S?void 0:S.buttonText})})}):null,e.rating>0&&1!=e.type?(0,x.jsx)("section",{className:"d-flex justify-content-start p-3 pb-0",children:(0,x.jsx)(K.A,{className:"fs-5",iconClass:"me-1",rating:e.rating})}):null,(0,x.jsxs)("section",{className:"p-3",children:[(0,x.jsx)(et,{item:e,onClickToPostTags:this.onClickToPostTags,selection:w},e.tags),(0,x.jsxs)("div",{className:"f-between mb-2",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center pe-2",style:{maxWidth:"calc(100% - 25px)"},children:[(0,x.jsx)(re.A,{imageSize:36,symbolClass:"symbol-label fs-5",className:"symbol symbol-36 rounded-circle flex-shrink-0 me-2 overflow-hidden",name:(0,A.Xo)(e.username),profileUrl:e.picture,networkId:e.networkId}),(0,x.jsxs)("div",{className:"d-flex flex-column flex-grow-1 overflow-hidden",children:[null!==e&&void 0!==e&&e.link?(0,x.jsx)(L.N_,{to:null===e||void 0===e?void 0:e.link,target:"_blank",className:"mb-0 text-ellipsis fw-bold text-body",title:e.postname,children:(null===e||void 0===e?void 0:e.postname)||""}):(0,x.jsx)("span",{className:"mb-0 text-ellipsis fw-bold text-body",children:(null===e||void 0===e?void 0:e.username)||""}),(0,x.jsxs)("div",{className:"d-flex align-items-center",children:[(0,x.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:["@",(0,A.Xo)(10==e.networkId&&86==(null===e||void 0===e?void 0:e.feedFilter)?null!==(I=null===e||void 0===e||null===(F=e.postname)||void 0===F?void 0:F.replace(/\s+/g,""))&&void 0!==I?I:"":null!==(O=null===e||void 0===e||null===(U=e.username)||void 0===U?void 0:U.replace(/\s+/g,""))&&void 0!==O?O:"")]}),(0,x.jsx)("span",{className:"h-4px w-4px rounded-circle mx-1 d-flex flex-shrink-0",style:{backgroundColor:"var(--bs-gray-600)"}}),(0,x.jsxs)("span",{className:"mb-0 text-ellipsis fs-10 text-muted",children:[" ",f()(new Date(1e3*e.createdAt)).fromNow()]})]})]})]}),(0,x.jsx)("span",{className:"d-flex align-items-center h-24px w-24px flex-shrink-0",children:(0,x.jsx)(M.A,{src:(0,v.pc)("media/icons/social-icons/".concat((0,A.EC)(e.networkId),".svg")),height:24,width:24,alt:(0,A.Oi)(e.networkId),title:(0,A.Oi)(e.networkId),fluid:!0})})]}),1!=e.type?(0,x.jsx)(Tt,{item:e}):null]}),(0,x.jsxs)("section",{className:"d-flex align-items-center p-3 border-top",children:[3!=e.status?(0,x.jsx)("div",{className:"w-50 me-1",children:(0,x.jsx)(m.A,{variant:"public",size:"sm",onClick:this.clickToPostStatus(t,null!==(E=e.imageList)&&void 0!==E&&E.length?e.ptPost:e.postId,1),className:"".concat(1==e.status?"disabled":""," w-100"),disabled:N,children:(null===_||void 0===_?void 0:_.tab_public)||""})}):null,3!=e.status?(0,x.jsx)("div",{className:"w-50 ms-1",children:(0,x.jsx)(m.A,{variant:"private",size:"sm",onClick:this.clickToPostStatus(t,null!==(B=e.imageList)&&void 0!==B&&B.length?e.ptPost:e.postId,2),className:"".concat(2==e.status?"disabled":""," w-100"),disabled:N,children:(null===_||void 0===_?void 0:_.tab_private)||""})}):null]})]})})},"post".concat(t,"_").concat(e.id)):null}):null]}),g?(0,x.jsx)(Nt,{clickToPin:this.clickToPin,clickToGetUgc:this.clickToGetUgc,clickToDeletePost:this.clickToDeletePost,clickToBlockUser:this.clickToBlockUser,modalCallback:this.handleCallback,modalToggle:u,modalData:g,exportDonwloadMedia:this.exportDonwloadMedia,slideAssets:this.slideAssets,currentIndex:this.state.currentIndex,filter:o,onRefreshPost:this.onRefreshPost,updatePost:this.updatePost,handleSingleEmbed:this.handleSingleEmbed}):null,(0,x.jsx)(it,{openpinToTopModal:h,closeModalPop:()=>this.setState({openpinToTopModal:!1})}),b?(0,x.jsx)(Pt,{isOpen:b,data:j,listData:null===a||void 0===a?void 0:a.listData,handleClose:()=>this.handleCta(null)}):null,y?(0,x.jsx)(Dt,{show:y,data:j,handleClose:()=>this.handleSingleEmbed(null)}):null]})}}const Ft=(0,o.Ng)(e=>{var t,s,l,i,o,a,n,d;return{isEditing:null===(t=e.moderation)||void 0===t?void 0:t.isEditing,ugcData:null===(s=e.moderation)||void 0===s?void 0:s.ugcData,ugcPopup:null===(l=e.moderation)||void 0===l?void 0:l.ugcPopup,ugcRequestData:null===(i=e.moderation)||void 0===i?void 0:i.ugcRequestData,moderation:e.moderation,limits:e.limitExceed,isShoppable:null===(o=e.authorized)||void 0===o||null===(a=o.userData)||void 0===a||null===(n=a.user_data)||void 0===n||null===(d=n.UserRule)||void 0===d?void 0:d.shoppableStatus}},e=>({clickToPostStatus:(t,s,l,i)=>e((0,h.QK)(t,s,l,i)),clickToPostPin:(t,s,l)=>e((0,h.b4)(t,s,l)),highLight:(t,s,l)=>e((0,h.DJ)(t,s,l)),clickToDeletePost:(t,s,l)=>e((0,h.xL)(t,s,l)),clickToBlockUser:(t,s)=>e((0,h.C8)(t,s)),getUgcDetails:t=>e((0,h.Qb)(t)),ugcModal:t=>e((0,h.$k)(t)),UPDATE_INSTA_POST_ACTION:t=>e((0,h.KH)(t)),GET_UGC_REQUEST:t=>e((0,h.rA)(t))}))((0,k.A)(It));var Mt=s(26806),Ot=s(26787),Lt=s(5385);class Ut extends i.Component{constructor(){super(...arguments),this.allImageQueue=[],this.state={total:0,isCheckAll:!1,isCheckedPostCount:0,perPageCount:10,activePage:1,filters:[],allFirstImage:!1,statusPopup:0},this.onBoardingSuccess=()=>{setTimeout(()=>{(0,A.l1)({icon:"success",title:"<strong>You are almost there!</strong>",html:"Tag products to curate a Shoppable Gallery & publish it on your pages.",showCloseButton:!0,showCancelButton:!1,focusConfirm:!0,confirmButtonText:"Got it!",confirmButtonColor:"var(--bs-success)",confirmButtonAriaLabel:"Got it!",cancelButtonText:'<i class="fa fa-thumbs-down"></i>',cancelButtonAriaLabel:"Thumbs down"}).then(e=>{e.isConfirmed&&(this.props.getUserInfo_afterChanges(),this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")))})},1e3)},this.clickToCheckAll=e=>{const{isCheckAll:t}=this.state;this.setState({isCheckAll:!t},()=>{this.onActionUpdateOpcity(),this.props.updateCheckAll(this.state.isCheckAll)})},this.clickToCheckStatusAll=e=>t=>{this.onActionUpdateOpcity(),this.props.updateCheckStatusAll(e)},this.clickToUncheckAll=e=>{this.setState({isCheckAll:!1},()=>{this.onActionUpdateOpcity(),this.props.removeCheckAll(!1)})},this.clickPostChecked=e=>t=>this.props.selectPostUpdate(e,this.onActionUpdateOpcity()),this.onActionUpdateOpcity=()=>{const{isCheckAll:e,isCheckedPostCount:t}=this.state;(e||t>0)&&(document.getElementsByClassName("modSelectNo")&&document.getElementsByClassName("modSelectNo")[0]&&(0,A.UD)(document.getElementsByClassName("modSelectNo")[0]),document.getElementsByClassName("filter-bar")&&document.getElementsByClassName("filter-bar")[0]&&(0,A.UD)(document.getElementsByClassName("filter-bar")[0]))},this.clickToTab=e=>t=>this.props.activeTabActionFilter(e),this.onDateRangeFilter=(e,t)=>this.props.dateRangeFilter(e,t),this.onClickToFilterUpdateStatus=e=>t=>{(0,C.Yj)("contentGallery","editGallery",!0)&&this.props.clickToPostStatusALL(e)},this.onClickToFilterDeleteAll=e=>{(0,C.Yj)("contentGallery","editGallery",!0)&&this.props.clickToPostDeleteALL(this.props.navigate)},this.onClickNextPage=e=>this.props.onNextNavigateClick(),this.onClickPrevPage=e=>this.props.onPrevNavigateClick(),this.onChangePage=e=>t=>{this.props.onUpdatePage(e)},this.onClickReset=e=>{let t=this.state.filters.filter(t=>t.key===e.key);t=t.filter(t=>{if(["postType","socialFeed","other"].includes(t.key))return t.value.filter(t=>!e.value.includes(t))}),this.setState({filters:t},()=>this.props.clickToRefresh())},this.onClickAllReset=e=>{this.setState({filters:[]},()=>this.props.getModeration())},this.updatepostCarosal=e=>{const{allWalls:t,galleryUpdate:s,postCarosal:l}=this.props;l(e);const i=(null===t||void 0===t?void 0:t.length)&&t.find(e=>e.id==localStorage.getItem("wallId"));i&&s({name:i.name,status:null===i||void 0===i?void 0:i.status,carouselPost:e||0,autoUpdate:i.autoUpdate||0,deleted:0,id:i.id,action:2})},this.openugcModel=()=>this.props.ugcModal(!0),this.onShow=e=>this.setState({statusPopup:e})}componentDidUpdate(e,t){var s,l,i,o,a;e.moderation.changeModeration_wall!==this.props.moderation.changeModeration_wall&&this.props.moderation.changeModeration_wall&&this.setState({activeTab:null===(s=this.props.moderation)||void 0===s||null===(l=s.filter)||void 0===l?void 0:l.status},this.clickToUncheckAll),(null===(i=this.props)||void 0===i||null===(o=i.allWalls)||void 0===o?void 0:o.length)!==(null===e||void 0===e||null===(a=e.allWalls)||void 0===a?void 0:a.length)&&this.props.getModeration()}componentWillMount(){const{params:e}=this.props,t=window.location.href.replace(null===e||void 0===e?void 0:e.id,localStorage.getItem("wallId"));window.history.pushState(null,"",t),window.feedId=e.feedId}componentDidMount(){var e,t;window.location.href.includes("ob_success")&&this.onBoardingSuccess(),document.cookie="callBackUrl=React",this.props.postLoader(),null!==(e=this.props)&&void 0!==e&&null!==(t=e.allWalls)&&void 0!==t&&t.length&&this.props.getModeration()}componentWillUnmount(){this.allImageQueue=[],this.props.removeAllFilterBody(!0),this.props.removeCheckAll(!1),this.props.limitUpdate(50,!0)}render(){var e,t,s,i,o,n,d,c,r,h,m,u,p,v,g,j,b,f,y,w,N,_;const{isCheckAll:k,perPageCount:T,activePage:S,filters:P}=this.state,{moderation:D,searchTagsFilter:I,limitUpdate:F,loader:M,postCarosal:O,clickToRefresh:L,ugcModal:U,clearUgcData:E,removeAllFilterBody:R,searchPostFilter:Y,allWalls:z,wallsLoader:H,feeds:G,ugcData:W,ugcPopup:q,CLEAR_UGC_REQUEST_DATA:K,navigate:$,isShoppable:V}=this.props,Q=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.moderation)&&void 0!==e?e:{},Z=null!==(i=null===z||void 0===z?void 0:z.find(e=>e.id==localStorage.getItem("wallId")))&&void 0!==i?i:{},J=(0,A.C2)(),X=null===(o=window)||void 0===o||null===(n=o.APP_CONTENT)||void 0===n?void 0:n.sideBar;return(0,x.jsxs)(x.Fragment,{children:[null!==z&&void 0!==z&&z.length?(0,x.jsx)(Ot.A,{crumbs:[{name:null!==(d=null===Z||void 0===Z?void 0:Z.name)&&void 0!==d?d:"",icon:"image",imgUrl:null!==(c=null===Z||void 0===Z?void 0:Z.thumbnail)&&void 0!==c?c:""},{name:null===X||void 0===X?void 0:X.home,link:"/home"},{name:null===X||void 0===X?void 0:X.contentGallery,link:"/content"}],RightComponent:(0,x.jsx)("div",{className:"d-flex align-items-center"}),showGallerySwitcher:!0},null===Z||void 0===Z?void 0:Z.id):null,(0,x.jsxs)("div",{className:"custom-side-menu d-flex ".concat(J?"isShopify":""),children:[(0,x.jsx)(Lt.A,{getWallData:Z}),(0,x.jsx)("div",{className:"custom-main-content",children:H||z&&z.length>0?(0,x.jsxs)(x.Fragment,{children:[null!==D&&void 0!==D&&D.total||M.filterLoader?(0,x.jsx)(B,{postCarosal:this.updatepostCarosal,clickToRefresh:L,isShoppable:V,allWalls:z,clickToCheckAll:this.clickToCheckStatusAll,clickToUncheckAll:this.clickToUncheckAll,isCheckAll:k,isCheckedPostCount:null===D||void 0===D?void 0:D.isCheckedPostCount,searchPostFilter:Y,onClickToViewFilter:this.onClickToViewFilter,total:null===D||void 0===D?void 0:D.total,perPageCount:T,activePage:S,moderation:D,clickToTab:this.clickToTab,onDateRangeFilter:this.onDateRangeFilter,onClickToFilterUpdateStatus:this.onClickToFilterUpdateStatus,onClickToFilterDeleteAll:this.onClickToFilterDeleteAll,searchTagsFilter:I,limitUpdate:F,onNextNavigateClick:this.onClickNextPage,onPrevNavigateClick:this.onClickPrevPage,onChangePage:this.onChangePage,onAppliedFilter:this.onAppliedFilter,activeTab:null===D||void 0===D||null===(r=D.filter)||void 0===r?void 0:r.status},null===D||void 0===D||null===(h=D.filter)||void 0===h?void 0:h.status):null,(0,x.jsx)("div",{className:"d-flex flex-column flex-column-fluid full-content moderation__",children:(0,x.jsxs)(a.A,{fluid:!0,className:"position-relative",children:[(0,x.jsx)(se,(0,l.A)((0,l.A)({},this.props),{},{filterBody:D.filterBody})),(0,x.jsx)(oe,(0,l.A)((0,l.A)({},this.props),{},{filterBody:D.filterBody})),(0,x.jsx)(qe,(0,l.A)((0,l.A)({},this.props),{},{statusPopup:this.state.statusPopup,onHide:()=>{this.setState({statusPopup:0}),K()},openugcModel:this.openugcModel})),0!=(null===D||void 0===D?void 0:D.total)||null!==D&&void 0!==D&&D.loding||M.filterLoader||0!=(null===G||void 0===G?void 0:G.length)?0!=(null===D||void 0===D?void 0:D.total)||null!==D&&void 0!==D&&D.loding||M.filterLoader||!(1==(null===G||void 0===G?void 0:G.length)&&18==(null===G||void 0===G||null===(m=G[0])||void 0===m?void 0:m.networkId)&&24==(null===G||void 0===G||null===(u=G[0])||void 0===u?void 0:u.filterId)||null!==D&&void 0!==D&&null!==(p=D.filterBody)&&void 0!==p&&null!==(v=p.socialFeed)&&void 0!==v&&null!==(g=v[0])&&void 0!==g&&null!==(j=g.key)&&void 0!==j&&j.includes("- Mention")&&18==(null===G||void 0===G||null===(b=G.find(e=>{var t,s,l;return e.id==(null===D||void 0===D||null===(t=D.filterBody)||void 0===t||null===(s=t.socialFeed)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.value)}))||void 0===b?void 0:b.networkId))?0!=(null===D||void 0===D?void 0:D.total)||null!==D&&void 0!==D&&D.loding||M.filterLoader?0!=(null===D||void 0===D||null===(f=D.listData)||void 0===f?void 0:f.length)||1!=(null===D||void 0===D||null===(y=D.filter)||void 0===y?void 0:y.status)||M.filterLoader?0!=(null===D||void 0===D||null===(w=D.listData)||void 0===w?void 0:w.length)||2!=(null===D||void 0===D||null===(N=D.filter)||void 0===N?void 0:N.status)||M.filterLoader?(0,x.jsx)("div",{className:"moderation_card tab-content pb-10 pb-lg-0 h-100",children:M.filterLoader?(0,x.jsx)($e,(0,l.A)({},this.props)):(0,x.jsx)(Me.A,{children:(0,x.jsx)(Ft,(0,l.A)((0,l.A)({clickPostChecked:this.clickPostChecked},D),{},{removeAllFilterBody:R,activeTab:null===D||void 0===D||null===(_=D.filter)||void 0===_?void 0:_.status,searchTagsFilter:I,onAppliedFilter:this.onAppliedFilter,filters:P,onClickAllReset:this.onClickAllReset,onClickReset:this.onClickReset,onShow:this.onShow,navigate:$}))})}):(0,x.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,x.jsx)(Mt.A,{title:null===Q||void 0===Q?void 0:Q.no_posts_yet,desc:null===Q||void 0===Q?void 0:Q.no_posts_yet_desc,icon:"media",button:null,isFullScreen:!1})}):(0,x.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,x.jsx)(Mt.A,{title:null===Q||void 0===Q?void 0:Q.private_posts,desc:null===Q||void 0===Q?void 0:Q.private_posts_desc,icon:null,isHelp:!0,button:{action:()=>(0,C.Yj)("networkManager","manageFeed",!0)?$("/content/addfeed/".concat(localStorage.getItem("wallId"))):{},text:null===Q||void 0===Q?void 0:Q.btn_add_feed4},isFullScreen:!1})}):(0,x.jsx)("div",{className:"f-center",style:{minHeight:"calc(".concat(null!==Z&&void 0!==Z&&Z.totalFeed?"100":"82","vh - 241px)")},children:(0,x.jsx)(Mt.A,{title:null===Q||void 0===Q?void 0:Q.no_posts_avail,desc:null===Q||void 0===Q?void 0:Q.no_posts_avail_desc,icon:null,button:{action:()=>(0,C.Yj)("networkManager","manageFeed",!0)?$("/content/addfeed/".concat(localStorage.getItem("wallId"))):{},text:null===Q||void 0===Q?void 0:Q.btn_add_feed3},isHelp:!0,isFullScreen:!1})}):(0,x.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 241px)"},children:(0,x.jsx)(Mt.A,{title:null===Q||void 0===Q?void 0:Q.meta_limit,desc:null===Q||void 0===Q?void 0:Q.meta_limit_desc,icon:null,button:{action:()=>(0,C.Yj)("networkManager","manageFeed",!0)?$("/content/addfeed/".concat(localStorage.getItem("wallId"))):{},text:null===Q||void 0===Q?void 0:Q.btn_add_feed2},isHelp:!0,isFullScreen:!1})}):(0,x.jsx)("div",{className:"f-center",style:{minHeight:"calc(82vh - 241px)"},children:(0,x.jsx)(Mt.A,{title:null===Q||void 0===Q?void 0:Q.no_feed,desc:null===Q||void 0===Q?void 0:Q.no_feed_desc,icon:null,button:{action:()=>(0,C.Yj)("networkManager","manageFeed",!0)?$("/content/addfeed/".concat(localStorage.getItem("wallId"))):{},text:null===Q||void 0===Q?void 0:Q.btn_add_feed},isHelp:!0,isFullScreen:!1})}),q&&W&&W.template&&W.template.length?(0,x.jsx)(Me.A,{children:(0,x.jsx)(Oe,{ugcData:W,hideUgc:()=>{U(!1),E()}})}):""]})})]}):(0,x.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 182px)"},children:(0,x.jsx)(Mt.A,{title:G&&G.length?null===Q||void 0===Q?void 0:Q.noPosts:null===Q||void 0===Q?void 0:Q.createGallery,desc:null===Q||void 0===Q?void 0:Q.deletedGallery,icon:"media",button:{action:()=>(0,C.Yj)("contentGallery","createGallery",!0)?this.props.TOGGLE_ADD_GALLERY(!0):{},text:null===Q||void 0===Q?void 0:Q.btn_create_gallery},isFullScreen:!1})})})]})]})}}const Et=(0,o.Ng)(e=>{var t,s,l,i,o,a,n,d,c,r,h,m,u,p,v,x;return{moderation:e.moderation,isShoppable:null===(t=e.authorized)||void 0===t||null===(s=t.userData)||void 0===s||null===(l=s.user_data)||void 0===l||null===(i=l.UserRule)||void 0===i?void 0:i.shoppableStatus,loader:e.loader,allFont:e.allFont,showAddFeed:null===(o=e.modalReducer)||void 0===o?void 0:o.showAddFeed,showManageFeed:null===(a=e.modalReducer)||void 0===a?void 0:a.showManageFeed,showCta:null===(n=e.modalReducer)||void 0===n?void 0:n.showCta,wallsLoader:null===(d=e.dashboardData)||void 0===d?void 0:d.wallsLoader,addGalleryNow:null===(c=e.dashboardData)||void 0===c?void 0:c.addGalleryNow,ctaData:null===(r=e.ctaData)||void 0===r?void 0:r.data,ugcData:null===(h=e.moderation)||void 0===h?void 0:h.ugcData,ugcPopup:null===(m=e.moderation)||void 0===m?void 0:m.ugcPopup,ugcRequestData:null===(u=e.moderation)||void 0===u?void 0:u.ugcRequestData,feeds:null===(p=e.manageFeeds)||void 0===p?void 0:p.feeds,allWalls:null===(v=e.dashboardData)||void 0===v||null===(x=v.dashboarddata)||void 0===x?void 0:x.allWalls}},e=>({getModeration:t=>e((0,h.zI)(t)),postLoader:()=>e({type:R.lUJ,payload:!0}),activeTabActionFilter:t=>e((0,h.ww)(t)),updateCheckAll:t=>e((0,h.$)(t)),selectPostUpdate:(t,s)=>e((0,h.ax)(t,s)),dateRangeFilter:(t,s)=>e((0,h.AX)(t,s)),clickToPostStatusALL:t=>e((0,h.lg)(t)),clickToPostDeleteALL:t=>e((0,h.wi)(t)),searchTagsFilter:t=>e((0,h.cO)(t)),searchPostFilter:t=>e((0,h.HD)(t)),limitUpdate:(t,s)=>e((0,h.PH)(t,s)),onNextNavigateClick:()=>e((0,h.yH)()),onPrevNavigateClick:()=>e((0,h.Ec)()),onUpdatePage:t=>e((0,h.eJ)(t)),clickToRefresh:()=>e((0,h.LT)()),postCarosal:t=>e((0,h.gL)(t)),removeAllFilterBody:t=>e((0,h.ud)(t)),removeCheckAll:t=>e((0,h.KN)(t)),updateCheckStatusAll:t=>e((0,h.$3)(t)),TOGGLE_ADD_GALLERY:t=>e({type:R.GSH,payload:t}),getUserInfo_afterChanges:()=>e((0,Y.AW)()),ugcModal:t=>e((0,h.$k)(t)),clearUgcData:()=>e((0,h.nh)()),galleryUpdate:t=>e((0,Ae.kg)(t)),CLEAR_UGC_REQUEST_DATA:()=>e((0,h.Ao)())}))(i.memo((0,k.A)(Ut)))},68047:(e,t,s)=>{s.d(t,{A:()=>x});var l=s(9950),i=s(3302),o=s.n(i),a=s(75794),n=(s(34461),s(57182),s(93766),s(55856),s(44747),s(35131)),d=(s(21784),s(67972),s(76955)),c=s(97937),r=s(51960),h=s(85608),m=s(54810),u=s(38092),p=s.n(u),v=s(44414);class x extends l.Component{constructor(e){super(e),this.state={backgroundModal:!1},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},()=>{o()(".uppy-Dashboard-close").click(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})})})};const{allowedFile:t}=e;this.uppy=new a.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e6,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:t||["image/*"]}}).use(n.Ay,{target:"#a",params:{auth:{key:h.bG},steps:{store:{robot:h._8,bucket_region:h.YL,bucket:h.I2,key:h.jZ,secret:h.mD,path:h.yQ+"${file.id}.${file.ext}"}}},waitForEncoding:!0})}componentDidMount(){this.uppy.on("transloadit:result",(e,t)=>{this.props.onClickTouploadImage("".concat(h.$r).concat(t.id,".").concat(t.ext),()=>{setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},300)})})}render(){var e,t,s,l,i;const{backgroundImage:o,id:a,isVideo:n,showStatus:h}=this.props,{backgroundModal:u}=this.state,x=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.common)&&void 0!==e?e:{};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:[o?null:(0,v.jsxs)(c.A,{id:a,variant:"secondary",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,v.jsx)(m.gc,{icon:"circle-plus"}),n?null!==(l=null===x||void 0===x?void 0:x.attach_video)&&void 0!==l?l:"":null!==(i=null===x||void 0===x?void 0:x.attach_image)&&void 0!==i?i:""]}),o?(0,v.jsxs)("div",{className:"bg-white w-100 rounded-1 position-relative",children:[n?(0,v.jsx)(p(),{height:300,width:300,id:"bg_image",className:"object-fit-contain",url:o,autoPlay:!0,muted:!0,loop:!0}):(0,v.jsx)(r.A,{id:"bg_image",className:"object-fit-contain",src:o,height:300,width:300,alt:"",style:{maxHeight:120},fulid:!0}),(0,v.jsxs)("div",{className:"position-absolute bottom-0 start-0 w-100 f-center",children:[(0,v.jsx)(c.A,{variant:"icon",size:"sm",className:"rounded-circle btn-active-primary m-2 box-shadow border-0",onClick:()=>this.setState({backgroundModal:!0}),children:(0,v.jsx)(m.gc,{type:"solid",icon:"pen"})}),h?null:(0,v.jsx)(c.A,{variant:"icon",size:"sm",className:"rounded-circle btn-active-primary m-2 box-shadow border-0",onClick:()=>this.props.onClickTouploadImage("",()=>{}),children:(0,v.jsx)(m.gc,{icon:"xmark"})})]})]}):null]}),u?(0,v.jsx)(d.KG,{animateOpenClose:!0,open:u,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}},68849:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(9950),i=s(44414);const o=e=>{let{id:t,defaultColor:s,changeColor:o,inheritStyle:a}=e;(0,l.useEffect)(()=>{n()},[s]);const n=()=>{const e=window.$("#".concat(t));e.data("minicolors-initialized")?e.minicolors("value",s):e.minicolors({control:"hue",letterCase:"lowercase",position:"bottom left",change:d,theme:"bootstrap",value:s})},d=(e,t)=>{e&&o(e)};return(0,i.jsx)("input",{className:"form-control minicolors-input","data-control":"hue",type:"text",id:t,defaultValue:s,disabled:a})}},97696:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(9950),i=s(38092),o=s.n(i),a=s(17327),n=s(85608),d=s(10274),c=s(44414);const r=e=>{let{item:t,mediaClass:s,size:i,height:r,width:h,url:m,poster:u,autoPlay:p,muted:v,isCover:x,controls:g,loop:j,isupdate:b}=e;const[f,y]=(0,l.useState)(!1),[w,N]=(0,l.useState)(i||100);return(0,l.useEffect)(()=>{(async()=>{if(i)N(i);else if(r&&""!=r&&h&&""!=h)N(100*r/h);else try{const{width:e,height:t}=await(0,a.A)(u);N(100*t/e)}catch(e){N(100)}})()},[i]),(0,c.jsx)("div",{className:"".concat(s," overflow-hidden position-relative"),style:{paddingBottom:"".concat(w,"%")},children:(0,c.jsx)("div",{className:"position-absolute object-center-cover h-100 w-100",children:(0,c.jsx)(o(),{poster:u,className:"",url:m,config:{facebook:{appId:n.TG},attributes:{"data-item-id":null===t||void 0===t?void 0:t.id,poster:u,"data-network":null===t||void 0===t?void 0:t.networkId,"data-stories":null===t||void 0===t?void 0:t.stories,"data-load":"0","data-filter":null===t||void 0===t?void 0:t.feedFilter,"data-wall-id":null===t||void 0===t?void 0:t.wallId,"data-type":"video"}},autoPlay:p,muted:!0,volume:p?1:0,playsinline:!0,onReady:()=>{y(!0)},playing:p,height:"100%",width:"100%",loop:j,controls:g,onError:b?d.mr:null,style:{backgroundImage:f?"":"url(".concat(u,")"),backgroundSize:x?"cover":"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",textAlign:"center"}})})})}}}]);