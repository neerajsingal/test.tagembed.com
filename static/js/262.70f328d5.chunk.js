"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[262],{80262:(e,s,a)=>{a.r(s),a.d(s,{default:()=>W});var l=a(9950),i=a(45358),t=a(471),n=a(86781),c=a(68459),r=a(17595),o=a(75623),d=a(11942),h=a.n(d),m=a(34483),x=a(11e3),p=a(77359);const g=h().oneOf(["start","end"]),y=h().oneOfType([g,h().shape({sm:g}),h().shape({md:g}),h().shape({lg:g}),h().shape({xl:g}),h().shape({xxl:g}),h().object]);var u=a(44414);const b={id:h().string,href:h().string,onClick:h().func,title:h().node.isRequired,disabled:h().bool,align:y,menuRole:h().string,renderMenuOnMount:h().bool,rootCloseEvent:h().string,menuVariant:h().oneOf(["dark"]),flip:h().bool,bsPrefix:h().string,variant:h().string,size:h().string},j=l.forwardRef(((e,s)=>{let{title:a,children:l,bsPrefix:i,rootCloseEvent:t,variant:n,size:c,menuRole:r,renderMenuOnMount:o,disabled:d,href:h,id:g,menuVariant:y,flip:b,...j}=e;return(0,u.jsxs)(m.A,{ref:s,...j,children:[(0,u.jsx)(x.A,{id:g,href:h,size:c,variant:n,disabled:d,childBsPrefix:i,children:a}),(0,u.jsx)(p.A,{role:r,renderOnMount:o,rootCloseEvent:t,variant:y,flip:b,children:l})]})}));j.displayName="DropdownButton",j.propTypes=b;const A=j;var v=a(19360),f=a(1093),C=a(97937),N=a(42074),k=a(18633),w=a(73878),G=a(1391),S=a(4695),E=a.n(S),_=a(54810),P=a(88053),I=a(52867),M=a(80322),T=a(74283),B=a(66345);const D=[{name:"Website",type:"website"},{name:"Email Campaigns",type:"email_camp"},{name:"Shopon.bio",type:"shopon"}],F=[{name:"Analytics",type:"analytics"},{name:"Apps & more",type:"apps_more"}];class V extends l.Component{constructor(){super(...arguments),this.state={isAdmin:!0,emailId:"",userType:1,createGallery:!1,viewGallery:[],editGallery:[],website:0,email_camp:0,manageAccount:0,manageFeed:0,analytics:1,isEmailError:!1,loading:!0,isChanged:!1,isEdit:!1,isSuperAdmin:!1,shopon:0,apps_more:0,product_catalog:0},this.checkEditInvite=()=>{const{userData:e,params:s}=this.props;s&&Object.keys(s).length>0&&s.id?(0,M.BH)(s.id).then((e=>{const{responseData:s}=e.data;this.getCollaboratorData(s)})).catch((e=>this.setState({loading:!1},(()=>{})))):this.setState({isAdmin:!(!e||""!=e.collaborator&&"0"!=e.collaborator.activeAccount),loading:!1})},this.getCollaboratorData=e=>{const{allWalls:s}=this.props,a=T.A.parse(window.location.search),{networkManager:l,otherSettings:i,publish:t,contentGallery:n,product_catalog:c}=e.permissions;1==e.role?this.setState({isAdmin:!(Object.keys(a).length>0),emailId:e["UserCollab.emailId"],loading:!1,isEdit:!0}):this.setState({isAdmin:!1,emailId:e["UserCollab.emailId"],createGallery:n.createGallery,viewGallery:n.viewGallery.includes("0")?s.map((e=>e.id)):s.filter((e=>n.viewGallery.includes(String(e.id)))).map((e=>e.id)),editGallery:n.editGallery.includes("0")?s.map((e=>e.id)):s.filter((e=>n.editGallery.includes(String(e.id)))).map((e=>e.id)),email_camp:t.email_camp,website:t.website,shopon:t.shopon,manageAccount:l.manageAccount,manageFeed:l.manageFeed,apps_more:i.apps_more,analytics:i.analytics,product_catalog:c,loading:!1,isEdit:!0})},this.onChangeMailId=e=>{this.setState({emailId:e.target.value,isChanged:!0,isEmailError:!1})},this.onSelectGallery=(e,s)=>{let{viewGallery:a,editGallery:l,galleryList:i}=this.state;1==s?(a.includes(e)?a=a.filter((s=>s!=e)):a.push(e),this.setState({viewGallery:a,isChanged:!0})):2==s&&(l.includes(e)?(l=l.filter((s=>s!=e)),a=a.filter((s=>s!=e))):(l.push(e),a.includes(e)||a.push(e)),this.setState({editGallery:l,viewGallery:a,isChanged:!0}))},this.onSelectAllGallerys=(e,s)=>{const{allWalls:a}=this.props;1==s?this.setState({viewGallery:e.target.checked?a.map((e=>e.id)):[],isChanged:!0}):2==s&&this.setState({viewGallery:e.target.checked?a.map((e=>e.id)):[],isChanged:!0,editGallery:e.target.checked?a.map((e=>e.id)):[]})},this.onCreateGallery=e=>{this.setState({createGallery:!!e.target.checked,isChanged:!0})},this.onChangePermission=(e,s)=>{0==this.state[e]?this.setState({[e]:s}):this.setState({[e]:this.state[e]==s?0:s})},this.onCancel=()=>{this.state.isChanged?E().fire({title:this.state.isEdit?"Confirming cancellation":"Are you sure?",text:this.state.isEdit?"All changes will be discarded.":"All selections will be deleted permanently.",icon:"warning",showCancelButton:!0,confirmButtonText:this.state.isEdit?"Yes, Cancel it!":"Yes, proceed.",confirmButtonColor:this.state.isEdit?"var(--bs-success)":""}).then((e=>{e.isConfirmed&&this.props.navigate("/collaborator")})):this.props.navigate("/collaborator")},this.onSubmit=()=>{const{emailId:e,viewGallery:s,editGallery:a,isAdmin:l,isEdit:i}=this.state,{createCollaborator:t,collaboratorList:n}=this.props;if(e.trim().length>0&&(0,I.DT)(e)){const c=n.length>0?n.filter((s=>s["UserCollab.emailId"]==e)):[];if(!i&&c.length>0)(0,I.r$)("Email already exists.");else if(0==l&&0==s.length&&0==a.length)(0,I.r$)("Please select atleast 1 Gallery.");else{t(this.createPayload(),(()=>this.props.navigate("/collaborator")),!!i||null)}}else(e.trim().length<=0||!(0,I.DT)(e))&&(this.setState({isEmailError:!0}),(0,I.r$)("Enter valid email address."))},this.createPayload=()=>{const{isAdmin:e,emailId:s,website:a,shopon:l,email_camp:i,manageAccount:t,manageFeed:n,analytics:c,apps_more:r,createGallery:o,viewGallery:d,editGallery:h,product_catalog:m}=this.state,{allWalls:x}=this.props;return e?{emailId:s,userType:1}:{emailId:s,userType:2,permission:{contentGallery:{createGallery:o?2:0,viewGallery:d.length==x.length?"0":String(d),editGallery:h.length==x.length?"0":String(h)},publish:{website:a,email_camp:i,shopon:l},networkManager:{manageAccount:t,manageFeed:n},otherSettings:{analytics:1==c||2==c?c:1,apps_more:r},product_catalog:m}}}}componentDidMount(){this.checkEditInvite()}render(){const{isAdmin:e,manageAccount:s,manageFeed:a,createGallery:l,isEmailError:d,loading:h,emailId:x,isEdit:p,editGallery:g,viewGallery:y,product_catalog:b}=this.state,{allWalls:j,userData:w}=this.props;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"subheader",children:(0,u.jsx)(i.A,{fluid:!0,children:(0,u.jsxs)("div",{className:"nav nav-underline",children:[(0,u.jsx)("div",{className:"nav-item",children:(0,u.jsx)(N.N_,{to:"/profile",className:"nav-link",title:"Profile",children:"Profile"})}),(0,u.jsx)("div",{className:"nav-item",children:(0,u.jsx)(N.N_,{to:"/transactions",className:"nav-link",title:"Plan Details",children:"Plan details"})}),(0,u.jsx)("div",{className:"nav-item",children:(0,u.jsx)(N.N_,{to:"/social-account",className:"nav-link",title:"Accounts",children:"Social accounts"})}),(0,u.jsx)("div",{className:"nav-item",children:(0,u.jsx)(N.N_,{to:"/collaborator",className:"nav-link active",title:"Collaborator",children:"Collaborator"})})]})})}),(0,u.jsx)("div",{className:"d-flex flex-column flex-column-fluid full-content",children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)(t.A,{className:"mb-0",style:{minHeight:"calc(100vh - 135px)"},children:h?(0,u.jsx)(k.a,{}):(0,u.jsxs)(t.A.Body,{className:"p-lg-6",children:[(0,u.jsxs)("div",{style:{minHeight:"calc(100vh - 239px)"},children:[(0,u.jsxs)("div",{className:"pb-3 mb-8 border-bottom",children:[(0,u.jsx)(n.A,{className:"mb-4",children:(0,u.jsxs)(c.A,{xl:5,lg:6,children:[(0,u.jsxs)(r.A.Label,{htmlFor:"basic-url",children:["Email address",(0,u.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,u.jsxs)("div",{className:"d-flex align-items-start",children:[(0,u.jsxs)(o.A,{className:"mb-3 me-3",style:{maxWidth:600},children:[(0,u.jsx)(o.A.Text,{className:"text-dark",children:(0,u.jsx)(_.gc,{type:"solid",icon:"user-plus"})}),(0,u.jsx)(r.A.Control,{size:"lg","aria-label":"Text input with dropdown button",placeholder:"Enter email address",onChange:this.onChangeMailId,value:x,className:d?"is-invalid":""}),d&&(0,u.jsx)(r.A.Control.Feedback,{type:"invalid",className:"d-block",children:"Enter valid email address."})]}),!w||""!=w.collaborator&&"0"!=w.collaborator.activeAccount?null:(0,u.jsxs)(A,{variant:"outline-secondary",className:"mb-3",size:"lg",title:e?"Admin":"Manager",children:[(0,u.jsx)(m.A.Item,{onClick:()=>this.setState({isAdmin:!0}),children:"Admin"}),(0,u.jsx)(m.A.Item,{onClick:()=>this.setState({isAdmin:!1}),children:"Manager"})]})]})]})}),(0,u.jsxs)(v.A,{variant:"primary",className:"border border-primary",children:[(0,u.jsx)(v.A.Heading,{className:"f-center alert_icon_head",children:(0,u.jsx)("span",{className:"f-center",children:e?"Admin *":"Manager *"})}),(0,u.jsx)("p",{className:"fw-medium mb-0 fs-8 text-gray-700",children:e?`The Admin role enjoys full access to the  ${B.SxH}, allowing them to perform all functionalities and allowing them to add other managers.`:`The Manager role, in contrast, has limited access to the ${B.SxH} and its functionalities. Their access is determined by the permissions they have been granted.`})]})]}),e?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(n.A,{children:[(0,u.jsxs)(c.A,{lg:4,children:[(0,u.jsxs)("h4",{className:"h5",children:[(0,u.jsx)(_.gc,{icon:"image",iconClass:"me-1 fs-6"}),"Content Gallery ",(0,u.jsx)("span",{className:"text-danger",children:"*"})]}),(0,u.jsxs)("p",{children:["Collect posts from your preferred social channels in a curated content gallery. Moderate and modify the content, turn it shoppable and request rights directly from ",B.SxH," to leverage it on your marketing touchpoints."]})]}),(0,u.jsx)(c.A,{lg:8,children:(0,u.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,u.jsxs)(t.A.Body,{className:"p-xxl-6",children:[(0,u.jsxs)("div",{className:"mb-2 d-flex flex-wrap",children:[(0,u.jsx)(r.A.Check,{inline:!0,label:"View All Gallery",name:"vGallery",className:"me-3 mb-2",type:"checkbox",id:"inline-view",onChange:e=>this.onSelectAllGallerys(e,g.length>0&&g.length==y.length?2:1),checked:y.length==j.length&&j.length>0}),(0,u.jsx)(r.A.Check,{inline:!0,label:"Edit All Gallery",name:"eGallery",className:"me-3 mb-2",type:"checkbox",id:"inline-edit",onChange:e=>this.onSelectAllGallerys(e,2),checked:g.length==j.length&&j.length>0}),(0,u.jsx)(r.A.Check,{inline:!0,label:"Create New Gallery",name:"createGallery",className:"me-3 mb-2",type:"checkbox",id:"inline-create",onChange:this.onCreateGallery,checked:l})]}),(0,u.jsx)(t.A,{className:"mb-0 shadow-none overflow-hidden",children:(0,u.jsx)(t.A.Body,{className:"pe-lg-4 ps-lg-6 bg-gray-100",children:j.map((e=>(0,u.jsxs)("div",{className:"d-flex align-items-center justify-content-between py-2 border-bottom",children:[(0,u.jsx)("div",{className:"d-flex align-items-center w-100",style:{maxWidth:"calc(100% - 150px)"},children:(0,u.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,u.jsx)(P.A,{className:"symbol symbol-38 rounded-2 flex-shrink-0 me-2 overflow-hidden",imageSize:38,symbolClass:"symbol-label fs-6 bg-primary",name:e.name,profileUrl:"",networkId:""}),(0,u.jsxs)("div",{className:"overflow-hidden w-100 d-flex flex-grow-1 flex-column",children:[(0,u.jsx)("p",{className:"text-gray-dark fw-semibold mb-0 text-ellipsis fs-8",children:e.name}),(0,u.jsxs)("span",{className:"fs-9 mb-0 text-gray-500 fw-medium text-ellipsis d-block",children:[e.totalPost," Posts"]})]})]})}),(0,u.jsxs)("div",{className:"my-2 d-flex",children:[(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"gallery_action",className:"me-3 me-xl-10",type:"checkbox",id:"gallery-action-view",checked:y.includes(e.id),onChange:()=>this.onSelectGallery(e.id,g.includes(e.id)?2:1)}),(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"gallery_action",type:"checkbox",id:"gallery-action-edit",onChange:s=>this.onSelectGallery(e.id,2),checked:!!g.includes(e.id)})]},"gallery-action-view")]},e.id)))})})]})})})]}),(0,u.jsxs)(n.A,{children:[(0,u.jsxs)(c.A,{lg:4,children:[(0,u.jsxs)("h4",{className:"h5",children:[(0,u.jsx)(_.gc,{icon:"bag-shopping",iconClass:"me-1 fs-6"}),"Product catalog"]}),(0,u.jsx)("p",{children:"It is a list of products you can sync across platforms (Shopify, WooCommerce, Magento), including essential details like descriptions, images, and pricing to help customers make purchasing decisions."})]}),(0,u.jsx)(c.A,{lg:8,children:(0,u.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,u.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,u.jsx)(f.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,u.jsx)("tbody",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"fw-medium",children:"Products"}),(0,u.jsx)("td",{className:"text-end",children:(0,u.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"prod-view",className:"me-3 me-xl-10",type:"checkbox",id:"prod-view",checked:2==b||1==b,onChange:e=>this.onChangePermission("product_catalog",2==b?2:1)}),(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"prod-edit",type:"checkbox",id:"prod-edit",onChange:e=>this.onChangePermission("product_catalog",2),checked:2==b})]})})]})})})})})})]}),(0,u.jsxs)(n.A,{children:[(0,u.jsxs)(c.A,{lg:4,children:[(0,u.jsxs)("h4",{className:"h5",children:[(0,u.jsx)(_.gc,{icon:"paper-plane",iconClass:"me-1 fs-6"}),"Publishing touchpoints"]}),(0,u.jsx)("p",{children:"Seamlessly publish your curated assets, such as shoppable UGC galleries, and shop the looks on websites, product pages, email campaigns, and within social bios with Shopon.bio. "})]}),(0,u.jsx)(c.A,{lg:8,children:(0,u.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,u.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,u.jsx)(f.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,u.jsx)("tbody",{children:D.map(((e,s)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"fw-medium",children:e.name}),(0,u.jsx)("td",{className:"text-end",children:(0,u.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:e.type,className:"me-3 me-xl-10",type:"checkbox",id:e.type,checked:2==this.state[e.type]||1==this.state[e.type],onChange:s=>this.onChangePermission(e.type,2==this.state[e.type]?2:1)}),(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:e.type,type:"checkbox",id:e.type,onChange:s=>this.onChangePermission(e.type,2),checked:2==this.state[e.type]})]},s)})]})))})})})})})]}),(0,u.jsxs)(n.A,{children:[(0,u.jsxs)(c.A,{lg:4,children:[(0,u.jsxs)("h4",{className:"h5",children:[(0,u.jsx)(_.gc,{icon:"grid-2-plus",iconClass:"me-1 fs-6"}),"Network manager"]}),(0,u.jsx)("p",{children:"The Network manager, accessible via your My profile tab, enables you to explore Social Accounts. You can add up to 5 social networks to expand your professional network. "})]}),(0,u.jsx)(c.A,{lg:8,children:(0,u.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,u.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,u.jsx)(f.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"fw-medium",children:"Add & Manage Accounts"}),(0,u.jsx)("td",{className:"text-end",children:(0,u.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"socialAccount_action",className:"me-3 me-xl-10",type:"checkbox",id:"socialAccount-action-view",checked:2==s||1==s,onChange:()=>this.onChangePermission("manageAccount",2==s?2:1)}),(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"socialAccount_action",type:"checkbox",id:"socialAccount-action-edit",onChange:e=>this.onChangePermission("manageAccount",2),checked:2==s})]},"socialAccount-action-view")})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"fw-medium",children:"Create & Manage feeds"}),(0,u.jsx)("td",{className:"text-end",children:(0,u.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:"connection_action",className:"me-3 me-xl-10",type:"checkbox",id:"connection-action-view",checked:1==a||2==a,onChange:()=>this.onChangePermission("manageFeed",2==a?2:1)}),(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:"connection_action",type:"checkbox",id:"connection-action-edit",onChange:e=>this.onChangePermission("manageFeed",2),checked:2==a})]},"connection-action-view")})]})]})})})})})]}),(0,u.jsxs)(n.A,{children:[(0,u.jsxs)(c.A,{lg:4,children:[(0,u.jsxs)("h4",{className:"h5",children:[(0,u.jsx)(_.gc,{icon:"grid-2",iconClass:"me-1 fs-6"}),"Additional features"]}),(0,u.jsx)("p",{children:"Additional features include Style Studio for branding, Auto-Moderation, and Creators and Insights for content management. For a comprehensive suite of tools, you'll also find All Access, Apps and More, and Analytics. "})]}),(0,u.jsx)(c.A,{lg:8,children:(0,u.jsx)(t.A,{className:"mb-6 shadow-none",children:(0,u.jsx)(t.A.Body,{className:"p-xxl-6",children:(0,u.jsx)(f.A,{borderless:!0,responsive:!0,className:"mb-0",children:(0,u.jsx)("tbody",{children:F.map(((e,s)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"fw-medium",children:e.name}),(0,u.jsx)("td",{className:"text-end",children:(0,u.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"View",name:e.type,className:"me-3 me-xl-10",type:"checkbox",id:e.type,checked:2==this.state[e.type]||1==this.state[e.type]||"analytics"==e.type,onChange:s=>this.onChangePermission(e.type,2),disabled:"analytics"==e.type}),(0,u.jsx)(r.A.Check,{reverse:!0,inline:!0,label:"Edit",name:e.type,type:"checkbox",id:e.type,onChange:s=>this.onChangePermission(e.type,2),checked:2==this.state[e.type]})]},s)})]})))})})})})})]})]})]}),(0,u.jsx)("div",{className:"d-flex justify-content-end align-items-center flex-wrap mt-3 mt-lg-4",children:(0,u.jsxs)("div",{className:"block-center",children:[(0,u.jsx)(C.A,{className:"btn btn-secondary btn-min-w me-3",onClick:()=>this.onCancel(),children:"Cancel"}),(0,u.jsxs)(C.A,{variant:"primary",onClick:()=>this.onSubmit(),children:[p?"Update":"Create"," ",e?"admin":"manager"]})]})})]})})})})]})}}const W=(0,w.Ng)((e=>{var s,a,l,i;return{allWalls:null===(s=e.dashboardData)||void 0===s||null===(a=s.dashboarddata)||void 0===a?void 0:a.allWalls,userData:null===(l=e.authorized)||void 0===l||null===(i=l.userData)||void 0===i?void 0:i.user_data,collaboratorList:e.collaborator.collaboratorList}}),(e=>({createCollaborator:(s,a,l)=>e((0,M.Az)(s,a,l))})))((0,G.A)(V))},75623:(e,s,a)=>{a.d(s,{A:()=>x});var l=a(48738),i=a.n(l),t=a(9950),n=a(44089),c=a(14531),r=a(77328),o=a(44414);const d=t.forwardRef(((e,s)=>{let{className:a,bsPrefix:l,as:t="span",...c}=e;return l=(0,n.oU)(l,"input-group-text"),(0,o.jsx)(t,{ref:s,className:i()(a,l),...c})}));d.displayName="InputGroupText";const h=d,m=t.forwardRef(((e,s)=>{let{bsPrefix:a,size:l,hasValidation:c,className:d,as:h="div",...m}=e;a=(0,n.oU)(a,"input-group");const x=(0,t.useMemo)((()=>({})),[]);return(0,o.jsx)(r.A.Provider,{value:x,children:(0,o.jsx)(h,{ref:s,...m,className:i()(d,a,l&&`${a}-${l}`,c&&"has-validation")})})}));m.displayName="InputGroup";const x=Object.assign(m,{Text:h,Radio:e=>(0,o.jsx)(h,{children:(0,o.jsx)(c.A,{type:"radio",...e})}),Checkbox:e=>(0,o.jsx)(h,{children:(0,o.jsx)(c.A,{type:"checkbox",...e})})})}}]);