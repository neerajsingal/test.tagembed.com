"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[7290],{17290:(e,l,s)=>{s.r(l),s.d(l,{default:()=>S});var t=s(9950),n=s(46318),a=s(73878),i=s(97937),o=s(45358),d=s(86781),c=s(68459),r=s(471),u=s(34483),m=s(21432),h=s(95942),p=s(17595),x=s(54810),v=s(26806),j=s(28429),g=s(19172),b=s(59074),y=s(18633),f=s(4695),w=s.n(f),N=s(52867),A=s(21738),C=s(36431),k=s(74283),U=s(92267),P=s(54480),G=s(64323),I=s(80322),_=s(58423),F=s(44414);const S=function(){const[e,l]=(0,t.useState)(!1),{wallsLoader:s}=(0,a.d4)((e=>null===e||void 0===e?void 0:e.dashboardData)),[f,S]=(0,t.useState)([]),[D,L]=(0,t.useState)(!1),[z,T]=(0,t.useState)(!1),Y=(0,a.d4)((e=>{var l,s;return null===(l=e.dashboardData)||void 0===l||null===(s=l.dashboarddata)||void 0===s?void 0:s.allWalls})),E=(0,j.Zp)(),B=(0,a.wA)(),$=()=>{l(!0)},O=e=>{L(!1),e?T(e):(l(!1),S([]))},H=e=>{w().fire({title:"Are You Sure?",text:"You are about to delete a Gallery that is used in Publish. Deleting the gallery would also delete the corresponding Publish sections.",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancel",confirmButtonText:"Yes, Delete it"}).then((l=>{l.value?B((0,b.kg)({name:e.name,status:e.status,autoUpdate:e.autoUpdate||0,id:e.id,deleted:0,action:3},null,O)):l.dismiss}))},W=e=>{const[l,s,t]=e;B((0,b.kg)({name:l.name,carouselPost:l.carouselPost,status:"status"==s?t:l.status,autoUpdate:"auto"==s?t:l.autoUpdate||0,id:l.id,deleted:0,action:2},null,null,!0))},J=(e,l,s)=>{localStorage.setItem("wallId",e),l||s?(B({type:P.lUJ,payload:!0}),B((0,G.LF)()),B((0,_.Ux)(void 0,!0)),setTimeout((()=>{E(`/content/moderation/${e}`)}),100)):E(`/content/addfeed/${e}`)};return(0,t.useEffect)((()=>{const e=k.A.parse(window.location.search);e&&e.addGallery&&l(!0)}),[]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(n.A,{crumbs:[{name:"Content Gallery",link:"/content",icon:"image"},{name:"Home",link:"/home"},{name:"Content Gallery",link:"/content"}],RightComponent:(0,F.jsxs)(i.A,{size:"sm",variant:"secondary","aria-label":"Add Channel",onClick:()=>(0,I.Yj)("contentGallery","createGallery",!0)?$():{},children:[(0,F.jsx)(x.gc,{type:"solid",icon:"plus"})," Add New Gallery"]}),crumbIcon:"image"}),(0,F.jsx)(o.A,{className:(0,N.C2)()?"":"container-content-gallery",style:{maxWidth:"100%"},children:(0,F.jsx)("div",{className:"w-100 sync_products",style:(0,N.C2)()?null:{},children:s?(0,F.jsx)(y.a,{}):null!==Y&&void 0!==Y&&Y.length?(0,F.jsxs)(d.A,{className:"mx-0",children:[(0,N.C2)()?(0,F.jsx)(c.A,{xl:12,children:(0,F.jsx)("div",{className:"d-flex align-items-center flex-wrap justify-content-end",children:(0,F.jsxs)(i.A,{size:"md",variant:"secondary","aria-label":"Add Channel",onClick:()=>(0,I.Yj)("contentGallery","createGallery",!0)?$():{},children:[(0,F.jsx)(x.gc,{type:"solid",icon:"plus"})," Add New Gallery"]})})}):null,Y.map(((e,s)=>{var t,n;return(0,F.jsx)(c.A,{xl:3,lg:4,md:6,sm:6,className:"gutter-b",children:(0,F.jsxs)(r.A,{id:`${e.icon}_btn_`,className:"publish-card h-100 cursor-pointer",onClick:l=>l.target.closest(".dropdown")?{}:J(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.totalFeed,null===e||void 0===e?void 0:e.totalPost),children:[(0,F.jsx)("div",{className:"position-absolute top-0 end-0 p-2 mt-2 me-0",children:(0,F.jsxs)(u.A,{children:[(0,F.jsx)(m.A,{placement:"top",overlay:(0,F.jsx)(h.A,{children:"Options"}),children:(0,F.jsx)(u.A.Toggle,{variant:"secondary","aria-label":"more",className:"arrow_disabled dropdown-toggle border-0 p-0",children:(0,F.jsx)(x.gc,{icon:"ellipsis-vertical",size:20})})}),(0,F.jsxs)(u.A.Menu,{children:[(0,F.jsxs)(u.A.Item,{onClick:()=>(e=>{l(!0),S(e)})(e),className:"fs-8",children:[(0,F.jsx)("span",{className:"me-2",children:(0,F.jsx)(x.gc,{type:"solid",icon:"edit"})}),"Edit"]}),(0,F.jsxs)(u.A.Item,{onClick:()=>H(e),className:"fs-8",children:[(0,F.jsx)("span",{className:"me-2",children:(0,F.jsx)(x.gc,{type:"solid",icon:"trash-can"})}),"Delete"]}),(0,F.jsxs)(u.A.Item,{onClick:()=>E("/publish"),className:"fs-8",children:[(0,F.jsx)("span",{className:"me-2 fs-8",children:(0,F.jsx)(x.gc,{type:"solid",icon:"paper-plane"})}),"Publish"]}),(0,F.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:e=>e.stopPropagation(),children:[(0,F.jsx)(p.A.Label,{htmlFor:"cont_a_u",className:"mb-0 fs-8",children:"Auto update"}),(0,F.jsx)(p.A.Check,{type:"switch",id:"cont_a_u",checked:null===e||void 0===e?void 0:e.autoUpdate,onChange:()=>null!==e&&void 0!==e&&e.autoUpdate?(0,N.zO)("Disabling auto-update will prevent new posts from being fetched, limiting the content while existing posts remain accessible.",W,[e,"auto",Number(!(null!==e&&void 0!==e&&e.autoUpdate))]):W([e,"auto",Number(!(null!==e&&void 0!==e&&e.autoUpdate))])})]}),(0,F.jsxs)("div",{className:"dropdown-item d-flex justify-content-between align-items-center",onClick:e=>e.stopPropagation(),children:[(0,F.jsx)(p.A.Label,{htmlFor:"cont_s",className:"mb-0 fs-8",children:"Status"}),(0,F.jsx)(p.A.Check,{type:"switch",id:"cont_s",checked:null===e||void 0===e?void 0:e.status,onChange:()=>null!==e&&void 0!==e&&e.status?(0,N.zO)("Disabling this status will hide all collected posts from this feed, affecting visibility and content access.",W,[e,"status",Number(!(null!==e&&void 0!==e&&e.status))]):W([e,"status",Number(!(null!==e&&void 0!==e&&e.status))])})]})]})]})}),(0,F.jsx)(r.A.Body,{className:"flex-column f-center px-3 py-0",children:(0,F.jsxs)("div",{className:"d-flex w-100 flex-wrap",children:[(0,F.jsxs)("div",{className:"d-flex align-items-center",children:[(0,F.jsx)(C.A,{imageSize:40,symbolClass:"symbol-label",className:"symbol symbol-54 fs-2 rounded-2 flex-shrink-0 me-2 overflow-hidden",name:e.name,profileUrl:e.thumbnail,networkId:28}),(0,F.jsxs)("div",{className:"publish-detail d-flex flex-column ms-2",children:[(0,F.jsx)("strong",{className:"h4 mb-0 pe-3 custom-truncate-1",children:null===e||void 0===e?void 0:e.name}),(0,F.jsxs)("span",{className:"fs-9",children:[null===e||void 0===e?void 0:e.totalPost," Posts | ",(null===e||void 0===e?void 0:e.totalFeed)||0," Feeds"]})]})]}),(0,F.jsxs)("div",{className:`content-foot mt-5 align-items-center d-flex ${null!==e&&void 0!==e&&null!==(t=e.networkIds)&&void 0!==t&&t.length?"justify-content-between":"justify-content-end"} w-100`,children:[null!==e&&void 0!==e&&null!==(n=e.networkIds)&&void 0!==n&&n.length?(0,F.jsx)(U.A,{networkList:null===e||void 0===e?void 0:e.networkIds}):null,(0,F.jsxs)("div",{children:[(0,F.jsx)(A.A,{cssClName:"light",overlayText:"Edit",children:(0,F.jsx)("span",{onClick:l=>J(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.totalFeed),className:"me-2 btn btn-sm bg-secondary border",children:(0,F.jsx)(x.gc,{type:"solid",iconClass:"me-0",icon:"edit"})})}),(0,F.jsx)(A.A,{cssClName:"light",overlayText:"Publish",children:(0,F.jsx)("span",{onClick:e=>{e.stopPropagation(),E("/publish")},className:"me-2 btn btn-sm bg-secondary border",children:(0,F.jsx)(x.gc,{type:"solid",iconClass:"me-0",icon:"paper-plane"})})})]})]})]})})]})},s)}))]}):(0,F.jsx)("div",{className:"f-center",style:{minHeight:"calc(100vh - 240px)"},children:(0,F.jsx)(v.A,{title:"Uh-oh! Nothing to see here.",desc:"You can start adding new channels here.",icon:"media",button:{text:"Add Gallery",action:$},isFullScreen:!1})})})}),e&&(0,F.jsx)(g.A,{show:e,apiError:z,setApiError:T,title:"Gallery",onCreate:(e,l,s)=>{const t=null===e||void 0===e?void 0:e.trim();(e=>null===Y||void 0===Y?void 0:Y.some((l=>{var s;return(null===l||void 0===l||null===(s=l.name)||void 0===s?void 0:s.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())})))(t)?T("Gallery name already exists."):t&&(L(!0),B((0,b.kg)({name:t,status:s,carouselPost:0,autoUpdate:l||0,deleted:0,id:"",action:1},E,O)))},onUpdate:(e,l,s,t,n)=>{l&&l.length>0&&(L(!0),B((0,b.kg)({name:null===l||void 0===l?void 0:l.trim(),carouselPost:n||0,status:s,id:e,autoUpdate:t||0,deleted:0,action:2},null,O)))},editContent:f,handleClose:()=>{S([]),l(!1),T("")},deleteContent:H,spinner:D})]})}}}]);