"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[1699],{36284:(e,t,s)=>{s.d(t,{A:()=>u});var l=s(9950),i=s(42074),a=s(45358),o=s(34483),n=s(1391),d=s(54810),r=s(52867),c=s(44414);class p extends l.Component{isActive(e){return window.location.href.includes(e)?"active":""}render(){var e,t,s,l,n,p,u,h,m,g,v,x,b,j,y,f,w,k,N;const{websiteUrl:_,navigate:C}=this.props,A=(0,r.C2)(),F=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.publish)&&void 0!==e?e:{};return(0,c.jsx)("div",{className:"subheader",children:(0,c.jsxs)(a.A,{fluid:!0,children:[(0,c.jsxs)("div",{className:"nav nav-underline d-none d-lg-flex",children:[(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(i.N_,{to:"/website/".concat(_,"/").concat(localStorage.getItem("website_id")||""),className:"nav-link ".concat(this.isActive("website")),title:null!==(l=F.websiteLabel)&&void 0!==l?l:"",children:[(0,c.jsx)(d.gc,{icon:"browser",iconClass:"me-1"}),null!==(n=F.websiteLabel)&&void 0!==n?n:""]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(i.N_,{to:"/shopon-bio/preview/".concat(localStorage.getItem("shopOn_id")||""),className:"nav-link ".concat(this.isActive("shopon-bio")),title:null!==(p=F.shoponBioLabel)&&void 0!==p?p:"",children:[(0,c.jsx)(d.gc,{icon:"link",iconClass:"me-1"}),null!==(u=F.shoponBioLabel)&&void 0!==u?u:""]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(i.N_,{to:"/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")||""),className:"nav-link ".concat(this.isActive("email-campaign")),title:null!==(h=F.emailCampaignLabel)&&void 0!==h?h:"",children:[(0,c.jsx)(d.gc,{icon:"bullhorn",iconClass:"me-1"}),null!==(m=F.emailCampaignLabel)&&void 0!==m?m:""]})}),(0,c.jsx)("div",{className:"nav-item",children:(0,c.jsxs)(i.N_,{to:"/more-publish/",className:"nav-link ".concat(this.isActive("more-publish")),title:null!==(g=F.moreLabel)&&void 0!==g?g:"",children:[(0,c.jsx)(d.gc,{icon:"ellipsis",iconClass:"me-1"}),null!==(v=F.moreLabel)&&void 0!==v?v:""]})})]}),(0,c.jsxs)(o.A,{className:"d-flex d-lg-none",style:{marginTop:A?"0":"5px",position:A?"relative":"",top:A?"6px":""},children:[(0,c.jsx)(o.A.Toggle,{variant:"secondary",id:"subheader-tabs",children:window.location.href.includes("website")?null!==(x=F.websiteLabel)&&void 0!==x?x:"":window.location.href.includes("shopon-bio")?null!==(b=F.shoponBioLabel)&&void 0!==b?b:"":window.location.href.includes("email-campaign")?null!==(j=F.emailCampaignLabel)&&void 0!==j?j:"":window.location.href.includes("more-publish")&&null!==(y=F.moreLabel)&&void 0!==y?y:""}),(0,c.jsxs)(o.A.Menu,{children:[(0,c.jsxs)(o.A.Item,{onClick:()=>C("/website/".concat(_,"/").concat(localStorage.getItem("website_id")||"")),className:this.isActive("website"),children:[(0,c.jsx)(d.gc,{icon:"browser",iconClass:"me-1"}),null!==(f=F.websiteLabel)&&void 0!==f?f:""]}),(0,c.jsxs)(o.A.Item,{onClick:()=>C("/shopon-bio/preview/".concat(localStorage.getItem("shopOn_id")||"")),className:this.isActive("shopon-bio"),children:[(0,c.jsx)(d.gc,{icon:"link",iconClass:"me-1"}),null!==(w=F.shoponBioLabel)&&void 0!==w?w:""]}),(0,c.jsxs)(o.A.Item,{onClick:()=>C("/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")||"")),className:this.isActive("email-campaign"),children:[(0,c.jsx)(d.gc,{icon:"bullhorn",iconClass:"me-1"}),null!==(k=F.emailCampaignLabel)&&void 0!==k?k:""]}),(0,c.jsxs)(o.A.Item,{onClick:()=>C("/more-publish/"),className:this.isActive("more-publish"),children:[(0,c.jsx)(d.gc,{icon:"ellipsis",iconClass:"me-1"}),null!==(N=F.moreLabel)&&void 0!==N?N:""]})]})]})]})})}}const u=(0,n.A)(p)},61075:(e,t,s)=>{s.d(t,{A:()=>F});var l=s(9950),i=s(63195),a=s(86781),o=s(17595),n=s(68459),d=s(97937),r=s(73878),c=s(3302),p=s.n(c),u=s(75794),h=(s(34461),s(57182),s(93766),s(55856),s(44747),s(35131)),m=s(21784),g=s(67972),v=s(76955),x=s(51960),b=s(85608),j=s(54810),y=s(52867),f=s(44414);class w extends l.Component{constructor(e){super(e),this.state={backgroundModal:!1,ext:"",fileName:""},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},()=>{p()(".uppy-Dashboard-close").click(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})})})},this.uppy=new u.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e7,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:this.props.allowFiles}}).use(h.Ay,{target:"#a",params:{auth:{key:b.bG},steps:{store:{robot:b._8,bucket_region:b.YL,bucket:b.I2,key:b.jZ,secret:b.mD,path:this.props.isLocation?"request-feature/${file.id}.${file.ext}":b.yQ+"${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(m.A,{target:u.A.Dashboard,companionUrl:b.ac}).use(g.A,{target:u.A.Dashboard,companionUrl:b.ac})}componentDidMount(){var e=this;this.uppy.on("transloadit:result",(t,s)=>{this.setState({ext:s.ext,fileName:s.basename}),e.props.onClickToupload(this.props.isLocation?"".concat(b.GG,"request-feature/").concat(s.id,".").concat(s.ext):"".concat(b.$r).concat(s.id,".").concat(s.ext),()=>{setTimeout(()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},300)})})}render(){var e,t,s,l,i,a;const{imageStyle:o,uploadedMedia:n,id:r,text:c}=this.props,{backgroundModal:p,ext:u,fileName:h}=this.state,m=e=>{switch(e){case"docx":return"file-doc";case"pdf":return"file-pdf";case"mp4":case"mov":return"file-video";default:return!1}};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:n?(0,f.jsxs)("div",{className:"f-between w-100 bg-gray-100 rounded-2 p-4 align-items-center",children:[(0,f.jsxs)("div",{className:"d-flex flex-grow-1 align-items-center",style:{width:"calc(100% - 30px)"},children:[m(u)?(0,f.jsx)("div",{className:"f-center flex-shrink-0 me-3",style:{fontSize:"3rem"},children:(0,f.jsx)(j.gc,{type:"solid",icon:m(u),iconClass:"text-gray-700"})}):(0,f.jsx)(x.A,{id:"bg_image",className:"object-fit-cover rounded-2 me-3",src:n,height:60,width:60,alt:"",style:{maxHeight:60}}),u?(0,f.jsxs)("p",{className:"text-ellipsis fs-8 mb-0",children:[h,".",u]}):null]}),(0,f.jsx)(d.A,{variant:"icon",size:"sm",className:"rounded-circle bg-danger border-danger text-white h-20px w-20px",onClick:()=>this.props.onClickToupload("",()=>{}),children:(0,f.jsx)(j.gc,{icon:"xmark"})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(d.A,{id:r,variant:"light",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,f.jsx)(j.gc,{icon:"arrow-up-from-bracket"}),c||"Upload"]}),(0,f.jsxs)("p",{className:"text-gray-500 mt-1 fw-medium fs-9",children:[(0,f.jsx)(j.gc,{type:"solid",icon:"info-circle",iconClass:"me-1"}),(0,y.dz)(null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s||null===(l=s.common)||void 0===l?void 0:l.allowed_file_types)&&void 0!==e?e:"",{types:null!==(i=null===(a=this.props.allowFiles)||void 0===a?void 0:a.join(", "))&&void 0!==i?i:""})]})]})}),p?(0,f.jsx)(v.KG,{animateOpenClose:!0,open:p,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}var k=s(66345),N=s(14313);class _ extends l.Component{constructor(e){var t,s,l,i,a,o,n,d,r;super(e),this.content=null!==(t=null===(s=window)||void 0===s||null===(l=s.APP_CONTENT)||void 0===l?void 0:l.common)&&void 0!==t?t:{},this.submitForm=()=>{const{name:e,email:t,description:s,uploadedMedia:l}=this.state;let i=!(!e||(0,y.QT)(e)||0==String(e).trim()),a=!(!t||!(0,y.DT)(t)),o=!!(s&&s.length<=500);if(i&&a&&o){this.setState({isLoading:!0});const i={name:e,email:t,description:"<b>".concat(this.props.title,"</b>-").concat(s),file:l};(new N.A).post(k.xpU,i).then(e=>{var t,s,l,i;200==e.data.responseCode?((0,y.k1)(null!==(t=null===(s=e.data)||void 0===s?void 0:s.responseMessage)&&void 0!==t?t:""),setTimeout(()=>{var e,t,s,l,i,a;this.setState({isLoading:!1,name:null===(e=this.props.authorized)||void 0===e||null===(t=e.userData)||void 0===t||null===(s=t.user_data)||void 0===s?void 0:s.user.name,email:null===(l=this.props.authorized)||void 0===l||null===(i=l.userData)||void 0===i||null===(a=i.user_data)||void 0===a?void 0:a.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1}),this.props.onCloseModel(!1)},1e3)):(this.setState({isLoading:!1}),(0,y.r$)(null!==(l=null===(i=e.data)||void 0===i?void 0:i.responseMessage)&&void 0!==l?l:""))}).catch(e=>{var t,s,l,i,a;this.setState({isLoading:!1}),(0,y.r$)(null!==(t=null!==(s=null===e||void 0===e||null===(l=e.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.responseMessage)&&void 0!==s?s:null===(a=this.content)||void 0===a?void 0:a.some_error_occured)&&void 0!==t?t:"")})}else this.setState({isLoading:!1,nameErr:!i,emailErr:!a,descriptionErr:!o})},this.onClickToupload=(e,t)=>this.setState({uploadedMedia:e},()=>t()),this.onCloseModelFun=()=>{var e,t,s,l,i,a;this.setState({name:null===(e=this.props.authorized)||void 0===e||null===(t=e.userData)||void 0===t||null===(s=t.user_data)||void 0===s?void 0:s.user.name,email:null===(l=this.props.authorized)||void 0===l||null===(i=l.userData)||void 0===i||null===(a=i.user_data)||void 0===a?void 0:a.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1}),this.props.onCloseModel(!1)},this.state={name:null===(i=this.props.authorized)||void 0===i||null===(a=i.userData)||void 0===a||null===(o=a.user_data)||void 0===o?void 0:o.user.name,email:null===(n=this.props.authorized)||void 0===n||null===(d=n.userData)||void 0===d||null===(r=d.user_data)||void 0===r?void 0:r.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1,isLoading:!1}}render(){var e,t,s,l,r,c,p,u,h,m,g,v,x;const{show:b,title:j}=this.props,{name:y,email:k,description:N,nameErr:_,emailErr:C,descriptionErr:A,isLoading:F,uploadedMedia:S}=this.state,{content:L}=this;return(0,f.jsxs)(i.A,{id:"reqFeature",size:"lg",show:b,"aria-labelledby":"reqFeature",tabIndex:"0",centered:!0,backdrop:"static",onHide:this.onCloseModelFun,children:[(0,f.jsx)(i.A.Header,{closeButton:!0,children:(0,f.jsx)(i.A.Title,{children:null!==(e=null!==j&&void 0!==j?j:null===L||void 0===L?void 0:L.request_feature)&&void 0!==e?e:""})}),(0,f.jsxs)(i.A.Body,{className:"p-lg-7 p-3 demo_schedule position-relative",children:[(0,f.jsxs)(a.A,{className:"mb-3",children:[(0,f.jsxs)(o.A.Group,{as:n.A,md:"6",children:[(0,f.jsxs)(o.A.Label,{children:[null!==(t=null===L||void 0===L?void 0:L.full_name)&&void 0!==t?t:""," ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(o.A.Control,{id:"r_f_name",required:!0,type:"text",placeholder:null!==(s=null===L||void 0===L?void 0:L.full_name)&&void 0!==s?s:"",className:_?"is-invalid":"",value:y,onChange:e=>this.setState({name:e.target.value,nameErr:!1})}),_&&(0,f.jsx)("div",{className:"invalid-feedback",children:null!==(l=null===L||void 0===L?void 0:L.fill_full_name)&&void 0!==l?l:""})]}),(0,f.jsxs)(o.A.Group,{as:n.A,md:"6",children:[(0,f.jsxs)(o.A.Label,{children:[null!==(r=null===L||void 0===L?void 0:L.email)&&void 0!==r?r:""," ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(o.A.Control,{id:"r_f_email",required:!0,type:"email",placeholder:"example@example.com",className:C?"is-invalid":"",value:k,onChange:e=>this.setState({email:e.target.value,emailErr:!1})}),C&&(0,f.jsx)("div",{className:"invalid-feedback",children:""!=k?null!==(c=null===L||void 0===L?void 0:L.valid_email)&&void 0!==c?c:"":null!==(p=null===L||void 0===L?void 0:L.enter_email)&&void 0!==p?p:""})]})]}),(0,f.jsxs)(o.A.Group,{as:n.A,className:"mb-3",children:[(0,f.jsxs)(o.A.Label,{children:[null!==(u=null===L||void 0===L?void 0:L.description)&&void 0!==u?u:""," ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(o.A.Control,{as:"textarea",id:"r_f_desc",placeholder:null!==(h=null===L||void 0===L?void 0:L.enter_desc)&&void 0!==h?h:"",className:"".concat(A?"is-invalid":""," textarea-min-row-6"),maxLength:500,onChange:e=>this.setState({description:e.target.value,descriptionErr:!1}),value:N}),(0,f.jsxs)("div",{className:"f-between",children:[(0,f.jsx)("div",{className:"invalid-feedback d-block",children:A&&null!==(m=null===L||void 0===L?void 0:L.field_req)&&void 0!==m?m:""}),(0,f.jsxs)("span",{className:"fs-10 text-muted pt-1",children:[null===N||void 0===N?void 0:N.length,"/500"]})]})]}),(0,f.jsx)(o.A.Group,{as:n.A,className:"mb-3",children:(0,f.jsx)(w,{id:"sugg_doc",imageStyle:{paddingBottom:"66%"},uploadedMedia:S,onClickToupload:this.onClickToupload,text:null!==(g=null===L||void 0===L?void 0:L.upload_file)&&void 0!==g?g:"",allowFiles:["image/*",".docx",".pdf",".mp4",".mov"],isLocation:!0})})]}),(0,f.jsxs)(i.A.Footer,{children:[(0,f.jsx)(d.A,{id:"r_f_cancel",variant:"secondary",className:"ms-3 btn-min-w",onClick:this.onCloseModelFun,children:null!==(v=null===L||void 0===L?void 0:L.cancel)&&void 0!==v?v:""}),(0,f.jsx)(d.A,{id:"r_f_submit",className:"ms-3 btn-min-w ".concat(F?"spinner":""),onClick:this.submitForm,children:null!==(x=null===L||void 0===L?void 0:L.submit)&&void 0!==x?x:""})]})]})}}const C=(0,r.Ng)(e=>({authorized:e.authorized}))(_);class A extends l.Component{constructor(e){super(e),this.state={show:!1}}render(){const{title:e}=this.props,{show:t}=this.state;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{onClick:()=>this.setState({show:!t}),children:this.props.children}),(0,f.jsx)(C,{show:t,onCloseModel:()=>this.setState({show:!1}),title:e})]})}}const F=A},66261:(e,t,s)=>{s.d(t,{A:()=>n});var l=s(9950),i=s(17595),a=s(44414);class o extends l.Component{render(){const{id:e,min:t,max:s,step:l,value:o,inheritStyle:n}=this.props;return(0,a.jsxs)("div",{className:"d-flex flex-column",children:[(0,a.jsx)(i.A.Range,{id:e,min:t,max:s,step:l,value:o,name:"range",onChange:e=>this.props.onChange(e.target.value),disabled:n}),(0,a.jsxs)("p",{className:"d-flex justify-content-between mb-0 fs-9 text-muted fw-medium",children:[(0,a.jsx)("span",{"data-min":e,children:t}),(0,a.jsx)("span",{"data-value":e,children:o})]})]})}}const n=o},81699:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ae});var l=s(89379),i=s(9950),a=s(73878),o=s(25537),n=s(45358),d=s(351),r=s(97937),c=s(86781),p=s(68459),u=s(54810),h=s(18633),m=s(17595),g=s(51960),v=s(66261),x=s(80322),b=s(61075),j=s(44414);class y extends i.Component{render(){var e,t,s,l,i,a,o,n;const{spaceVal:d,layout:h,changeSpace:y,selectLayout:f,postError:w}=this.props,k=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.emailCampaign)&&void 0!==e?e:{};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"border-bottom px-4 py-4 mb-4",children:(0,j.jsxs)("div",{className:"mb-3",children:[(0,j.jsx)(m.A.Label,{htmlFor:"mail_range",children:null!==(l=k.spacingLabel)&&void 0!==l?l:""}),(0,j.jsx)(v.A,{id:"mail_range",min:0,max:20,step:1,value:d,onChange:e=>y(e),inheritStyle:!(0,x.Yj)("publish","email_camp",!0,!0)})]})}),(0,j.jsxs)("div",{className:"px-4 pb-3 mb-4",children:[(0,j.jsx)(m.A.Label,{children:null!==(i=k.chooseLayoutLabel)&&void 0!==i?i:""}),(0,j.jsxs)(c.A,{className:"select-group flex-wrap row gx-8 border-top px-4",children:[["2X2","2X3","3X3","1X4"].map((e,t)=>(0,j.jsx)(p.A,{className:"col-4 px-1 select-grid mt-2",children:(0,j.jsxs)(r.A,{variant:"grid","data-grid":e,className:"border mail_layout rounded d-flex align-items-center justify-content-center flex-column p-1 w-100 ".concat(h==t+1?"active":""),onClick:()=>f(t+1),disabled:!(0,x.Yj)("publish","email_camp",!0,!0),children:[(0,j.jsx)("div",{className:"w-100 h-50px mb-2 p-2 f-center",children:(0,j.jsx)(g.A,{className:"",src:(0,u.pc)("media/icons/email-layout/".concat(t+1,".svg")),alt:e,fluid:!0})}),(0,j.jsxs)("p",{className:"mb-0 text-center fs-10",children:[e," Grid"]})]},t)})),(0,j.jsx)(p.A,{className:"col-4 px-1 select-grid mt-2",children:(0,j.jsx)(b.A,{title:null!==(a=k.requestNewGridTitle)&&void 0!==a?a:"",children:(0,j.jsxs)(r.A,{variant:"grid",className:"border mail_layout rounded d-flex align-items-center justify-content-center flex-column p-1 w-100",children:[(0,j.jsx)("div",{className:"w-100 h-50px mb-2 p-2 f-center",children:(0,j.jsx)(u.gc,{type:"light",icon:"plus-circle",iconClass:"fs-1 text-gray-400 me-0"})}),(0,j.jsx)("p",{className:"mb-0 text-center fs-10",children:null!==(o=k.requestNewGridText)&&void 0!==o?o:""})]})})})]}),w?(0,j.jsx)("p",{id:"mail_select_e",className:"invalid-feedback d-block",children:null!==(n=k.fillGridError)&&void 0!==n?n:""}):""]})]})}}const f=(0,a.Ng)(e=>{var t,s;return{allWalls:null===(t=e.dashboardData)||void 0===t||null===(s=t.dashboarddata)||void 0===s?void 0:s.allWalls}})(y);var w=s(17247),k=s(80409),N=s(98361),_=s(5830),C=s(95942);class A extends i.Component{constructor(){super(),this.productUrl=(e,t)=>{var s,l,i,a;return(null===(s=e[t])||void 0===s||null===(l=s.ugc_products)||void 0===l?void 0:l.length)>0?e[t].ugc_products[0].UgcProduct.product_url:null!==(i=e[t])&&void 0!==i&&i.link?null===(a=e[t])||void 0===a?void 0:a.link:""},this.state={showModal:!1}}render(){const{data:e,spaceVal:t}=this.props;return(0,j.jsxs)(j.Fragment,{children:[' <table border="0" cellpadding="0" cellspacing="0" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"> <tbody> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,0),'" target="_blank" style="background-image: url(\'',e&&e[0]&&Object.keys(e[0]).length>0?e[0].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,1),'" target="_blank" style="background-image: url(\'',e&&e[1]&&Object.keys(e[1]).length>0?e[1].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> </tr> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,2),'" target="_blank" style="background-image: url(\'',e&&e[2]&&Object.keys(e[2]).length>0?e[2].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,3),'" target="_blank" style="background-image: url(\'',e&&e[3]&&Object.keys(e[3]).length>0?e[3].postFile:"","'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;\"> </a> </td> </tr> </tbody> </table>"]})}}const F=A;class S extends i.Component{constructor(){super(),this.productUrl=(e,t)=>{var s,l,i,a;return(null===(s=e[t])||void 0===s||null===(l=s.ugc_products)||void 0===l?void 0:l.length)>0?e[t].ugc_products[0].UgcProduct.product_url:null!==(i=e[t])&&void 0!==i&&i.link?null===(a=e[t])||void 0===a?void 0:a.link:""},this.state={showModal:!1}}render(){const{data:e,spaceVal:t}=this.props;return(0,j.jsxs)(j.Fragment,{children:[' <table border="0" cellpadding="0" cellspacing="0" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"> <tbody> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,0),'" target="_blank" style="background-image: url(\'',e&&e[0]&&Object.keys(e[0]).length>0?e[0].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,1),'" target="_blank" style="background-image: url(\'',e&&e[1]&&Object.keys(e[1]).length>0?e[1].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> </tr> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,2),'" target="_blank" style="background-image: url(\'',e&&e[2]&&Object.keys(e[2]).length>0?e[2].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,3),'" target="_blank" style="background-image: url(\'',e&&e[3]&&Object.keys(e[3]).length>0?e[3].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> </tr> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,4),'" target="_blank" style="background-image: url(\'',e&&e[4]&&Object.keys(e[4]).length>0?e[4].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,5),'" target="_blank" style="background-image: url(\'',e&&e[5]&&Object.keys(e[5]).length>0?e[5].postFile:"","'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;\"> </a> </td> </tr> </tbody> </table>"]})}}const L=S;class E extends i.Component{constructor(){super(),this.productUrl=(e,t)=>{var s,l,i,a;return(null===(s=e[t])||void 0===s||null===(l=s.ugc_products)||void 0===l?void 0:l.length)>0?e[t].ugc_products[0].UgcProduct.product_url:null!==(i=e[t])&&void 0!==i&&i.link?null===(a=e[t])||void 0===a?void 0:a.link:""},this.state={showModal:!1}}render(){const{data:e,spaceVal:t}=this.props;return(0,j.jsxs)(j.Fragment,{children:[' <table border="0" cellpadding="0" cellspacing="0" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"> <tbody> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,0),'" target="_blank" style="background-image: url(\'',e&&e[0]&&Object.keys(e[0]).length>0?e[0].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,1),'" target="_blank" style="background-image: url(\'',e&&e[1]&&Object.keys(e[1]).length>0?e[1].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,2),'" target="_blank" style="background-image: url(\'',e&&e[2]&&Object.keys(e[2]).length>0?e[2].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> </tr> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,3),'" target="_blank" style="background-image: url(\'',e&&e[3]&&Object.keys(e[3]).length>0?e[3].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,4),'" target="_blank" style="background-image: url(\'',e&&e[4]&&Object.keys(e[4]).length>0?e[4].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,5),'" target="_blank" style="background-image: url(\'',e&&e[5]&&Object.keys(e[5]).length>0?e[5].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> </tr> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,6),'" target="_blank" style="background-image: url(\'',e&&e[6]&&Object.keys(e[6]).length>0?e[6].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,7),'" target="_blank" style="background-image: url(\'',e&&e[7]&&Object.keys(e[7]).length>0?e[7].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,8),'" target="_blank" style="background-image: url(\'',e&&e[8]&&Object.keys(e[8]).length>0?e[8].postFile:"","'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;\"> </a> </td> </tr> </tbody> </table>"]})}}const P=E;class T extends i.Component{constructor(){super(),this.productUrl=(e,t)=>{var s,l,i,a;return(null===(s=e[t])||void 0===s||null===(l=s.ugc_products)||void 0===l?void 0:l.length)>0?e[t].ugc_products[0].UgcProduct.product_url:null!==(i=e[t])&&void 0!==i&&i.link?null===(a=e[t])||void 0===a?void 0:a.link:""},this.state={showModal:!1}}render(){const{data:e,spaceVal:t}=this.props;return(0,j.jsxs)(j.Fragment,{children:[' <table border="0" cellpadding="0" cellspacing="0" role="presentation" style="table-layout: fixed; vertical-align: top; border-spacing: 0; border-collapse: collapse; mso-table-lspace: 0pt; mso-table-rspace: 0pt; min-width: 100%; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;" valign="top" width="100%"> <tbody> <tr style="vertical-align: top;" valign="top"> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,0),'" target="_blank" style="background-image: url(\'',e&&e[0]&&Object.keys(e[0]).length>0?e[0].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,1),'" target="_blank" style="background-image: url(\'',e&&e[1]&&Object.keys(e[1]).length>0?e[1].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,2),'" target="_blank" style="background-image: url(\'',e&&e[2]&&Object.keys(e[2]).length>0?e[2].postFile:"",'\'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;"> </a> </td> <td style="padding: ',t/2,'px;"> <a href="',this.productUrl(e,3),'" target="_blank" style="background-image: url(\'',e&&e[3]&&Object.keys(e[3]).length>0?e[3].postFile:"","'); background-size: cover; background-position: center; background-color: #F4F5F9; padding-bottom: 100%; width: 100%; display:block; overflow: hidden;\"> </a> </td> </tr> </tbody> </table>"]})}}const z=T,U=e=>{var t,s;let{platform:l="klaviyo",instructionsData:i}=e;const a=null!==(t=null===i||void 0===i||null===(s=i.emailPlatformInstructions)||void 0===s?void 0:s[l])&&void 0!==t?t:null;return a?(0,j.jsx)("ul",{className:"list-unstyled list-points fs-8 ms-3",children:a.map((e,t)=>((e,t)=>{const{text:s,link:l,afterText:i,bold:a,bold2:o,afterText2:n}=e;return(0,j.jsxs)("li",{className:"mb-3",children:[s&&(0,j.jsx)("span",{children:s}),l&&(0,j.jsx)("a",{className:"fw-semibold ms-1",href:l.href,target:"_blank",rel:"noopener noreferrer",title:l.title||l.label,children:l.label}),i&&(0,j.jsx)("span",{className:"ms-1",children:i}),a&&(0,j.jsx)("span",{className:"fw-semibold ms-1",children:a}),n&&(0,j.jsx)("span",{className:"ms-1",children:n}),o&&(0,j.jsx)("span",{className:"fw-semibold ms-1",children:o})]},t)})(e,t))}):null};var D=s(52867),O=s(58101),M=s(82094);const I=()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"f-center py-3 mx-auto",style:{maxWidth:200},children:[(0,j.jsx)("div",{className:"h-24px w-24px me-2 rounded-circle bg-gray-200"}),(0,j.jsx)("div",{className:"w-75 rounded-4 h-14px bg-gray-200"})]}),(0,j.jsxs)("div",{className:"f-center flex-column w-100",children:[(0,j.jsx)("div",{className:"w-100 rounded-4 h-8px mb-2 bg-gray-200 bg-gray-200"}),(0,j.jsx)("div",{className:"w-75 rounded-4 h-8px mb-2 bg-gray-200"})]}),(0,j.jsx)("div",{className:"f-center flex-column w-100 mb-3",children:(0,j.jsx)("div",{className:"w-100 h-26px mb-2 bg-gray-200",style:{maxWidth:100}})})]}),W=()=>(0,j.jsxs)("div",{className:"emailPreview_footer f-center flex-column w-100 p-4 mt-3",children:[(0,D.OZ)(3).map((e,t)=>(0,j.jsx)("div",{className:"w-".concat(t>1?"75":"100","  bg-gray-200 rounded-4 h-8px mb-").concat(t>1?"3":"2")},t)),(0,j.jsx)("div",{className:"f-center mb-3",children:(0,D.OZ)(5).map((e,t)=>(0,j.jsx)("div",{className:"h-22px w-22px mx-1 rounded-circle bg-gray-200"},t))}),(0,j.jsx)("div",{className:"w-100 rounded-4 h-8px bg-gray-200",style:{maxWidth:90}})]}),B=e=>{let{size:t,data:s,spaceVal:l}=e;const a=()=>(0,j.jsx)("div",{className:"w-100 rounded-4 h-8px mb-2 bg-gray-200"}),o=()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"w-50 rounded-4 h-8px mb-4"}),(0,j.jsx)("div",{className:"w-100 h-26px mb-1 bg-gray-200",style:{maxWidth:90}})]}),n=e=>{let{col:t}=e;return[1,2].map(e=>(0,j.jsx)("div",{className:t?0===e?"pb-5":"pb-3":"row gx-2 mb-3",children:(0,j.jsx)("div",{className:"col",children:(0,j.jsxs)("div",{className:"border p-3",children:[(0,j.jsx)(a,{}),(0,j.jsx)(a,{}),(0,j.jsx)(a,{}),(0,j.jsx)(a,{}),(0,j.jsx)(o,{})]})})},e))},d=(0,i.memo)(e=>{let{row:i,column:a}=e,o=-1;return(0,j.jsx)(j.Fragment,{children:Array.from({length:i}).map((e,i)=>(0,j.jsx)("div",{className:[3,4].includes(t)?"row gx-1":"row gx-0",children:Array.from({length:a}).map((e,t)=>{var i,a,n,d,r;o++;const c=(null===(i=s[o])||void 0===i||null===(a=i.ugc_products)||void 0===a?void 0:a.length)>0?s[o].ugc_products[0].UgcProduct.product_url:(null===(n=s[o])||void 0===n?void 0:n.link)||"",p=(0,j.jsx)(M.A,{mediaClass:"bg-gray-200",size:100,height:300,width:300,url:(null===(d=s[o])||void 0===d?void 0:d.postFile)||"",isCover:!0,alt:""});return c?(0,j.jsx)("a",{"data-id":"media-".concat(null===(r=s[o])||void 0===r?void 0:r.id),href:c,target:"_blank",rel:"noopener noreferrer",className:"col media_col",title:"img",style:{padding:l/2},children:p},t):(0,j.jsx)("span",{className:"col media_col",style:{padding:l/2},children:p},t)})},i))})});return(0,j.jsxs)("div",{className:"emaiPreviewInner",children:[(0,j.jsx)(I,{}),(0,j.jsx)("div",{children:1===t?(0,j.jsx)("div",{className:"row gx-3",children:(0,j.jsx)("div",{className:"w-75 mx-auto",children:(0,j.jsx)("div",{className:"p-1",children:(0,j.jsx)(d,{row:2,column:2})})})}):2===t?(0,j.jsxs)("div",{className:"row gx-3",children:[(0,j.jsx)("div",{className:"col-5",children:(0,j.jsx)(n,{col:1})}),(0,j.jsx)("div",{className:"col-7",children:(0,j.jsx)("div",{className:"mb-3 rounded-1 w-75 mx-auto",children:(0,j.jsx)("div",{className:"p-1",children:(0,j.jsx)(d,{row:3,column:2})})})})]}):3===t?(0,j.jsx)("div",{className:"mb-3 rounded-1 w-75 mx-auto",children:(0,j.jsx)("div",{className:"p-1",children:(0,j.jsx)(d,{row:3,column:3})})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n,{}),(0,j.jsx)("div",{className:"mb-3 rounded-1 w-75 mx-auto",children:(0,j.jsx)("div",{className:"p-1",children:(0,j.jsx)(d,{row:1,column:4})})}),(0,j.jsxs)("div",{className:"f-center flex-column w-100 px-4 mb-3",children:[(0,j.jsx)("div",{className:"w-100 rounded-4 h-8px mb-2 bg-gray-200"}),(0,j.jsx)("div",{className:"w-75 rounded-4 h-8px mb-2"})]})]})}),(0,j.jsx)(W,{})]})};class V extends i.Component{constructor(){super(...arguments),this.state={copied:!1,openPopup:!1,previewKey:"script"},this.copyText=e=>{(0,D.x_)(e),this.setState({copied:!0}),setTimeout(()=>{this.setState({copied:!1})},1e3)},this.emailViewCode=e=>{const{campaignLayout:t,spaceVal:s}=this.props;switch(e){case 1:return(0,j.jsx)(F,{data:t,spaceVal:s});case 2:return(0,j.jsx)(L,{data:t,spaceVal:s});case 3:return(0,j.jsx)(P,{data:t,spaceVal:s});default:return(0,j.jsx)(z,{data:t,spaceVal:s})}}}render(){var e,t,s,l,i,a,o,n,c,p,h,m,g,v,x,b;const{selectedPlatform:y,layout:f,campaignLayout:w,spaceVal:A}=this.props,{copied:F,openPopup:S,previewKey:L}=this.state,E=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.emailCampaign)&&void 0!==e?e:{};return(0,j.jsxs)(d.A,{className:"preview_ p_header_",children:[(0,j.jsxs)(k.A.Container,{id:"left-tabs-example",defaultActiveKey:"code",onSelect:e=>this.setState({previewKey:e}),children:[(0,j.jsx)(d.A.Header,{className:"py-0 align-items-center justify-content-center w-100",children:(0,j.jsxs)(N.A,{className:"gap-0",children:[(0,j.jsx)(N.A.Item,{className:"",children:(0,j.jsxs)(N.A.Link,{eventKey:"code",className:"".concat("script"===L?"btn-primary":"btn-outline-primary"," btn rounded-0 rounded-start"),children:[(0,j.jsx)(u.gc,{icon:"code",className:"me-2"}),null!==(l=E.codeTabLabel)&&void 0!==l?l:""]})}),(0,j.jsx)(N.A.Item,{className:"",children:(0,j.jsxs)(N.A.Link,{eventKey:"preview",className:"".concat("preview"===L?"btn-outline-primary":"btn-primary"," btn border-start-0 rounded-0 rounded-end"),children:[(0,j.jsx)(u.gc,{icon:"eye",className:"me-2"}),null!==(i=E.previewTabLabel)&&void 0!==i?i:""]})})]})}),(0,j.jsxs)(k.A.Content,{children:[(0,j.jsx)(k.A.Pane,{eventKey:"code",children:(0,j.jsxs)(d.A.Body,{className:"pb-10",children:[(0,j.jsxs)("div",{className:"mb-10",children:[(0,j.jsx)("h5",{className:"mb-6",children:null!==(a=E.publishHtmlTitle)&&void 0!==a?a:""}),(0,j.jsxs)("div",{className:"d-flex align-items_center mb-5",children:[(0,j.jsx)("span",{className:"h-22px w-22px bg-success text-white rounded-circle text-center me-2 fw-bold f-center",style:{marginTop:-2},children:"1"}),(0,j.jsx)("h6",{className:"mb-0",children:null!==(o=E.copyCodeInstruction)&&void 0!==o?o:""})]}),(0,j.jsxs)("div",{className:"position-relative mb-7 embed_code embed_code_box iframe_embcode_box rounded-3",children:[(0,j.jsx)("div",{className:"embed-border p-2",children:(0,j.jsx)("code",{className:"form-control textarea-min-row-4 p-lg-4 fs-9 embed-border",id:"emailEmbedCode_",onClick:()=>{this.copyText("emailEmbedCode_")},children:this.emailViewCode(f)})}),(0,j.jsxs)("div",{className:"position-absolute end-0 bottom-0 pe-5 pb-5",children:[(0,j.jsx)(_.A,{placement:"top",overlay:(0,j.jsx)(C.A,{children:F?null!==(c=E.codeCopiedTooltip)&&void 0!==c?c:"":null!==(n=E.copyCodeTooltip)&&void 0!==n?n:""}),children:(0,j.jsx)(r.A,{variant:"link",className:"fs-6 me-4 text-gray-700",onClick:()=>this.copyText("emailEmbedCode_"),children:(0,j.jsx)(u.gc,{type:"solid",icon:F?"check":"copy",iconClass:F?"text-success":""})})}),(0,j.jsx)(_.A,{placement:"top",overlay:(0,j.jsx)(C.A,{children:null!==(p=E.shareCodeTooltip)&&void 0!==p?p:""}),children:(0,j.jsx)(r.A,{variant:"link",className:"text-gray-700 fs-6 GetShareCode",onClick:e=>this.setState({openPopup:!0}),children:(0,j.jsx)(u.gc,{type:"solid",icon:"envelope",iconClass:"me-0"})})})]})]}),(0,j.jsxs)("div",{className:"d-flex align-items_center mb-5",children:[(0,j.jsx)("span",{className:"h-22px w-22px bg-success text-white rounded-circle text-center me-2 fw-bold f-center",style:{marginTop:-2},children:"2"}),(0,j.jsx)("h6",{className:"mb-0",children:null!==(h=E.pasteCodeInstruction)&&void 0!==h?h:""})]}),(0,j.jsx)(U,{platform:y,instructionsData:E})]}),(0,j.jsx)(d.A.Footer,{className:"f-center rounded-0 justify-content-start position-absolute bottom-0 start-0 w-100 bg-body",style:{height:65},children:(0,j.jsxs)("div",{className:"py-1 px-3 rounded-pill badge-light-primary text-nowrap d-flex flex-wrap align-items-center",children:[(0,j.jsx)("p",{className:"my-1 text-muted d-md-inline d-none",children:null!==(m=E.supportHelpText)&&void 0!==m?m:""}),(0,j.jsx)("p",{className:"my-1 text-muted d-md-none d-inline",children:null!==(g=E.helpText)&&void 0!==g?g:""}),(0,j.jsx)(u.gc,{icon:"angle-right",iconClass:"mx-2"}),(0,j.jsxs)(r.A,{variant:"link",className:"f-center d-flex",onClick:D.tk,children:[(0,j.jsx)(u.gc,{type:"solid",icon:"comments",iconClass:"me-1"}),null!==(v=E.connectSupportButton)&&void 0!==v?v:""]})]})})]})}),(0,j.jsx)(k.A.Pane,{eventKey:"preview",children:(0,j.jsx)(d.A.Body,{className:"f-center flex-wrap",children:(0,j.jsx)("div",{className:"mx-auto w-100 p-3 border rounded-1",style:{maxWidth:500},children:(0,j.jsx)(B,{size:f,data:w,spaceVal:A})})})})]})]}),S?(0,j.jsx)(O.A,{type:1,text:null!==(x=E.shareCodeModalText)&&void 0!==x?x:"",heading:null!==(b=E.shareCodeModalHeading)&&void 0!==b?b:"",onClose:e=>this.setState({openPopup:!1}),codeId:"#emailEmbedCode_"}):null]})}}const G=V;var H=s(28981),q=s(18038),K=s(9676),$=s(34733);class R extends i.Component{render(){var e,t,s,l,i;const{selectedPlatform:a,onSelectedPlatform:o}=this.props,n=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.publish)&&void 0!==e?e:{},{galleryTypeObj:d={}}=n;return(0,j.jsxs)("div",{className:"p-4 mb-4",children:[(0,j.jsx)("h5",{children:null!==(l=null===d||void 0===d||null===(i=d.commonContent)||void 0===i?void 0:i.sideBarPlateform)&&void 0!==l?l:""}),(0,j.jsx)(c.A,{children:["klaviyo","omnisend","hubspot","active","mailchimp","getresponse","other"].map((e,t)=>(0,j.jsx)(p.A,{sm:6,children:(0,j.jsx)("div",{className:"mb-3",children:(0,j.jsxs)(r.A,{"data-platform":e,variant:"secondary",className:"w-100 email-platform ".concat(e==a?"active":""),onClick:()=>o(e),children:[(0,j.jsx)(g.A,{className:"h-30px","data-mode":"light",src:(0,u.pc)("media/icons/email-platform/".concat(e,".svg?")),height:34,width:280,fluid:!0}),(0,j.jsx)(g.A,{className:"h-30px","data-mode":"dark",src:(0,u.pc)("media/icons/email-platform/".concat(e,"-light.svg?")),height:34,width:280,fluid:!0})]},t)})}))})]})}}const Y=R;var X=s(1391),Z=s(41397),J=s.n(Z),Q=s(26806),ee=s(54480),te=s(15889),se=s(36284),le=s(26787);class ie extends i.Component{constructor(){super(...arguments),this.state={activeCamp:null,activeWall:null,spaceVal:4,layout:1,offSet:0,campaignLayout:[],selectedPlatform:"klaviyo",postError:!1,preview:!1,is_changes:!1,spinner:!1,filterToggle:!1,selectContent:[],contentLoader:!0,selectLoader:!0,showMore:!0},this.isShopify=(0,D.C2)(),this.setEmailData=e=>{const{allWalls:t,navigate:s}=this.props;if(e&&t){const{theme_type:s,spacing:l,post_id:i}=JSON.parse(e.extra_data),a=null===t||void 0===t?void 0:t.find(t=>t.id==e.wallId);localStorage.setItem("emailCamp_id",e.id),this.setState({activeCamp:e,layout:s,spaceVal:l,activeWall:a||(t&&t.length>0?t[0]:{}),selectContent:[],offSet:0,campaignLayout:i&&String(i).length>0?i.split(",").map(e=>({postFile:e,active:1})):[],selectLoader:!1,is_changes:!1},()=>this.getPosts())}else this.setState({activeCamp:null,layout:1,spaceVal:4,activeWall:null,selectContent:[],offSet:0,campaignLayout:[],selectLoader:!0,contentLoader:!0,is_changes:!1});s("/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")?localStorage.getItem("emailCamp_id"):""))},this.updateEmail=e=>{const{emailList:t,navigate:s}=this.props,l=null===t||void 0===t?void 0:t.find(e=>e.id==localStorage.getItem("emailCamp_id"));e?this.setEmailData(l):(this.setState({activeCamp:l||(t&&t.length>0?t[0]:"")}),s("/email-campaign/publish/".concat(localStorage.getItem("emailCamp_id")?localStorage.getItem("emailCamp_id"):"")))},this.changeWall=e=>{const{allWalls:t}=this.props,s=null===t||void 0===t?void 0:t.find(t=>t.id==e.id);this.setState({selectContent:[],offSet:0,activeWall:s||[],is_changes:!0,campaignLayout:[]},()=>this.getPosts())},this.changeSpace=e=>{this.setState({spaceVal:e,is_changes:!0})},this.selectLayout=e=>this.setState({layout:e,is_changes:!0}),this.getPosts=e=>{const{emailList:t}=this.props,{offSet:s,selectContent:i,activeCamp:a,activeWall:n}=this.state;var d=null;if(i.length<=0&&this.setState({contentLoader:!0}),null!==t&&void 0!==t&&t.length&&(null===a||void 0===a?void 0:a.length)>0&&(null===n||void 0===n?void 0:n.length)>0){const t=this.props.emailList.find(e=>e.id==(null===a||void 0===a?void 0:a.id));d=t?JSON.parse(t.extra_data):null,(0,o.xd)(n.id,e?s:0).then(e=>{const{responseStatus:t}=e.data;if(t){const t=e.data.responseData,s=t.map(e=>{var t;return null!==(t=d)&&void 0!==t&&t.post_id&&d.post_id.split(",").includes("".concat(null===e||void 0===e?void 0:e.postFile))?(0,l.A)((0,l.A)({},e),{},{active:!0}):(0,l.A)((0,l.A)({},e),{},{active:!1})});t.length?this.setState({selectContent:[...i,...s],offSet:this.state.offSet+20,dataLoad:!1,contentLoading:!1,showMore:!0}):this.setState({showMore:!1})}this.setState({contentLoader:!1})})}},this.postContent=e=>{if((0,x.Yj)("publish","email_camp",!0)){var t,s;const{campaignLayout:i,selectContent:a,layout:o}=this.state,n=1==o?4:2==o?6:3==o?9:4==o?4:0,d=i||[],r=a||[],c=null!==(t=null===r||void 0===r?void 0:r.findIndex(t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)))&&void 0!==t?t:-1,p=null!==(s=null===d||void 0===d?void 0:d.findIndex(t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)))&&void 0!==s?s:-1;-1===p&&d.length<n?(d.push((0,l.A)((0,l.A)({},e),{},{isAdded:!0,active:!0})),-1!==c&&(r[c].active=!0)):-1!==p&&(d.splice(p,1),-1!==c&&(r[c].active=!1)),this.setState({campaignLayout:d,selectContent:r,contentLoading:!1})}},this.updateData=e=>{const{userData:t}=this.props,{campaignLayout:s,layout:l}=this.state,i=1==l?4:2==l?6:3==l?9:4==l?4:"";if(s&&(null===s||void 0===s?void 0:s.length)>=i)try{t.user.extra_data&&JSON.parse(t.user.extra_data);e&&this.setState({preview:!0})}catch(a){console.log("error",a)}else this.setState({postError:!0,spinner:!1})},this.saveSelectedPost=()=>{const{campaignLayout:e,spaceVal:t,layout:s,activeWall:i}=this.state;var a=1==s?4:2==s?6:3==s?9:4==s?4:"";this.updateData(),this.setState({spinner:!0,generateCode:""},()=>{var o=[];if(e&&(null===e||void 0===e?void 0:e.length)>=a){this.setState({postError:!1}),e.slice(0,a).forEach(e=>o.push(e.postFile));var n={spacing:t,theme_type:s,wallId:i.id,post_id:o.join(",")};this.props.updateMail((0,l.A)({},n),()=>this.updateResponse(n))}else this.setState({postError:!0,spinner:!1})})},this.discardEmail=()=>{const{emailList:e}=this.props,t=null===e||void 0===e?void 0:e.find(e=>e.id==localStorage.getItem("emailCamp_id"));this.setEmailData(t),(0,D.Fl)("hide")},this.updateResponse=e=>{this.setState({gridData:e,preview:!0,spinner:!1,is_changes:!1}),this.isShopify&&(0,D.Fl)("hide")},this.closeAside=()=>this.setState({filterToggle:!1}),this.updatePlatform=e=>{const{userData:t}=this.props;this.setState({selectedPlatform:e})}}componentWillMount(){const{emailList:e,userData:t}=this.props;if(e&&e.length>0){const t=e.find(e=>e.id==localStorage.getItem("emailCamp_id"));this.setEmailData(t)}else this.props.getEmailList();this.isShopify&&(window.addEventListener("onSaveClicked",this.saveSelectedPost),window.addEventListener("onDiscardClicked",this.discardEmail))}componentDidUpdate(e){const{loader:t}=e;if((t!=this.props.loader||!J().isEqual(e.allWalls,this.props.allWalls)&&this.props.emailList.length>0)&&this.props.emailList.length>0){const e=this.props.emailList.find(e=>e.id==localStorage.getItem("emailCamp_id"));this.setEmailData(e||this.props.emailList[0])}this.isShopify&&this.state.is_changes&&(0,D.Fl)()}componentWillUnmount(){this.isShopify&&((0,D.Fl)("hide"),window.removeEventListener("onSaveClicked",this.saveSelectedPost),window.removeEventListener("onDiscardClicked",this.discardEmail))}render(){var e,t,s,l,i,a,o,m,g,v,b,y,k,N,_,C,A,F,S,L,E;const{activeCamp:P,activeWall:T,spaceVal:z,layout:U,selectContent:D,campaignLayout:O,selectedPlatform:M,preview:I,postError:W,filterToggle:V,contentLoader:H,selectLoader:R,showMore:X}=this.state,{loader:Z,allWalls:J,emailList:ee,toggle:ie,userData:ae}=this.props,oe=null===ae||void 0===ae?void 0:ae.sessionData,ne="shopify"==(null===oe||void 0===oe?void 0:oe.createFrom.toLowerCase())?"shopify":"bigcommerce"==(null===oe||void 0===oe?void 0:oe.createFrom.toLowerCase())?"bigcommerce":"publish",{navigate:de}=this.props,re=null!==(e=null===(t=window)||void 0===t||null===(s=t.APP_CONTENT)||void 0===s?void 0:s.emailCampaign)&&void 0!==e?e:{};return(0,j.jsxs)(j.Fragment,{children:[this.isShopify?(0,j.jsx)(se.A,{websiteUrl:ne}):null,null!==ee&&void 0!==ee&&ee.length&&!this.isShopify?(0,j.jsx)(le.A,{crumbs:[{name:null!==(l=null===P||void 0===P?void 0:P.name)&&void 0!==l?l:"",icon:"paper-plane"},{name:"Home",link:"/home"},{name:"Publish",link:"/publish"}],publishSwitcher:!0,changePublish:this.setEmailData,publishList:ee,selectedPublish:P,isWebsite:!1,title:null!==(i=re.pageTitle)&&void 0!==i?i:""}):null,(0,j.jsx)("div",{className:"d-flex flex-column flex-column-fluid ".concat(this.isShopify?"":"full-content"),children:(0,j.jsx)(n.A,{fluid:!0,className:"container-email-campaign",children:ee&&ee.length>0?(0,j.jsx)(d.A,{className:"content_inner ".concat(this.isShopify?"email_camp":""," border-0"),children:(0,j.jsxs)(d.A.Body,{className:"p-0 d-flex w-100",children:[(0,j.jsx)(q.A,{filterToggle:V,closeAside:this.closeAside,children:I?(0,j.jsxs)(d.A,{className:"a_footer_ w-100 rounded-0 h-100",children:[(0,j.jsx)(d.A.Body,{className:"aside_body p-0 w-100",children:(0,j.jsx)(Y,{selectedPlatform:M,onSelectedPlatform:e=>this.updatePlatform(e)})}),(0,j.jsx)(d.A.Footer,{className:"py-3 rounded-0",children:(0,j.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,j.jsxs)(r.A,{id:"mail_back_btn",variant:"link",className:"text-muted",onClick:()=>this.setState({preview:!1}),children:[(0,j.jsx)(u.gc,{icon:"arrow-left"}),null!==(v=re.backButton)&&void 0!==v?v:""]}),(0,j.jsx)(r.A,{id:"mail_edit_btn",className:"btn-min-w",onClick:()=>this.setState({preview:!1}),children:null!==(b=re.editButton)&&void 0!==b?b:""})]})})]}):(0,j.jsxs)(d.A,{className:"a_header_ a_footer_ w-100 h-100 ".concat(this.isShopify?"":"rounded-0"),children:[this.isShopify?(0,j.jsx)(d.A.Header,{className:"py-4",children:(0,j.jsx)(K.A,{contentList:ee,changeWebsite:this.setEmailData,selectedContent:P,title:null!==(a=re.pageTitle)&&void 0!==a?a:"",method:this.updateEmail})}):null,(0,j.jsxs)(d.A.Body,{className:"aside_body p-0 w-100",children:[(0,j.jsxs)("div",{className:"border-bottom p-4 mb-4",children:[(0,j.jsx)("h5",{children:null!==(o=re.asideContentHeading)&&void 0!==o?o:""}),(0,j.jsx)($.A,{contentList:J,modifyContent:this.changeWall,selectedContent:T,title:"Email",onlySwitcher:!0,selectLoader:R})]}),(0,j.jsx)(f,{spaceVal:z,layout:U,selectLayout:this.selectLayout,changeSpace:this.changeSpace,postError:W})]}),(0,j.jsx)(d.A.Footer,{className:"d-flex justify-content-end py-3 rounded-0",children:(0,j.jsx)("div",{className:"",children:this.state.is_changes?!this.isShopify&&(0,j.jsx)(r.A,{id:"mail_save_btn",className:this.state.spinner?"spinner":null,onClick:()=>this.saveSelectedPost(),children:null!==(m=re.saveAndPublishButton)&&void 0!==m?m:""}):(0,j.jsx)(r.A,{id:"mail_publish_btn",className:"btn-min-w",onClick:()=>this.updateData(!0),children:null!==(g=re.publishButton)&&void 0!==g?g:""})})})]})}),I?(0,j.jsx)(G,{selectedPlatform:M,campaignLayout:O,layout:U,spaceVal:z}):(0,j.jsxs)(d.A,{className:"preview_ p_header_ ".concat(this.isShopify?"":"rounded-0"),children:[(0,j.jsx)(d.A.Header,{className:"py-0",children:(0,j.jsxs)(c.A,{className:"gx-8",style:{width:"calc(100% + 2rem)"},children:[(0,j.jsx)(p.A,{xs:4,sm:5,xl:6,className:"f-between border-end bg-gray-100",children:(0,j.jsx)("span",{className:"fs-8 fw-medium mb-0 text-muted",children:null!==(y=re.mainDescription)&&void 0!==y?y:""})}),(0,j.jsx)(p.A,{xs:8,sm:7,xl:6,className:"f-center",children:(0,j.jsxs)("div",{className:"f-between w-100",children:[(0,j.jsx)("span",{className:"h5 mb-0 ",children:null!==(k=re.previewHeading)&&void 0!==k?k:""}),(0,j.jsx)("div",{children:(0,j.jsxs)(r.A,{id:"toggle_aside",variant:"link",size:"sm",className:"d-flex d-xl-none",onClick:()=>this.setState({filterToggle:!V}),children:[null!==(N=re.mobileMenuButton)&&void 0!==N?N:"",(0,j.jsx)(u.gc,{icon:"sliders",iconClass:"ms-2 lh-base"})]})})]})})]})}),(0,j.jsx)(d.A.Body,{className:"p-0 overflow-hidden email_campaign",children:(0,j.jsxs)(c.A,{children:[(0,j.jsx)(p.A,{xs:4,sm:5,xl:6,className:"bg-gray-100 card-scroll-h-b position-relative",children:H?(0,j.jsx)(te.A,{}):D.length>0?(0,j.jsx)(w.A,{activeWall:T,selectContent:D,getPosts:this.getPosts,postContent:this.postContent,showMore:X}):(0,j.jsx)("div",{className:"h-100 f-center",children:(0,j.jsx)(Q.A,{title:null!==(_=re.noContentTitle)&&void 0!==_?_:"",desc:null!==(C=re.noContentDescription)&&void 0!==C?C:"",icon:"media",button:{action:()=>this.props.navigate("/content/moderation/".concat(localStorage.getItem("wallId")?localStorage.getItem("wallId"):"")),text:null!==(A=re.addContentButton)&&void 0!==A?A:""},isFullScreen:!1})})}),(0,j.jsx)(p.A,{xs:8,sm:7,xl:6,children:(0,j.jsx)("div",{className:"w-100 pe-4 py-4 card-scroll-h-b f-center flex-wrap",children:(0,j.jsx)("div",{className:"mx-auto w-100",style:{maxWidth:400},children:(0,j.jsx)(B,{size:U,data:O,spaceVal:z})})})})]})})]})]})}):Z?(0,j.jsx)("div",{style:{minHeight:"calc(100vh - 170px)"},children:(0,j.jsx)(h.a,{})}):(0,j.jsxs)("div",{className:"f-center",style:{minHeight:"calc(100vh - 50px)"},children:[(0,j.jsx)(Q.A,{title:null!==(F=re.noCampaignsTitle)&&void 0!==F?F:"",desc:null!==(S=re.noCampaignsDescription)&&void 0!==S?S:"",icon:"email",button:{action:()=>(0,x.Yj)("publish","email_camp",!0)?de("/publish?addChannel=true&title='email_camp'"):{},text:null!==(L=re.createEmailButton)&&void 0!==L?L:""},isFullScreen:!0}),(0,j.jsx)(K.A,{title:null!==(E=re.campaignNamePlaceholder)&&void 0!==E?E:"",method:this.updateEmail,addNew:ie,noList:!0})]})})})]})}}const ae=(0,a.Ng)(e=>{var t,s,l,i,a,o,n;return{allWalls:null===(t=e.dashboardData)||void 0===t||null===(s=t.dashboarddata)||void 0===s?void 0:s.allWalls,userData:null===(l=e.authorized)||void 0===l||null===(i=l.userData)||void 0===i?void 0:i.user_data,emailList:null===(a=e.emailList)||void 0===a?void 0:a.emailList,loader:null===(o=e.emailList)||void 0===o?void 0:o.emailLoading,toggle:null===(n=e.emailList)||void 0===n?void 0:n.addEmailNow}},e=>({updateMail:(t,s)=>e((0,o.kh)(t,s)),getUserInfo_afterChanges:()=>e((0,H.AW)()),TOGGLE_ADD_EMAIL:()=>e({type:ee.uZc,payload:!0}),getEmailList:()=>e((0,o.zf)())}))((0,X.A)(ie))}}]);