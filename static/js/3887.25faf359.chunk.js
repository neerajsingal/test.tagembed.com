"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[3887],{17538:(e,s,t)=>{t.d(s,{A:()=>r});var a=t(9950),o=t(85608),i=t(85923),n=t(44414);const r=e=>{let{loginAction:s}=e;const t=()=>{window.google&&Object.keys(window.google).length>0&&window.google.accounts&&(window.google.accounts.id.initialize({client_id:o.E5,callback:e=>{if(e.credential)try{const t=(e=>{const s=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(window.atob(s).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(t)})(e.credential);s(t)}catch(t){i.oR.error("Something went wrong.",{autoClose:3e3})}}}),window.google.accounts.id.prompt())};return(0,a.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,document.body.appendChild(e),t(),()=>{document.body.removeChild(e)}}),[]),(0,n.jsx)(n.Fragment,{})}},77941:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(42074),o=t(44414);const i=e=>{let{text:s,link:t,linkText:i}=e;return(0,o.jsxs)("div",{className:" text-center fw-normal fs-8 mt-lg-5 mt-1 f-center mb-5",children:[s,(0,o.jsx)(a.N_,{to:t,className:"btn btn-link text-decoration-none fw-bold fs-8 p-0 ms-1",title:"Auth",children:i})]})}},73887:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var a=t(9950),o=t(73878),i=t(42074),n=t(28981),r=t(10261),l=t(52867),c=t(54810),d=t(41181),m=t(19360),g=t(17595),h=t(97937),u=t(85861),p=t(9697),w=t(74283),b=t(17538),x=t(41225),v=t(9638),f=t(77941),j=t(66345),y=t(44414);const N=new d.A;class k extends a.Component{constructor(e){super(e),this.state={accountEmail:null,accountPassword:null,emailError:null,passwordError:null,loginLoader:!1,loginMailError:null,memberRemember:!0,showPassword:!1,resetAlert:0,loginPwdError:null},this.handleMessage=async e=>{try{const s=JSON.parse(e.data),{code:t,type:a}=s;if("sign-login"==a&&t){const{data:{responseData:e}}=await(0,u.LY)(t),{response:s,userInfo:a}=e||{};(0,p.cO)(),this.socialLogin({accountFullName:null===a||void 0===a?void 0:a.name,accountEmailId:null===a||void 0===a?void 0:a.email,createFrom:"google",picture:(null===a||void 0===a?void 0:a.picture)||"",authId:null===a||void 0===a?void 0:a.sub})}}catch(s){}},this.readAuthentication=e=>{const s=JSON.parse(e.data);this.socialLogin(s)},this.emailTextChange=e=>this.setState({accountEmail:e.target.value,emailError:null,loginMailError:null}),this.passwordTextChange=e=>this.setState({accountPassword:e.target.value,passwordError:null,loginPwdError:null}),this.clickOnLogin=e=>{var s,t;const{accountEmail:a,accountPassword:o,memberRemember:i}=this.state;if(this.setState({loginLoader:!0}),localStorage.setItem("socialLogin",0),(null===(s=String(a))||void 0===s?void 0:s.trim().length)>0&&(0,l.DT)(a)&&(null===(t=String(o))||void 0===t?void 0:t.trim().length)>0){const e={emailId:a,password:o,loginType:"web"},s={email:a,password:o,status:!0};this.props.loginUser(e,i,s,"",this.props.history,this.callBackError)}else a&&0!=String(a).trim().length&&(0,l.DT)(a)||this.setState({emailError:!0}),o&&0!=String(o).trim().length||this.setState({passwordError:!0}),this.setState({loginLoader:!1})},this.getGoogleUserDetails=e=>{(0,x.JW)(e).then((e=>this.onGSocialLogin("google",e.data)))},this.onGSocialLogin=(e,s)=>{const t=(0,l.UM)("tracking_URL"),a=(0,l.UM)("landing_URL");if(s&&Object.keys(s).length>0){var o=s.picture?s.picture:"";this.props.userSignUp({fullName:s.name,emailId:s.email,password:"",trackingPage:t,landingPage:a,activeProduct:"0",createFrom:e,picture:o,oauth_uid:s.sub,countryCode:"US",utm_source:e},this.props.history,(()=>this.setState({loginLoader:!1})))}},this.socialLogin=e=>{var{accountFullName:s,accountEmailId:t,createFrom:a,picture:o,authId:i}=e;localStorage.setItem("socialLogin",1);const n=(0,l.UM)("tracking_URL"),r=(0,l.UM)("landing_URL");this.props.userSignUp({fullName:s,emailId:t,password:"",trackingPage:n,landingPage:r,activeProduct:"0",createFrom:a,picture:o,oauth_uid:i,countryCode:"US",utm_source:"facebook"==a?"facebook_ads":a},this.props.history,(()=>{}))},this.callBackError=e=>this.setState({loginMailError:String(e).toLowerCase().includes("email")?e:"",loginLoader:!1,emailError:!!String(e).toLowerCase().includes("email"),passwordError:!!String(e).toLowerCase().includes("password"),loginPwdError:String(e).toLowerCase().includes("password")?e:""},(()=>{String(e).includes("email")||String(e).toLowerCase().includes("email")||String(e).toLowerCase().includes("password")||(0,l.r$)(e)}))}componentDidMount(){window.addEventListener("message",this.handleMessage);try{document.documentElement.setAttribute("data-product",j.ffP)}catch(o){}const e=w.A.parse(window.location.search),{email:s,password:t,status:a}=N.get("__RememberDetails")||{};this.setState({accountEmail:s||"",accountPassword:t||"",memberRemember:a||!1}),e&&Object.keys(e.length>0)&&this.setState({resetAlert:e.reset})}componentWillUnmount(){window.removeEventListener("message",this.handleMessage)}render(){const{accountEmail:e,accountPassword:s,emailError:t,passwordError:a,loginLoader:o,loginPwdError:n,memberRemember:l,showPassword:d,resetAlert:u,loginMailError:p}=this.state;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"w-100 mb-lg-0 mb-3",children:[(0,y.jsx)(b.A,{loginAction:e=>this.onGSocialLogin("google",e)},window.location.href),u?(0,y.jsx)(m.A,{variant:1==u?"success":"danger",className:"fs-7 rounded-2",dismissible:!0,children:1==u?"You have successfully updated your password. You can login now with your new password.":"Link expired, please try again."}):null,(0,y.jsxs)("div",{className:"text-start",children:[(0,y.jsx)("h1",{className:" mb-0 display-2 fw-bold mb-5",children:"Welcome back"}),(0,y.jsx)(r.A,{socialLogin:this.socialLogin,text:"Log in with Google"})]}),(0,y.jsxs)("form",{autoComplete:"on",onKeyPress:e=>"Enter"==e.key?this.clickOnLogin():"",children:[(0,y.jsxs)("div",{className:"mb-8",children:[(0,y.jsxs)(g.A.Group,{className:"mb-4 mb-xl-5",children:[(0,y.jsx)(g.A.Label,{className:"fw-bold ",htmlFor:"email_",children:"Email"}),(0,y.jsx)(g.A.Control,{type:"email",size:"lg",placeholder:"you@yourcompany.com",className:(t?"is-invalid":"")+" mb-1",value:e||"",onChange:this.emailTextChange,title:"Please enter email."}),t?(0,y.jsx)("span",{className:"invalid-feedback",children:p||(null!==e&&void 0!==e&&e.length?"Enter valid email.":"Email is required.")}):null]}),(0,y.jsxs)(g.A.Group,{className:"mb-4 mb-xl-5",children:[(0,y.jsx)(g.A.Label,{className:"fw-bold ",htmlFor:"password_",children:"Password"}),(0,y.jsxs)("span",{className:"position-relative d-block "+(a?"is-invalid":""),children:[(0,y.jsx)(g.A.Control,{type:""+(d?"text":"password"),placeholder:"Password",size:"lg",className:(a?"is-invalid":"")+" mb-1",onChange:this.passwordTextChange,value:s||"",title:"Please enter password."}),(0,y.jsx)("span",{className:"view_pass fs-7 btn btn-icon bg-transparent border-0 text-gray-500 position-absolute translate-middle top-50",onClick:e=>this.setState({showPassword:!d}),children:(0,y.jsx)(c.gc,{icon:d?"eye":"eye-slash"})})]}),a?(0,y.jsx)("div",{className:"invalid-feedback",children:n||"Password is required."}):null]}),(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center fw-semibold mb-4 mb-xl-5 pt-1",children:[(0,y.jsxs)("label",{className:"form-check align-items-center mb-0",children:[(0,y.jsx)("input",{className:"form-check-input",name:"remember",type:"checkbox",checked:l,onChange:e=>this.setState({memberRemember:e.target.checked})}),(0,y.jsx)("span",{className:"form-check-label fw-semibold",children:"Remember Me"})]}),(0,y.jsx)(i.N_,{className:"pull-right forgot_password",to:"/accounts/forgotpassword",title:"Forgot Password",children:"Forgot Password?"})]})]}),(0,y.jsx)("div",{className:"d-grid mb-3",children:(0,y.jsxs)(h.A,{variant:"primary",size:"lg",className:""+(o?" disabled":""),onClick:o?null:this.clickOnLogin,children:[(0,y.jsx)("span",{className:"indicator-label",style:{display:o?"none":"block"},children:"Log in with Email"}),(0,y.jsxs)("span",{className:"indicator-progress",style:{display:o?"block":"none"},children:[" Please wait...",(0,y.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]}),(0,y.jsx)(f.A,{text:"Not a member yet?",link:"/accounts/register",linkText:"Sign up"})]}),(0,y.jsx)(v.A,{})]})}}const S=(0,o.Ng)((e=>({})),(e=>({userSignUp:(s,t,a)=>e((0,n.Ei)(s,t,a)),loginUser:(s,t,a,o,i,r)=>e((0,n.Lx)(s,t,a,o,i,r))})))(k)},10261:(e,s,t)=>{t.d(s,{A:()=>l});t(9950);var a=t(97937),o=t(51960),i=t(54810),n=t(41225),r=t(44414);const l=e=>{let{text:s}=e;return(0,r.jsxs)("div",{className:"login_socials text-center",children:[(0,r.jsxs)(a.A,{variant:"light",size:"lg",id:"googleplusSignIn",onClick:()=>{localStorage.setItem("connectionType","sign-login"),(0,n.jf)()},style:{minWidth:120},className:"w-100 border-0 fw-bold ",children:[(0,r.jsx)(o.A,{className:"me-2 h-20px w-20px",src:(0,i.pc)("media/icons/social-icons/google.svg"),width:"20",height:"20",alt:"Google"}),s||"Log in with Google"]}),(0,r.jsx)("div",{className:"d-flex align-items-center flex-column justify-content-between py-4 w-100",children:(0,r.jsx)("div",{className:"separator separator-content my-2 my-md-3 w-100",children:(0,r.jsx)("span",{className:"text-muted fw-semibold fs-6 f-center text-nowrap",style:{width:50},children:"Or"})})})]})}}}]);