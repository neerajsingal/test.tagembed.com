"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[6615],{46615:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(9950),s=a(73878),o=a(28429),r=a(59074),c=a(9697),l=a(18633),i=a(33035),d=a(44414);const g=new AbortController,w=new BroadcastChannel("connect"),m=()=>{const e=(0,o.g)(),t=(0,s.wA)(),[a,m]=(0,n.useState)(!0),u=async a=>{try{const n=JSON.parse(a.data),{code:s}=n,o=localStorage.getItem("networkId");"connectAccount"==localStorage.getItem("connectionType")&&s&&await(0,c.CJ)(parseInt(o),s,(()=>t((0,r.xv)(e.id,m))),!0)}catch(n){}};return(0,n.useEffect)((()=>{const a=g.signal;return window.addEventListener("message",u,{signal:a}),w.addEventListener("message",u),t((0,r.xv)(e.id,m)),localStorage.setItem("shared_token",e.id),localStorage.setItem("ownerId",e.id),localStorage.setItem("shareAccount",!0),localStorage.setItem("url_redirect",window.location.pathname.replace("/v2","")),()=>{window.removeEventListener("message",u,{signal:a}),w.removeEventListener("message",u),g.abort(),w.close()}}),[]),a?(0,d.jsx)(l.a,{}):(0,d.jsx)(i.A,{isSharing:!0})}}}]);