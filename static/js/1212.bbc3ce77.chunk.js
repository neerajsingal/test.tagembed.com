"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[1212],{18038:(e,s,i)=>{i.d(s,{A:()=>r});var t=i(9950),l=i(97937),o=i(54810),a=i(44414);class n extends t.Component{constructor(e){super(e),this.handleClose=()=>{this.props.filterToggleCallback(!1)},this.state={width:window.innerWidth,isSavedList:!1},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){this.setState({width:window.innerWidth})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{filterToggle:e,closeAside:s}=this.props,{width:i}=this.state;return(0,a.jsxs)("div",{className:"aside__ border-end "+(i<1280?"offcanvas offcanvas-start "+(e?"show":""):""),id:"aside__toggle",children:[(0,a.jsx)("div",{className:"d-flex justify-content-end d-xl-none p-3 border-bottom h-48px",children:(0,a.jsx)(l.A,{variant:"secondary",id:"toggle_aside",size:"sm",className:"d-flex border-0",onClick:()=>s(),children:(0,a.jsx)(o.gc,{icon:"xmark",iconClass:"me-0"})})}),(0,a.jsx)("div",{className:"aside__body w-100",children:this.props.children})]})}}const r=n},36284:(e,s,i)=>{i.d(s,{A:()=>h});var t=i(9950),l=i(42074),o=i(45358),a=i(34483),n=i(1391),r=i(54810),d=i(44414);class c extends t.Component{isActive(e){return window.location.href.includes(e)?"active":""}render(){const{websiteUrl:e,navigate:s}=this.props;return(0,d.jsx)("div",{className:"subheader",children:(0,d.jsxs)(o.A,{fluid:!0,children:[(0,d.jsxs)("div",{className:"nav nav-underline d-none d-lg-flex",children:[(0,d.jsx)("div",{className:"nav-item",children:(0,d.jsxs)(l.N_,{to:`/website/${e}/${localStorage.getItem("website_id")||""}`,className:`nav-link ${this.isActive("website")}`,title:"Website",children:[(0,d.jsx)(r.gc,{icon:"browser",iconClass:"me-1"}),"Website"]})}),(0,d.jsx)("div",{className:"nav-item",children:(0,d.jsxs)(l.N_,{to:`/shopon-bio/preview/${localStorage.getItem("shopOn_id")||""}`,className:`nav-link ${this.isActive("shopon-bio")}`,title:"Shopon.bio",children:[(0,d.jsx)(r.gc,{icon:"link",iconClass:"me-1"}),"Shopon.bio"]})}),(0,d.jsx)("div",{className:"nav-item",children:(0,d.jsxs)(l.N_,{to:`/email-campaign/publish/${localStorage.getItem("emailCamp_id")||""}`,className:`nav-link ${this.isActive("email-campaign")}`,title:"Email Campaign",children:[(0,d.jsx)(r.gc,{icon:"bullhorn",iconClass:"me-1"}),"Email Campaign"]})}),(0,d.jsx)("div",{className:"nav-item",children:(0,d.jsxs)(l.N_,{to:"/more-publish/",className:`nav-link ${this.isActive("more-publish")}`,title:"More",children:[(0,d.jsx)(r.gc,{icon:"ellipsis",iconClass:"me-1"}),"More"]})})]}),(0,d.jsxs)(a.A,{className:"d-flex d-lg-none",style:{marginTop:"5px"},children:[(0,d.jsx)(a.A.Toggle,{variant:"secondary",id:"subheader-tabs",children:window.location.href.includes("website")?"Website":window.location.href.includes("shopon-bio")?"Shopon.bio":window.location.href.includes("email-campaign")?"Email Campaign":window.location.href.includes("more-publish")?"More":""}),(0,d.jsxs)(a.A.Menu,{children:[(0,d.jsxs)(a.A.Item,{onClick:()=>s(`/website/${e}/${localStorage.getItem("website_id")||""}`),className:this.isActive("website"),children:[(0,d.jsx)(r.gc,{icon:"browser",iconClass:"me-1"}),"Website"]}),(0,d.jsxs)(a.A.Item,{onClick:()=>s(`/shopon-bio/preview/${localStorage.getItem("shopOn_id")||""}`),className:this.isActive("shopon-bio"),children:[(0,d.jsx)(r.gc,{icon:"link",iconClass:"me-1"}),"Shopon.bio"]}),(0,d.jsxs)(a.A.Item,{onClick:()=>s(`/email-campaign/publish/${localStorage.getItem("emailCamp_id")||""}`),className:this.isActive("email-campaign"),children:[(0,d.jsx)(r.gc,{icon:"bullhorn",iconClass:"me-1"}),"Email Campaign"]}),(0,d.jsxs)(a.A.Item,{onClick:()=>s("/more-publish/"),className:this.isActive("more-publish"),children:[(0,d.jsx)(r.gc,{icon:"ellipsis",iconClass:"me-1"}),"More"]})]})]})]})})}}const h=(0,n.A)(c)},54524:(e,s,i)=>{i.d(s,{A:()=>O});var t=i(9950),l=i(54810),o=i(26661),a=i(86781),n=i(17595),r=i(68459),d=i(97937),c=i(73878),h=i(3302),p=i.n(h),u=i(75794),m=(i(34461),i(57182),i(93766),i(55856),i(67128),i(35131)),v=i(21784),g=i(67972),x=i(20878),b=i(51960),j=i(85608),f=i(44414);class S extends t.Component{constructor(e){super(e),this.state={backgroundModal:!1,ext:"",fileName:""},this.onBackgroundClose=e=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})},this.onBackgroundOpen=e=>{this.setState({backgroundModal:!0},(()=>{p()(".uppy-Dashboard-close").click((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}))}))},this.uppy=new u.A({debug:!0,autoProceed:!1,restrictions:{maxFileSize:5e7,maxNumberOfFiles:1,minNumberOfFiles:1,allowedFileTypes:this.props.allowFiles}}).use(m.Ay,{target:"#a",params:{auth:{key:j.bG},steps:{store:{robot:j._8,bucket_region:j.YL,bucket:j.I2,key:j.jZ,secret:j.mD,path:this.props.isLocation?"request-feature/${file.id}.${file.ext}":j.yQ+"${file.id}.${file.ext}"}}},waitForEncoding:!0}).use(v.A,{target:u.A.Dashboard,companionUrl:j.ac}).use(g.A,{target:u.A.Dashboard,companionUrl:j.ac})}componentDidMount(){var e=this;this.uppy.on("transloadit:result",((s,i)=>{this.setState({ext:i.ext,fileName:i.basename}),e.props.onClickToupload(this.props.isLocation?`${j.GG}request-feature/${i.id}.${i.ext}`:`${j.$r}${i.id}.${i.ext}`,(()=>{setTimeout((()=>{this.uppy.cancelAll(),this.setState({backgroundModal:!1})}),300)}))}))}render(){const{imageStyle:e,uploadedMedia:s,id:i,text:t}=this.props,{backgroundModal:o,ext:a,fileName:n}=this.state,r=e=>{switch(e){case"docx":return"file-doc";case"pdf":return"file-pdf";case"mp4":case"mov":return"file-video";default:return!1}};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"d-flex align-items-start justify-content-between flex-column py-1",children:s?(0,f.jsxs)("div",{className:"f-between w-100 bg-gray-100 rounded-2 p-4 align-items-center",children:[(0,f.jsxs)("div",{className:"d-flex flex-grow-1 align-items-center",style:{width:"calc(100% - 30px)"},children:[r(a)?(0,f.jsx)("div",{className:"f-center flex-shrink-0 me-3",style:{fontSize:"3rem"},children:(0,f.jsx)(l.gc,{type:"solid",icon:r(a),iconClass:"text-gray-700"})}):(0,f.jsx)(b.A,{id:"bg_image",className:"object-fit-cover rounded-2 me-3",src:s,height:60,width:60,alt:"",style:{maxHeight:60}}),a?(0,f.jsxs)("p",{className:"text-ellipsis fs-8 mb-0",children:[n,".",a]}):null]}),(0,f.jsx)(d.A,{variant:"icon",size:"sm",className:"rounded-circle bg-danger border-danger text-white h-20px w-20px",onClick:()=>this.props.onClickToupload("",(()=>{})),children:(0,f.jsx)(l.gc,{icon:"xmark"})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(d.A,{id:i,variant:"light",className:"w-100",onClick:()=>this.setState({backgroundModal:!0}),children:[(0,f.jsx)(l.gc,{icon:"arrow-up-from-bracket"}),t||"Upload"]}),(0,f.jsxs)("p",{className:"text-gray-500 mt-1 fw-medium fs-9",children:[(0,f.jsx)(l.gc,{type:"solid",icon:"info-circle",iconClass:"me-1"}),"Accepts ",this.props.allowFiles.join(", ")]})]})}),o?(0,f.jsx)(x.KG,{animateOpenClose:!0,open:o,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppy,onRequestClose:this.onBackgroundClose,closeAfterFinish:!0,plugins:["Url"]}):null]})}}var y=i(52867),_=i(66345),w=i(14313);localStorage.getItem("token");class C extends t.Component{constructor(e){var s,i,t,l,o,a;super(e),this.submitForm=()=>{const{name:e,email:s,description:i,uploadedMedia:t}=this.state;let l=!(!e||(0,y.QT)(e)||0==String(e).trim()),o=!(!s||!(0,y.DT)(s)),a=!!(i&&i.length<=500);if(l&&o&&a){this.setState({isLoading:!0});(e=>(new w.A).post(`${_.xpU}`,{name:e.name,email:e.email,description:e.description,file:e.file}))({name:e,email:s,description:`<b>${this.props.title}</b>-${i}`,file:t}).then((e=>{200==e.data.responseCode?setTimeout((()=>{var e,s,i,t,l,o;(0,y.k1)("Request shared successfully"),this.setState({isLoading:!1,name:null===(e=this.props.authorized)||void 0===e||null===(s=e.userData)||void 0===s||null===(i=s.user_data)||void 0===i?void 0:i.user.name,email:null===(t=this.props.authorized)||void 0===t||null===(l=t.userData)||void 0===l||null===(o=l.user_data)||void 0===o?void 0:o.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1}),this.props.onCloseModel(!1)}),1e3):(this.setState({isLoading:!1}),(0,y.r$)(e.data.message))})).catch((e=>{this.setState({isLoading:!1}),(0,y.r$)("Something went wrong, please try again later.")}))}else this.setState({isLoading:!1,nameErr:!l,emailErr:!o,descriptionErr:!a})},this.onClickToupload=(e,s)=>this.setState({uploadedMedia:e},(()=>s())),this.onCloseModelFun=()=>{var e,s,i,t,l,o;this.setState({name:null===(e=this.props.authorized)||void 0===e||null===(s=e.userData)||void 0===s||null===(i=s.user_data)||void 0===i?void 0:i.user.name,email:null===(t=this.props.authorized)||void 0===t||null===(l=t.userData)||void 0===l||null===(o=l.user_data)||void 0===o?void 0:o.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1}),this.props.onCloseModel(!1)},this.state={name:null===(s=this.props.authorized)||void 0===s||null===(i=s.userData)||void 0===i||null===(t=i.user_data)||void 0===t?void 0:t.user.name,email:null===(l=this.props.authorized)||void 0===l||null===(o=l.userData)||void 0===o||null===(a=o.user_data)||void 0===a?void 0:a.user.emailId,description:"",uploadedMedia:"",uploadedUrl:"",nameErr:!1,emailErr:!1,descriptionErr:!1,isLoading:!1}}render(){var e,s;const{show:i,onCloseModel:t,authorized:l,title:c}=this.props,{name:h,email:p,description:u,uploadedUrl:m,nameErr:v,emailErr:g,descriptionErr:x,isLoading:b,uploadedMedia:j}=(null===l||void 0===l||null===(e=l.userData)||void 0===e||null===(s=e.user_data)||void 0===s||s.user,this.state);return(0,f.jsxs)(o.A,{id:"reqFeature",size:"lg",show:i,"aria-labelledby":"reqFeature",tabIndex:"0",centered:!0,backdrop:"static",onHide:this.onCloseModelFun,children:[(0,f.jsx)(o.A.Header,{closeButton:!0,children:(0,f.jsx)(o.A.Title,{children:c})}),(0,f.jsxs)(o.A.Body,{className:"p-lg-7 p-3 demo_schedule position-relative",children:[(0,f.jsxs)(a.A,{className:"mb-3",children:[(0,f.jsxs)(n.A.Group,{as:r.A,md:"6",children:[(0,f.jsxs)(n.A.Label,{children:["Full Name ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(n.A.Control,{id:"r_f_name",required:!0,type:"text",placeholder:"Full name",className:v?"is-invalid":"",value:h,onChange:e=>this.setState({name:e.target.value,nameErr:!1})}),v&&(0,f.jsx)("div",{className:"invalid-feedback",children:"Name is required."})]}),(0,f.jsxs)(n.A.Group,{as:r.A,md:"6",children:[(0,f.jsxs)(n.A.Label,{children:["Email ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(n.A.Control,{id:"r_f_email",required:!0,type:"email",placeholder:"example@example.com",className:g?"is-invalid":"",value:p,onChange:e=>this.setState({email:e.target.value,emailErr:!1})}),g&&(0,f.jsx)("div",{className:"invalid-feedback",children:""!=p?"Enter valid email.":"Email ID is required."})]})]}),(0,f.jsxs)(n.A.Group,{as:r.A,className:"mb-3",children:[(0,f.jsxs)(n.A.Label,{children:["Description ",(0,f.jsx)("strong",{className:"text-danger",children:"*"})]}),(0,f.jsx)(n.A.Control,{as:"textarea",id:"r_f_desc",placeholder:"Enter Description",className:(x?"is-invalid":"")+" textarea-min-row-6",maxLength:500,onChange:e=>this.setState({description:e.target.value,descriptionErr:!1}),value:u}),(0,f.jsxs)("div",{className:"f-between",children:[(0,f.jsx)("div",{className:"invalid-feedback d-block",children:x?"This field is required":""}),(0,f.jsxs)("span",{className:"fs-10 text-muted pt-1",children:[null===u||void 0===u?void 0:u.length,"/500"]})]})]}),(0,f.jsx)(n.A.Group,{as:r.A,className:"mb-3",children:(0,f.jsx)(S,{id:"sugg_doc",imageStyle:{paddingBottom:"66%"},uploadedMedia:j,onClickToupload:this.onClickToupload,text:"Upload File",allowFiles:["image/*",".docx",".pdf",".mp4",".mov"],isLocation:!0})})]}),(0,f.jsxs)(o.A.Footer,{children:[(0,f.jsx)(d.A,{id:"r_f_cancel",variant:"secondary",className:"ms-3 btn-min-w",onClick:this.onCloseModelFun,children:"Cancel"}),(0,f.jsx)(d.A,{id:"r_f_submit",className:"ms-3 btn-min-w "+(b?"spinner":""),onClick:this.submitForm,children:"Submit"})]})]})}}const N=(0,c.Ng)((e=>({authorized:e.authorized})),(e=>({})))(C);class A extends t.Component{constructor(e){super(e),this.state={show:!1}}render(){const{title:e}=this.props,{show:s}=this.state;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{onClick:()=>this.setState({show:!s}),children:this.props.children}),(0,f.jsx)(N,{show:s,onCloseModel:()=>this.setState({show:!1}),title:e||"Request New Feature"})]})}}const O=A},21212:(e,s,i)=>{i.r(s),i.d(s,{default:()=>H});var t=i(9950),l=i(45358),o=i(471),a=i(97937),n=i(79163),r=i(22281),d=i(51960),c=i(3302),h=i.n(c),p=i(20878),u=i(17595),m=i(75623),v=i(66345),g=i(49332),x=i(85608),b=i(54810),j=i(80322),f=i(54524),S=i(44414);class y extends t.Component{constructor(){super(...arguments),this.state={modalOpen:!1},this.uppyUploader=new g.A,this.onClickToOpen=()=>{(0,j.Yj)("publish","shopon",!0)&&this.setState({modalOpen:!0},(()=>h()(".uppy-Dashboard-close").click((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({modalOpen:!1})}))))},this.onClickToClose=()=>{this.uppyUploader.uppy.cancelAll(),this.setState({modalOpen:!1})},this.doneButtonHandler=()=>{this.uppyUploader.uppy.cancelAll(),this.onClickToClose()}}componentDidMount(){const{changeProfile:e}=this.props;this.uppyUploader.uppy.on("transloadit:result",((s,i)=>{e(`${x.$r}${i.id}.${i.ext}`),setTimeout((()=>{this.uppyUploader.uppy.cancelAll(),this.setState({modalOpen:!1})}),300)}))}componentWillUnmount(){this.uppyUploader.uppy.cancelAll(),this.uppyUploader.uppy.close({reason:"unmount"}),this.setState({modalOpen:!1})}render(){const{title:e,description:s,profile:i,changeTitle:t,changeDescription:l,slug:o,changeSlug:c,slugError:h,slugMsg:g,errorTitle:x,errorDescription:y,changeTheme:_,theme_type:w,footer_action2:C,copied:N,copyText:A,ifchanges:O,selectedWall:k}=this.props;return k?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"border-bottom px-4 py-4 mb-4",children:[(0,S.jsx)("h6",{className:"mb-2",children:"Get Started With ShopOn.bio"}),(0,S.jsx)("p",{className:"mb-3 fs-9 text-muted",children:"Show your values, mission, and uniqueness. Make it simple, clear, and inspiring. Let your audience connect! (Your brand, in 300 characters)"}),(0,S.jsxs)("div",{className:"d-flex align-items-center mb-4",children:[(0,S.jsxs)("div",{className:"d-flex align-items-center flex-shrink-0 position-relative me-3",children:[(0,S.jsx)("div",{id:"shop_logo",className:"symbol symbol-50 rounded-circle overflow-hidden cursor-pointer",onClick:this.onClickToOpen,children:i||e?i?(0,S.jsx)(d.A,{src:`${i}`,height:50,width:50,alt:e,fluid:!0}):(0,S.jsx)("span",{className:"f-center text-uppercase h-34px w-34px fs-2 text-gray-100",children:null===e||void 0===e?void 0:e.charAt(0).toUpperCase()}):(0,S.jsx)(b.gc,{icon:"user",iconClass:"display-1"})}),(0,S.jsx)(a.A,{variant:"primary",className:"f-center position-absolute rounded-circle h-20px w-20px p-0 fs-10",style:{bottom:-2,right:-2},onClick:this.onClickToOpen,children:(0,S.jsx)(b.gc,{type:"solid",icon:"plus",iconClass:"me-0"})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)(u.A.Control,{id:"shopon_title",className:""+(x?"is-invalid":""),value:e,onChange:e=>t(e.target.value),disabled:!(0,j.Yj)("publish","shopon",!0,!0)}),(0,S.jsx)("span",{className:"invalid-feedback",children:x?"This field is required ":""})]})]}),(0,S.jsx)(u.A.Control,{id:"shopon_desc",as:"textarea",className:""+(y?"is-invalid":""),maxLength:300,onChange:e=>{e.target.value.length<151?l(e.target.value):l(e.target.value.substring(0,300))},value:s,placeholder:"Bio",style:{minHeight:120},disabled:!(0,j.Yj)("publish","shopon",!0,!0)}),(0,S.jsxs)("div",{className:"f-between",children:[(0,S.jsx)("div",{className:"pt-1",style:{color:"red",fontSize:"10px"},children:y?"This field is required":""}),(0,S.jsx)("div",{className:"d-flex justify-content-end",children:(0,S.jsxs)("span",{className:"fs-10 text-muted pt-1",children:[null===s||void 0===s?void 0:s.length,"/300"]})})]})]}),(0,S.jsxs)("div",{className:"px-4 mb-4",children:[(0,S.jsx)(u.A.Label,{className:"",children:"Choose your ShopOn.bio Username"}),(0,S.jsx)("div",{className:"mb-4",children:(0,S.jsxs)(m.A,{className:"error"==h?"is-invalid":"is-valid",children:[(0,S.jsx)(m.A.Text,{children:"shopon.bio/"}),(0,S.jsx)(u.A.Control,{id:"shopon_url",className:"error"==h?"is-invalid":"is-valid",maxLength:"255",value:o,onChange:e=>c(e.target.value),disabled:!(0,j.Yj)("publish","shopon",!0,!0)}),"error"==h?(0,S.jsx)("span",{className:"invalid-feedback",children:g||"URL is already taken"}):"",(null===o||void 0===o?void 0:o.length)>2&&"success"==h?(0,S.jsx)("span",{className:"valid-feedback",children:"URL is available"}):""]})}),(0,S.jsxs)("div",{className:"d-flex flex-column mb-2",children:[(0,S.jsx)(u.A.Label,{children:"Theme type"}),(0,S.jsxs)(n.A,{type:"radio",name:"options",value:w,onChange:_,children:[(0,S.jsxs)(r.A,{variant:"secondary text-nowrap",id:"mode-2",value:1,disabled:!(0,j.Yj)("publish","shopon",!0,!0),"aria-label":"Light Mode",children:[(0,S.jsx)(b.gc,{type:"solid",icon:"sun-bright",iconClass:"me-1"}),"Light"]}),(0,S.jsxs)(r.A,{variant:"secondary text-nowrap",id:"mode-3",value:2,disabled:!(0,j.Yj)("publish","shopon",!0,!0),"aria-label":"Dark Mode",children:[(0,S.jsx)(b.gc,{type:"solid",icon:"moon",iconClass:"me-1"}),"Dark"]})]})]}),(0,S.jsx)(f.A,{title:"Request Customisation",children:(0,S.jsxs)(a.A,{variant:"secondary",className:"w-100 mt-4",children:[(0,S.jsx)(b.gc,{icon:"lightbulb"}),"Request Customisation"]})})]}),C&&!O?(0,S.jsx)("div",{className:"bg-gray-200 position-sticky border-top border-bottom bottom-0 px-4",style:{zIndex:9},children:(0,S.jsxs)(m.A,{className:"py-5",children:[(0,S.jsx)("a",{id:"shopon_url",className:"form-control text-nowrap  fw-medium text-ellipsis",href:`${v.C2_}/${o}`,target:"_blank",title:"url",children:`${v.C2_}/${o}`}),(0,S.jsx)(a.A,{id:"copy_url_btn",variant:"secondary",className:""+(O?"disabled":""),onClick:A,children:N?"Copied ":"Copy"})]})}):"",this.state.modalOpen?(0,S.jsx)(p.KG,{animateOpenClose:!0,proudlyDisplayPoweredByUppy:!1,inline:!1,showProgressDetails:!0,height:750,browserBackButtonClose:!0,showRemoveButtonAfterComplete:!1,uppy:this.uppyUploader.uppy,open:!0,onRequestCloseModal:this.onClickToClose,closeAfterFinish:!0,doneButtonHandler:this.doneButtonHandler,plugins:["Instagram","GoogleDrive","Url","Webcam","ImageEditor"]}):null]}):(0,S.jsx)("div",{})}}var _=i(18633),w=i(86781),C=i(68459);const N=e=>{let{title:s,desc:i,button:t,vimeoCode:l,isFullScreen:o}=e;return(0,S.jsx)("div",{className:"create_page_ rounded-0 mx-auto f-center w-100 h-100",children:(0,S.jsx)(w.A,{className:"py-5 text-center w-100 justify-content-center",children:(0,S.jsxs)(C.A,{sm:10,lg:8,xl:7,xxl:6,children:[(0,S.jsx)("h2",{className:"text-center h3 mb-4",children:s}),(0,S.jsx)("div",{className:"video-border position-relative mb-5 border-lg overflow-hidden rounded-3",style:{paddingBottom:"55%"},children:(0,S.jsx)("div",{className:"position-absolute start-0 top-0 video_play w-100 h-100",children:(0,S.jsx)("iframe",{className:"w-100 h-100",src:`https://player.vimeo.com/video/${l}`,width:"640",height:"355",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:!0})})}),(0,S.jsx)("p",{className:"fs-8 text-muted fw-medium",children:i}),(0,S.jsx)(a.A,{onClick:()=>t.action(),size:o?"lg":"md",className:"my-3",children:t.text})]})})})};var A=i(73878),O=i(32417),k=i(28981),D=i(54480),E=i(18038),L=i(34733),T=i(1391),I=i(9676),R=i(52867),$=i(41397),M=i.n($),U=i(26806),P=i(36284),W=i(26787);class F extends t.Component{constructor(){super(...arguments),this.state={footer_action1:!0,footer_action2:!1,lightMode:!0,darkMode:!1,spinner:!1,activeTab:1,activeGallery:[],shopOnbio:[],title:"",description:"",profile:"",imgFile:"",slug:"",currentSlug:"",slugError:"",theme_type:1,errorTitle:!1,errorDescription:!1,ifchanges:!1,copied:!1,shoponLoading:!0,analytics_shopon:!1,slugMsg:"",selectedWall:"",isMobile:!0,filterToggle:!1,selectLoader:!0},this.discardShopon=()=>{const{shopOnList:e}=this.props.shopOnData;var s=null===e||void 0===e?void 0:e.find((e=>e.id==localStorage.getItem("shopOn_id")));this.setState({selectedWall:s||(null===e||void 0===e?void 0:e[0])||""},(()=>(0,R.Fl)("hide")))},this.selectedShopOn=e=>{const{shopOnList:s}=this.props.shopOnData;if(e)this.setState({selectedWall:null,selectLoader:!0,activeGallery:{}});else{var i=null===s||void 0===s?void 0:s.find((e=>e.id==localStorage.getItem("shopOn_id")));this.setState({selectedWall:i||(null===s||void 0===s?void 0:s[0])||""})}},this.getShoponData=()=>{var e,s,i,t,l,o,a;const{shopOnData:n,allWalls:r}=this.props;var d=null===n||void 0===n||null===(e=n.shopOnList)||void 0===e?void 0:e.find((e=>String(e.id)==String(localStorage.getItem("shopOn_id"))));const c=null!==(s=null!==d&&void 0!==d?d:null===n||void 0===n||null===(i=n.shopOnList)||void 0===i?void 0:i[0])&&void 0!==s?s:"",h=null!==(t=null!==(l=null!==(o=null===d||void 0===d?void 0:d.wallId)&&void 0!==o?o:localStorage.getItem("shopOnActive_wall"))&&void 0!==l?l:null===r||void 0===r||null===(a=r[0])||void 0===a?void 0:a.id)&&void 0!==t?t:"";if(c){var p,u,m,v;localStorage.setItem("shopOnActive_wall",h);var g=null===r||void 0===r?void 0:r.find((e=>e.id==h));this.setState({title:null===c||void 0===c||null===(p=c.extra_data)||void 0===p?void 0:p.title,description:null===c||void 0===c||null===(u=c.extra_data)||void 0===u?void 0:u.description,profile:null===c||void 0===c||null===(m=c.extra_data)||void 0===m?void 0:m.profile,slug:(null===c||void 0===c?void 0:c.slug).toLowerCase(),currentSlug:(null===c||void 0===c?void 0:c.slug).toLowerCase(),theme_type:null===c||void 0===c||null===(v=c.extra_data)||void 0===v?void 0:v.theme_type,activeGallery:g,slugError:"",spinner:!1,ifchanges:!c.wallId,selectLoader:!1},(()=>{var e;null!==c&&void 0!==c&&c.slug?c.wallId?this.setState({footer_action2:!0}):this.setState({footer_action2:!1}):(this.checkSlugAvailability(null===c||void 0===c||null===(e=c.extra_data)||void 0===e?void 0:e.title),this.setState({footer_action2:!1,ifchanges:!c.wallId}));this.setShoponData(c)})),this.GETWALL_DATA(h)}},this.setShoponData=e=>{var s,i,t,l;this.props.SHOPON_DESCRIPTION_REDUCER(null===e||void 0===e||null===(s=e.extra_data)||void 0===s?void 0:s.description),this.props.SHOPON_LOGO_REDUCER(null===e||void 0===e||null===(i=e.extra_data)||void 0===i?void 0:i.profile),this.props.SHOPON_TYPE_REDUCER(null===e||void 0===e||null===(t=e.extra_data)||void 0===t?void 0:t.theme_type),this.props.SHOPON_TITLE_REDUCER(null===e||void 0===e||null===(l=e.extra_data)||void 0===l?void 0:l.title)},this.GETWALL_DATA=e=>{var s,i,t,l,o,a=null===(s=this.props.allWalls)||void 0===s?void 0:s.find((s=>s.id==e));!a&&(null===(i=this.props)||void 0===i||null===(t=i.allWalls)||void 0===t?void 0:t.length)>0&&(a=null===(o=this.props)||void 0===o?void 0:o.allWalls[0]);this.setState({activeGallery:a}),localStorage.setItem("shopOnActive_wall",null===(l=a)||void 0===l?void 0:l.id),this.props.CHANGE_SHOPON_WALL(a?a.id:e,21)},this.checkSlugAvailability=e=>{if(e){var s,i=null===e||void 0===e||null===(s=e.toLowerCase())||void 0===s?void 0:s.replace(/ /g,"-").replace(/[^\w-]+/g,"");this.state.slug||this.setState({currentSlug:i}),this.setState({slug:i,ifchanges:!0},(()=>{(null===i||void 0===i?void 0:i.length)>=4?this.callSlug(i):this.setState({slugError:"error",slugMsg:"Slug characters length should be minimum 4."})}))}else this.setState({slug:e,slugError:"error",slugMsg:"Slug characters length should be minimum 4."})},this.callSlug=(0,R.sg)((e=>{const s=localStorage.getItem("shopOn_id");(0,O.a8)({slug:e,id:s}).then((e=>{let{data:{responseCode:s,responseStatus:i,status:t,response_message:l,response_code:o}}=e;const a=t||i;this.setState({slugError:a,slugMsg:l}),200!==s&&400!==o||this.setState({slugError:a,slugMsg:l})})).catch((e=>console.log("error",e)))}),500),this.submitShopon=()=>{const{title:e,ifchanges:s,description:i,profile:t,slug:l,theme_type:o}=this.state;if(s&&l.length>2&&e&&i&&t){this.setState({footer_action1:!0,spinner:!0});var a={action:2,wallId:localStorage.getItem("shopOnActive_wall"),id:localStorage.getItem("shopOn_id"),title:e,description:i,profile:t,theme_type:o,slug:l};this.props.UPDATE_SHOPON(a,this.getResponse)}else e||this.setState({errorTitle:!0}),i||this.setState({errorDescription:!0})},this.getResponse=(e,s)=>{this.setState({slugError:!1,spinner:!1,ifchanges:!1,currentSlug:this.state.slug}),(0,R.C2)()&&(0,R.Fl)("hide"),200==e?this.setState({footer_action2:!0}):this.setState({footer_action2:!1})},this.changeTitle=e=>{this.setState({title:e,errorTitle:!1,ifchanges:!0}),this.props.SHOPON_TITLE_REDUCER(e)},this.changeDescription=e=>{this.setState({description:e,errorDescription:!1,ifchanges:!0}),this.props.SHOPON_DESCRIPTION_REDUCER(e)},this.changeProfile=e=>{this.setState({profile:e,ifchanges:!0}),this.props.SHOPON_LOGO_REDUCER(e)},this.changeTheme=e=>{this.setState({theme_type:e,ifchanges:!0}),this.props.SHOPON_TYPE_REDUCER(e)},this.copyText=()=>{navigator.clipboard.writeText(`https://${v.onz?"":"test."}shopon.bio/${this.state.slug}`),this.setState({copied:!0},(()=>setTimeout((()=>this.setState({copied:!1})),2e3)))},this.changDevice=e=>this.setState({isMobile:1==e}),this.changeShopOn=e=>{var s,i,t,l,o;const{shopOnData:a,navigate:n,allWalls:r}=this.props;this.setState({selectLoader:!0,activeGallery:{},selectedWall:null}),localStorage.setItem("shopOn_id",e.id),n(`/shopon-bio/preview/${e.id}`);var d=null===a||void 0===a?void 0:a.shopOnList.find((s=>s.id==e.id));this.props.SHOPON_BRAND_DATA_REDUCER();const c=null!==(s=null!==(i=null===d||void 0===d?void 0:d.wallId)&&void 0!==i?i:null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.id)&&void 0!==s?s:null;localStorage.setItem("shopOnActive_wall",c),this.setState({selectedWall:d,activeGallery:null!==(l=null!==(o=r.find((s=>s.id==(null===e||void 0===e?void 0:e.wallId))))&&void 0!==o?o:null===r||void 0===r?void 0:r[0])&&void 0!==l?l:null,selectLoader:!1}),this.getShoponData(),this.props.CHANGE_SHOPON_WALL(c,20)},this.closeAside=()=>this.setState({filterToggle:!1})}componentDidMount(){var e,s,i;null!==(e=this.props.shopOnData)&&void 0!==e&&null!==(s=e.shopOnList)&&void 0!==s&&s.length||this.props.GET_ALL_SHOPON_LIST(),null===(i=document.querySelector(".publish_sidebar_toggle"))||void 0===i||i.addEventListener("click",(function(e){e.preventDefault();var s=document.querySelector(".publish_sidebar_toggle"),i=document.querySelector(".ec_sidebar");s.classList.toggle("active"),i.classList.toggle("active")})),this.getShoponData(),this.selectedShopOn(),(0,R.C2)()&&(window.addEventListener("onSaveClicked",this.submitShopon),window.addEventListener("onDiscardClicked",this.discardShopon))}componentWillUnmount(){(0,R.C2)()&&((0,R.Fl)("hide"),window.removeEventListener("onSaveClicked",this.submitShopon),window.removeEventListener("onDiscardClicked",this.discardShopon))}componentDidUpdate(e){var s,i;M().isEqual(e.allWalls,this.props.allWalls)||this.getShoponData(),M().isEqual(null===(s=this.props.shopOnData)||void 0===s?void 0:s.shopOnList,null===(i=e.shopOnData)||void 0===i?void 0:i.shopOnList)||setTimeout((()=>{this.getShoponData(),this.selectedShopOn()}),500),localStorage.getItem("analytics_shopon")&&(this.setState({analytics_shopon:!0}),localStorage.removeItem("analytics_shopon")),(0,R.C2)()&&this.state.ifchanges&&(0,R.Fl)()}render(){var e,s,i,t;const{footer_action1:c,theme_type:h,activeGallery:p,ifchanges:u,currentSlug:m,slugError:g,selectedWall:x,isMobile:j,filterToggle:f,spinner:w,selectLoader:C}=this.state,{allWalls:A,shopOnData:O,userData:k}=this.props,D=null===k||void 0===k||null===(e=k.user_data)||void 0===e?void 0:e.sessionData,T="shopify"==(null===D||void 0===D?void 0:D.createFrom.toLowerCase())?"shopify":"bigcommerce"==(null===D||void 0===D?void 0:D.createFrom.toLowerCase())?"bigcommerce":"publish";return(0,S.jsxs)(S.Fragment,{children:[(0,R.C2)()?(0,S.jsx)(P.A,{websiteUrl:T}):null,null!==O&&void 0!==O&&null!==(s=O.shopOnList)&&void 0!==s&&s.length&&!(0,R.C2)()?(0,S.jsx)(W.A,{crumbs:[{name:null!==(i=null===x||void 0===x?void 0:x.name)&&void 0!==i?i:"",icon:"paper-plane"},{name:"Home",link:"/home"},{name:"Publish",link:"/publish"}],publishSwitcher:!0,changePublish:this.changeShopOn,publishList:null===O||void 0===O?void 0:O.shopOnList,selectedPublish:x,isWebsite:!1,title:"ShopOn bio"}):null,(0,S.jsx)("div",{className:"d-flex flex-column py-0 flex-column-fluid "+((0,R.C2)()?"mt-5":"full-content"),children:(0,S.jsx)(l.A,{className:(0,R.C2)()?"":"container-shopon",fluid:!0,children:O&&null!==O&&void 0!==O&&null!==(t=O.shopOnList)&&void 0!==t&&t.length?(0,S.jsx)(o.A,{className:"content_inner shopon_bio border-0 shadow-none "+((0,R.C2)()?"":"rounded-0"),children:(0,S.jsxs)(o.A.Body,{className:"p-0 d-flex w-100",children:[(0,S.jsx)(E.A,{filterToggle:f,closeAside:this.closeAside,children:(0,S.jsxs)(o.A,{className:"a_header_ a_footer_ "+((0,R.C2)()?"":"rounded-0"),children:[(0,R.C2)()?(0,S.jsx)(o.A.Header,{className:"py-4",children:(0,S.jsx)(I.A,{contentList:null===O||void 0===O?void 0:O.shopOnList,changeWebsite:this.changeShopOn,selectedContent:x,title:"ShopOn bio",method:this.selectedShopOn,addShopon:O.addShoponNew})}):null,(0,S.jsxs)(o.A.Body,{className:"aside_body p-0",style:{marginBottom:-1,height:(0,R.C2)()?"calc(100vh - 139px)":""},children:[(0,S.jsxs)("div",{className:"border-bottom p-4 mb-4",children:[(0,S.jsx)("h5",{children:"Select content"}),(0,S.jsx)(L.A,{contentList:A,modifyContent:e=>this.setState({ifchanges:!0},(()=>this.GETWALL_DATA(e.id))),selectedContent:p,title:"Shop",onlySwitcher:!0,selectLoader:C})]}),c?(0,S.jsx)(y,{...this.state,changeTitle:e=>this.changeTitle(e),changeDescription:e=>this.changeDescription(e),changeProfile:e=>this.changeProfile(e),changeSlug:e=>this.checkSlugAvailability(e),changeTheme:e=>this.changeTheme(e),copyText:this.copyText}):""]}),!(0,R.C2)()&&(0,S.jsx)(o.A.Footer,{className:"d-flex justify-content-end",children:(0,S.jsx)("div",{children:(0,S.jsx)(a.A,{id:"save_bio_btn",className:`my-1 ${w?"spinner":""} ${u?"":"disabled"} ${"error"==g?"disabled":""}`,onClick:this.submitShopon,children:"Save"})})})]})}),(0,S.jsxs)(o.A,{className:"preview_ p_header_",children:[O.wallData&&O.wallData.length?(0,S.jsx)(o.A.Header,{children:(0,S.jsxs)("div",{className:"f-between w-100",children:[(0,S.jsx)("span",{className:"h5 mb-0 ",children:"Preview"}),(0,S.jsx)("div",{className:"d-none d-lg-block",children:(0,S.jsxs)(n.A,{className:"f-center",type:"radio",name:"device",value:j?1:2,onChange:this.changDevice,children:[(0,S.jsxs)(r.A,{variant:"animated",className:"me-0 btn "+(j?"btn-primary rounded-0 rounded-start":"btn-outline-primary rounded-0 border-end-0 rounded-start"),id:"laptop-btn",value:1,children:[(0,S.jsx)(b.gc,{icon:"desktop"}),"Desktop"]}),(0,S.jsxs)(r.A,{variant:"animated",className:"btn "+(j?"btn-outline-primary rounded-0 border-start-0 rounded-end":"btn-primary rounded-0 rounded-end"),id:"mobile-btn",value:2,children:[(0,S.jsx)(b.gc,{icon:"mobile"}),"Mobile"]})]})}),(0,S.jsx)("div",{children:(0,S.jsxs)(a.A,{id:"toggle_aside",variant:"link",size:"sm",className:"d-flex d-xl-none",onClick:()=>this.setState({filterToggle:!f}),children:["Menu",(0,S.jsx)(b.gc,{icon:"sliders",iconClass:"ms-2 lh-base"})]})})]})}):null,(0,S.jsx)(o.A.Body,{className:"f-center flex-wrap flex-column",children:!O.loadingShopon&&A&&x?O.wallData&&O.wallData.length?(0,S.jsx)("div",{id:"shop_preview",className:`scale_preview_wrap ${j?"laptop_active":"mobile_active"} ${2==h?"bg-black":"bg-white"}`,children:(0,S.jsxs)("div",{className:"scale_preview position-relative",children:[j?(0,S.jsx)("div",{className:"position-relative h-30px f-center",style:{zIndex:2},children:(0,S.jsx)(d.A,{src:(0,b.pc)(`media/images/mobile-bar-${2==h?"dark":"light"}.svg`),width:242,height:30,fluid:!0})}):null,(0,S.jsx)("iframe",{title:"theme_live_preview",src:`${v.C2_}/${m}?editor=1`,id:"shopOnBioPreview"})]})}):(0,S.jsxs)(S.Fragment,{children:[O.loadingShopon?null:(0,S.jsx)("div",{className:"position-absolute top-0 end-0 m-3",children:(0,S.jsxs)(a.A,{id:"toggle_aside",variant:"link",size:"sm",className:"d-flex d-xl-none",onClick:()=>this.setState({filterToggle:!f}),children:["Menu",(0,S.jsx)(b.gc,{icon:"sliders",iconClass:"ms-2 lh-base"})]})}),A&&A.length<=0?(0,S.jsx)(U.A,{title:"Preview missing? \ud83d\udc40",desc:"You skipped the preliminary step. Connect your social account to collect content and begin creating your gallery.",icon:"media",button:{action:()=>this.props.navigate(`/content/moderation/${localStorage.getItem("wallId")?localStorage.getItem("wallId"):""}`),text:"Add content"},isFullScreen:!1}):(0,S.jsx)(N,{title:"Your shopon.bio needs content! \ud83e\udd33",desc:"Oops! Seems like your Shopon.Bio landing page is missing posts at the moment. To create a captivating landing page, add content to your gallery or make some posts public.",vimeoCode:"989382372",button:{action:()=>this.props.navigate(`/content/addfeed/${localStorage.getItem("wallId")?localStorage.getItem("wallId"):""}`),text:"Add content"},isFullScreen:!1})]}):(0,S.jsx)(_.a,{})})]})]})}):O.shopOnListLoader?(0,S.jsx)("div",{style:{minHeight:"calc(100vh - 170px)"},children:(0,S.jsx)(_.a,{})}):(0,S.jsxs)("div",{className:"f-center",style:{minHeight:"calc(100vh - 50px)"},children:[(0,S.jsx)(N,{title:"Create a ShopOn, to start",desc:"Oops! Looks like you have deleted your ShopOn bio, create one by simply clicking on the button below.",vimeoCode:"989382372",button:{action:()=>this.props.navigate("/publish?addChannel=true&title='ShopOn'"),text:"Create ShopOn Bio"},isFullScreen:!0}),(0,S.jsx)(I.A,{title:"ShopOn bio",method:this.selectedShopOn,addNew:O.addShoponNew,noList:!0})]})})})]})}}const H=(0,A.Ng)((e=>{var s,i,t;return{allWalls:null===(s=e.dashboardData)||void 0===s||null===(i=s.dashboarddata)||void 0===i?void 0:i.allWalls,userData:null===(t=e.authorized)||void 0===t?void 0:t.userData,shopOnData:e.shopOnList}}),(e=>({CHANGE_SHOPON_WALL:(s,i)=>e((0,O.ay)(s,i)),UPDATE_SHOPON:(s,i)=>e((0,O.wR)(s,i)),getUserInfo_afterChanges:()=>e((0,k.AW)()),TOGGLE_ADD_SHOPON:()=>e({type:D.NBv,payload:!0}),SHOPON_TITLE_REDUCER:s=>e({type:D.A_q,payload:s}),SHOPON_DESCRIPTION_REDUCER:s=>e({type:D.gaL,payload:s}),SHOPON_LOGO_REDUCER:s=>e({type:D.RYB,payload:s}),SHOPON_TYPE_REDUCER:s=>e({type:D.Mg0,payload:s}),GET_ALL_SHOPON_LIST:()=>e((0,O.kq)()),SHOPON_BRAND_DATA_REDUCER:s=>e({type:D.IJo,payload:s})})))((0,T.A)(F))},75623:(e,s,i)=>{i.d(s,{A:()=>u});var t=i(48738),l=i.n(t),o=i(9950),a=i(44089),n=i(14531),r=i(77328),d=i(44414);const c=o.forwardRef(((e,s)=>{let{className:i,bsPrefix:t,as:o="span",...n}=e;return t=(0,a.oU)(t,"input-group-text"),(0,d.jsx)(o,{ref:s,className:l()(i,t),...n})}));c.displayName="InputGroupText";const h=c,p=o.forwardRef(((e,s)=>{let{bsPrefix:i,size:t,hasValidation:n,className:c,as:h="div",...p}=e;i=(0,a.oU)(i,"input-group");const u=(0,o.useMemo)((()=>({})),[]);return(0,d.jsx)(r.A.Provider,{value:u,children:(0,d.jsx)(h,{ref:s,...p,className:l()(c,i,t&&`${i}-${t}`,n&&"has-validation")})})}));p.displayName="InputGroup";const u=Object.assign(p,{Text:h,Radio:e=>(0,d.jsx)(h,{children:(0,d.jsx)(n.A,{type:"radio",...e})}),Checkbox:e=>(0,d.jsx)(h,{children:(0,d.jsx)(n.A,{type:"checkbox",...e})})})}}]);