{"version":3,"file":"static/js/6216.2a7b0049.chunk.js","mappings":"sOASA,MAiCA,EAjCqBA,KACjB,MAAMC,GAASC,EAAAA,EAAAA,KACTC,GAAWC,EAAAA,EAAAA,OACVC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,GAEjCC,EAAgBC,UAClB,IACI,MAAMC,GAAWC,EAAAA,EAAAA,IAAcC,EAAMC,OAC/B,KAAEC,EAAI,UAAEC,EAAS,KAAEC,GAASN,EACtB,kBAARM,GACIF,SAAYG,EAAAA,EAAAA,IAAiBC,SAASH,GAAYD,EAAM,IAAMX,GAASgB,EAAAA,EAAAA,IAA6BlB,EAAOmB,GAAId,KAAc,EAEzI,CAAE,MAAOe,GAET,GAeJ,OAZAC,EAAAA,EAAAA,WAAU,KACNnB,GAASgB,EAAAA,EAAAA,IAA6BlB,EAAOmB,GAAId,IACjDiB,OAAOC,iBAAiB,UAAWhB,GACnCiB,aAAaC,QAAQ,eAAgBzB,EAAOmB,IAC5CK,aAAaC,QAAQ,UAAWzB,EAAOmB,IACvCK,aAAaC,QAAQ,gBAAgB,GACrCD,aAAaC,QAAQ,eAAgBH,OAAOI,SAASC,SAASC,QAAQ,MAAO,KACtE,KACHN,OAAOO,oBAAoB,UAAWtB,KAE3C,IAEIH,GAAU0B,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KAAMD,EAAAA,EAAAA,KAACE,EAAAA,EAAa,CAACC,WAAW,I","sources":["app/Layout/Main/SocialAccount/ShareAccount.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { TAGGSHOP_SOCIAL_ACCOUNT_DATA } from \"../../../../actions/sceneActions\";\nimport { addAccountFromId } from \"../../../../utils/addAccount\";\nimport { Loader } from \"../CommonComponents/Loader\";\nimport SocialAccount from \"./SocialAccount\";\nimport { parseAUTHJson } from \"../../../../utils\";\n\nconst ShareAccount = () => {\n    const params = useParams();\n    const dispatch = useDispatch();\n    const [loading, setLoading] = useState(true);\n\n    const handleMessage = async (event) => {\n        try {\n            const response = parseAUTHJson(event.data);\n            const { code, networkId, type } = response;\n            if (type == 'connectAccount') {\n                if (code) await addAccountFromId(parseInt(networkId), code, () => dispatch(TAGGSHOP_SOCIAL_ACCOUNT_DATA(params.id, setLoading)), true);\n            }\n        } catch (error) {\n\n        }\n    };\n\n    useEffect(() => {\n        dispatch(TAGGSHOP_SOCIAL_ACCOUNT_DATA(params.id, setLoading))\n        window.addEventListener(\"message\", handleMessage);\n        localStorage.setItem('shared_token', params.id)\n        localStorage.setItem('ownerId', params.id)\n        localStorage.setItem('shareAccount', true)\n        localStorage.setItem('url_redirect', window.location.pathname.replace('/v2', ''))\n        return () => {\n            window.removeEventListener(\"message\", handleMessage);\n        }\n    }, [])\n\n    return loading ? <Loader /> : <SocialAccount isSharing={true} />\n\n}\n\nexport default ShareAccount"],"names":["ShareAccount","params","useParams","dispatch","useDispatch","loading","setLoading","useState","handleMessage","async","response","parseAUTHJson","event","data","code","networkId","type","addAccountFromId","parseInt","TAGGSHOP_SOCIAL_ACCOUNT_DATA","id","error","useEffect","window","addEventListener","localStorage","setItem","location","pathname","replace","removeEventListener","_jsx","Loader","SocialAccount","isSharing"],"sourceRoot":""}